(function(){ try {var elementStyle = document.createElement('style'); elementStyle.appendChild(document.createTextNode("@charset \"UTF-8\";.vjs-feedback-btn{margin-right:3.2em;width:7.2em;height:4.8em;border-radius:.8em;line-height:4.8em;background:rgba(255,255,255,.15);border:1px solid rgba(255,255,255,.9);font-weight:700;color:rgba(255,255,255,.9);text-align:center;cursor:pointer;-webkit-user-select:none;-moz-user-select:-moz-none;user-select:none}.vjs-feedback-btn span{font-size:2em}.vjs-network-check-modal-container{width:360px;background-color:#fff;position:absolute;top:50%;right:50%;transform:translate(50%,-50%)}.vjs-network-check-modal-container-header{width:100%;height:56px;padding:0 24px;display:flex;align-items:center;font-weight:700;font-size:16px;color:rgba(0,0,0,.85);justify-content:space-between;border-bottom:1px solid rgba(0,0,0,.06)}.vjs-network-check-modal-container-header-close-btn{width:16px;height:16px;background-image:url(https://cdn.ewt360.com/resources/app/prod/mst-video-player/dist/close.png);background-size:100%;cursor:pointer}.vjs-network-check-modal-container-body{padding:16px 24px;color:rgba(0,0,0,.85);font-size:14px;height:98px;line-height:22px}.vjs-network-check-modal-container-body-action-tip{color:#2e86ff}.vjs-network-check-modal-container-footer{display:flex;align-items:center;height:56px;margin-right:16px;flex-direction:row-reverse;color:#fff;border-top:1px solid rgba(0,0,0,.06)}.vjs-network-check-modal-container-footer-submit-btn{text-align:center;background:#2E86FF;width:88px;height:32px;line-height:32px;border-radius:2px;font-size:14px;cursor:pointer}.vjs-feedback-modal{position:absolute;width:100%;height:100%;background:rgba(0,0,0,.85)}.vjs-feedback-modal-container{width:520px;background-color:#fff;position:absolute;top:50%;right:50%;transform:translate(50%,-50%)}.vjs-feedback-modal-container-header{width:100%;height:56px;padding:0 24px;display:flex;align-items:center;font-weight:700;font-size:16px;color:rgba(0,0,0,.85);justify-content:space-between;border-bottom:1px solid rgba(0,0,0,.06)}.vjs-feedback-modal-container-header-close-btn{width:16px;height:16px;background-image:url(https://cdn.ewt360.com/resources/app/prod/mst-video-player/dist/close.png);background-size:100%;cursor:pointer}.vjs-feedback-modal-container-body{padding-top:16px}.vjs-feedback-modal-container-body-title{display:flex;font-size:12px;margin-bottom:8px;color:#666;align-items:center}.vjs-feedback-modal-container-body-title-spout{margin-right:8px;width:4px;height:8px;background:#2E86FF;border-radius:2px}.vjs-feedback-modal-container-body-top{padding-left:24px;display:flex}.vjs-feedback-modal-container-body-top-video-frame{width:186px}.vjs-feedback-modal-container-body-top-video-frame-title{text-align:left;font-size:12px;margin-bottom:10px;color:#666}.vjs-feedback-modal-container-body-top-video-frame-img{height:113px;width:160px;border:.67px solid #DDD;border-radius:2.67px;background-color:#000;background-size:contain;background-repeat:no-repeat;background-position:center}.vjs-feedback-modal-container-body-feedbackType-container{flex:1}.vjs-feedback-modal-container-body-feedbackTypes{display:flex;flex-wrap:wrap}.vjs-feedback-modal-container-body-feedbackTypes-item{color:#333;display:flex;align-items:center;flex:0 0 150px;max-width:150px;height:32px;font-size:14px}.vjs-feedback-modal-container-body-feedbackTypes-item .select-box{width:18px;height:18px;margin-right:8px;flex:0 0 auto;cursor:pointer;border-radius:50%;background:#FFF;border:1px solid rgba(0,0,0,.15)}.vjs-feedback-modal-container-body-feedbackTypes-item .be-selected{border:0;background-size:18px 18px;background-image:url(https://cdn.ewt360.com/resources/app/prod/mst-video-player/dist/be-selected.png)}.vjs-feedback-modal-container-body-feedbackTypes-item .option-text{max-width:214px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;font-size:14px;color:#333}.vjs-feedback-modal-container-body-feedbackTypes-title-error{color:#ff4d4f}.vjs-feedback-modal-container-body-bottom{padding:12px 16px 8px 24px}.vjs-feedback-modal-container-body-bottom-textarea{width:480px;height:80px;padding:8px;resize:none;outline:none;background:#FFF;border:1px solid #DDD;border-radius:4px;font-size:14px;color:#333}.vjs-feedback-modal-container-body-bottom-textarea::placeholder{color:#ccc}.vjs-feedback-modal-container-body-bottom-textarea-text-count{text-align:end;margin-top:4px;line-height:20px;height:20px;font-size:12px;color:#666}.vjs-feedback-modal-container-body-bottom-title-error{color:#ff4d4f}.vjs-feedback-modal-container-footer{display:flex;align-items:center;height:56px;margin-right:16px;flex-direction:row-reverse;color:#fff;border-top:1px solid rgba(0,0,0,.06)}.vjs-feedback-modal-container-footer .submit-btn{text-align:center;background:#2E86FF;width:64px;height:32px;line-height:32px;border-radius:2px;font-size:14px;cursor:pointer}.vjs-feedback-modal-loading{z-index:1;background:rgba(255,255,255,.5)!important}.vjs-toast{display:flex;position:absolute;align-items:center;padding:0 16px;left:50%;transform:translate(-50%);z-index:11;height:40px;border-radius:2px;border-width:1px;border-style:solid}.vjs-toast-icon{width:14px;height:14px;margin-right:7px;background-size:100% 100%}.vjs-toast-content{font-size:14px;color:rgba(0,0,0,.65)}.vjs-toast-common-pos{top:20px}.vjs-toast-success{background:#F6FFED;border-color:#b7eb8f}.vjs-toast-success .vjs-toast-icon{background-image:url(https://cdn.ewt360.com/resources/app/prod/mst-video-player/dist/toast-success.png)}.vjs-toast-error{background:#FFF1F0;border-color:#ffa39e}.vjs-toast-error .vjs-toast-icon{background-image:url(https://cdn.ewt360.com/resources/app/prod/mst-video-player/dist/toast-error.png)}.video-interactive-layer{align-items:center;display:flex;height:100%;justify-content:center;left:0;overflow:hidden;position:absolute;top:0;width:100%;z-index:10}.video-interactive-layer .video-interactive-container{display:flex;flex-grow:0;flex-shrink:0;font-family:PingFangSC,BlinkMacSystemFont,sans-serif;font-size:10px;height:100%;position:relative;width:100%}.video-interactive-layer .video-interactive-container .mask{height:100%;left:0;position:absolute;top:0;width:100%}.video-interactive-layer .video-interactive-container .align-center{align-items:center;display:flex;flex-direction:column;justify-content:center}.video-interactive-layer .question-container{height:100%;left:0;overflow:hidden;position:absolute;top:0;width:100%}.video-interactive-layer .question-container .question-image-container{align-items:center;display:flex;height:calc(100% - 7.4em);justify-content:center;width:100%}.video-interactive-layer .question-container .question-image-container .question-image{background-position:center;background-repeat:no-repeat;background-size:contain;opacity:0;transform:scale(.8);transform-origin:center center}.video-interactive-layer .question-container .question-combition{bottom:-13.2em;display:flex;justify-content:center;position:absolute;width:100%}.video-interactive-layer .question-container .question-combition .question-bottom{align-items:center;background:linear-gradient(180deg,rgba(255,255,255,.8509803922) 2%,rgba(255,255,255,.6509803922) 99%);border:1px solid rgba(255,255,255,.5);border-radius:6.2em;box-shadow:0 .2em .6em rgba(0,94,180,.3);box-sizing:border-box;display:flex;height:6em;justify-content:space-between;padding:0 2.4em}.video-interactive-layer .question-container .question-combition .question-bottom .action-btn-container{align-items:center;display:flex}.video-interactive-layer .question-container .question-combition .question-bottom .action-btn-container .type-word{color:#0d456e;line-height:1.4em;margin-right:1.6em}.video-interactive-layer .question-container .question-combition .question-bottom .action-btn-container .type-word span{font-size:1.4em}.video-interactive-layer .question-container .question-combition .question-bottom .action-btn-container .correct-tag{background-image:url(https://cdn.ewt360.com/resources/app/prod/mst-video-player/dist/correct-tag.png);background-position:center;background-repeat:no-repeat;background-size:100% 100%;box-sizing:border-box;height:1.8em;left:50%;position:absolute;top:75%;transform:translate(-50%);width:1.8em}.video-interactive-layer .question-container .question-combition .question-bottom .action-btn{align-items:center;border:.1em solid;border-radius:2.2em;display:flex;font-size:inherit;font-weight:600;height:4em;justify-content:center;line-height:1.8em;position:relative;width:4.8em}.video-interactive-layer .question-container .question-combition .question-bottom .action-btn span{font-size:1.8em}.video-interactive-layer .question-container .question-combition .question-bottom .action-judge{border:.1em solid;border-radius:2.2em;cursor:pointer;font-size:inherit;font-weight:600;height:4em;padding:1.3em 1.6em;position:relative;text-align:center;width:6em}.video-interactive-layer .question-container .question-combition .question-bottom .correct-btn{background:linear-gradient(180deg,#95de64 2%,#52c41a 100%)}.video-interactive-layer .question-container .question-combition .question-bottom .correct-btn-selected{background:linear-gradient(180deg,#52c41a 2%,#95de64 100%)}.video-interactive-layer .question-container .question-combition .question-bottom .error-btn{background:linear-gradient(180deg,#ff9c6e 0%,#fa541c 100%)}.video-interactive-layer .question-container .question-combition .question-bottom .error-btn-selected{background:linear-gradient(180deg,#fa541c 0%,#ff9c6e 100%)}.video-interactive-layer .question-container .question-combition .question-bottom .action-btn+.action-btn{margin-left:.8em}.video-interactive-layer .question-container .question-combition .question-bottom .action-judge+.action-judge{margin-left:.6em}.video-interactive-layer .question-container .question-combition .question-bottom .btn{align-items:center;background:linear-gradient(180deg,#dff1ff 0%,#bcdfff 100%);border-color:#fff;box-sizing:border-box;color:#1890ff;cursor:pointer;display:flex;font-size:inherit;justify-content:center}.video-interactive-layer .question-container .question-combition .question-bottom .btn-single{background:linear-gradient(180deg,#bcdfff 0%,#dff1ff 100%)}.video-interactive-layer .question-container .question-combition .question-bottom .action-submit{background:linear-gradient(180deg,#35c3ff 0%,#1890ff 100%);border:.1em solid rgba(255,255,255,.5019607843);border-radius:2.2em;cursor:pointer;font-size:inherit;height:4em;line-height:1.4em;margin-left:1.6em;width:6em}.video-interactive-layer .question-container .question-combition .question-bottom .action-submit span{color:#fff;font-size:1.4em;font-weight:600}.video-interactive-layer .question-container .question-combition .question-bottom .action-submit-selected{background:linear-gradient(180deg,#1890ff 0%,#35c3ff 100%)}.video-interactive-layer .question-container .question-combition .question-bottom .btn-selected{background:linear-gradient(180deg,#35c3ff 0%,#1890ff 100%);border-color:rgba(255,255,255,.5);color:#fff}.video-interactive-layer .question-container .question-combition .question-bottom .btn-disabled{background:rgba(0,0,0,.1490196078);border:0;border-radius:2.2em;cursor:not-allowed;height:4em;pointer-events:none;width:6em}.video-interactive-layer .question-container .question-combition .skip-container{align-items:center;background:linear-gradient(180deg,rgba(255,255,255,.8509803922) 2%,rgba(255,255,255,.6509803922) 99%);border-radius:2em;bottom:0;box-shadow:0 .2em .6em rgba(0,94,180,.3);display:flex;height:3.2em;justify-content:flex-end;line-height:1.2em;padding:.5em;position:absolute;right:1em;visibility:hidden}.video-interactive-layer .question-container .question-combition .skip-container .action-skip{cursor:pointer}.video-interactive-layer .question-container .question-combition .skip-container .action-skip span{color:#1890ff;font-weight:600;height:1.2em}.video-interactive-layer .question-container .question-combition .skip-container .skip-countdown{color:#0d456e;display:flex;width:2.4em;word-wrap:normal}.video-interactive-layer .question-container .question-combition .skip-container .skip-countdown span{align-items:flex-end;color:#0d456e;display:block;margin-right:.15em;width:1.3em}.video-interactive-layer .question-container-show .question-image-container .question-image{opacity:1;transform:scale(1);transition:all .5s ease-in-out}.video-interactive-layer .question-container-show .question-combition{transform:translateY(-14.4em);transition:all .5s ease-in-out}.video-interactive-layer .question-container-hide{pointer-events:none}.video-interactive-layer .question-container-hide .question-image-container .question-image,.video-interactive-layer .question-container-hide .question-bottom{transition:all .5s ease-in-out}.video-interactive-layer .loading-container{animation:fade-in .5s ease-in-out .5s forwards;background:rgba(0,0,0,.5);border-radius:1.5em;height:15em;opacity:0;width:18em}.video-interactive-layer .loading-container .loading-animation{height:9em;width:9em}.video-interactive-layer .loading-container .loading-word{color:#fff;line-height:1.4em;margin-top:1em}.video-interactive-layer .loading-container .loading-word span{font-size:1.4em}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.video-interactive-layer .retry-container{box-sizing:content-box;display:none;height:21.4em;padding-top:4em;position:relative;width:24em}.video-interactive-layer .retry-container .retry-bg{align-items:center;background:#fff;border-radius:1.2em;display:flex;flex-direction:column;height:13.4em;width:24em}.video-interactive-layer .retry-container .retry-bg .retry-word{color:#333;line-height:1.4em;margin-top:6em}.video-interactive-layer .retry-container .retry-bg .retry-word span{font-size:1.4em}.video-interactive-layer .retry-container .retry-bg .retry-actions{display:flex;height:3.2em;justify-content:space-between;margin-top:1.6em}.video-interactive-layer .retry-container .retry-bg .retry-actions .action-skip{align-items:center;border:.1em solid #1992ff;border-radius:1.6em;box-sizing:border-box;color:#1890ff;cursor:pointer;display:flex;font-weight:600;height:3.2em;justify-content:center;line-height:1.2em;margin-right:.8em;width:5.6em}.video-interactive-layer .retry-container .retry-bg .retry-actions .action-skip span{font-size:1.2em}.video-interactive-layer .retry-container .retry-bg .retry-actions .action-retry{align-items:center;background:#1890ff;border-radius:1.6em;color:#fff;cursor:pointer;display:flex;font-weight:600;height:3.2em;justify-content:center;line-height:1.2em;width:5.6em}.video-interactive-layer .retry-container .retry-bg .retry-actions .action-retry span{font-size:1.2em}.video-interactive-layer .retry-container .retry-logo{background-image:url(https://cdn.ewt360.com/resources/app/prod/mst-video-player/dist/retry.png);background-position:center;background-repeat:no-repeat;background-size:contain;height:8em;left:7.25em;position:absolute;top:0;width:9.5em}.video-interactive-layer .end-animation{height:50%;width:50%}.video-interactive-layer .interactive-x2{font-size:20px}.video-interactive-layer .interactive-x4{font-size:40px}.video-interactive-layer .interactive-x4 .question-container .question-bottom{border-width:2px}.mst-player-skin .vjs-definition>.vjs-menu-button{height:100%;left:0;position:absolute;top:0;width:100%}.mst-player-skin .vjs-definition .vjs-definition-value{pointer-events:none;text-align:center}.vjs-error-layer{align-items:center;background-color:#333;display:flex;flex-direction:column;justify-content:center;z-index:10}.vjs-error-layer .error-icon{background-image:url(https://cdn.ewt360.com/resources/app/prod/mst-video-player/dist/error-icon.png);background-position:center;background-repeat:no-repeat;background-size:contain;height:200px;width:200px}.vjs-error-layer .error-word{color:#fff;font-size:24px;font-weight:600;line-height:24px;margin-top:24px}.vjs-error-layer .error-code{color:#da4c4c}.vjs-error-layer .error-desc{color:#999;font-size:14px;line-height:14px;margin-top:16px}.vjs-error-layer .error-actions{display:flex;height:36px;margin-top:24px}.vjs-error-layer .action-btn{align-items:center;border:1px solid rgb(153,153,153);border-radius:18px;box-sizing:border-box;color:#fff;cursor:pointer;font-size:16px;height:36px;line-height:34px;text-align:center;width:128px}.vjs-error-layer .action-changeline{display:none;margin-left:20px}.vjs-error-layer .action-more{color:#999;cursor:pointer;font-size:14px;line-height:14px;margin-top:16px;text-decoration:underline}.vjs-error-layer .action-store,.vjs-error-layer .action-chrome{display:none}.vjs-error-layer .error-detail-container{align-items:center;background-color:#333;display:none;flex-direction:column;height:100%;justify-content:center;left:0;position:absolute;top:0;width:100%}.vjs-error-layer .error-detail{background-color:#000;border-radius:4px;color:#999;font-size:14px;height:50%;line-height:22px;margin-top:24px;overflow-y:scroll;padding:16px;text-align:center;width:50%;word-wrap:break-word}.vjs-error-layer .action-close{margin-top:20px}.vjs-loading-layer{align-items:center;background-color:#333;display:flex;flex-direction:column;justify-content:center;opacity:1;transition:.3s all linear}.vjs-loading-layer .vjs-loading-layer-loading{animation:loading-circle infinite .75s linear;border:2px solid rgb(199,222,255);border-radius:100%;border-top-color:#2f86ff;height:30px;position:relative;width:30px}@keyframes loading-circle{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.vjs-loading-layer .vjs-loading-layer-timeout{display:none;flex-direction:column;align-items:center;margin-top:16px;font-size:14px;color:#fff}.vjs-loading-layer .vjs-loading-layer-timeout .vjs-loading-layer-timeout-desc{line-height:22px;margin-bottom:12px}.vjs-loading-layer .vjs-loading-layer-timeout .vjs-loading-layer-timeout-action{width:80px;height:32px;border:1px solid rgba(255,255,255,.5);border-radius:16px;text-align:center;line-height:30px;cursor:pointer;-webkit-user-select:none;-moz-user-select:-moz-none;user-select:none}.progress-model{background:rgba(0,0,0,.8);border-radius:.4em;bottom:11em;height:5.4em;line-height:5.4em;text-align:center;padding:0 2.4em;left:50%;position:absolute;transform:translate(-50%);transition:opacity 2.5s ease-in-out;white-space:nowrap}.progress-model span{color:#fff;font-size:2.4em}.progress-model-disappear{opacity:0!important}.progress-model-none{display:none}.vjs-audio-bg{background-color:#262222}.vjs-audio-bg .audio-bg-icon{background-image:url(https://cdn.ewt360.com/resources/app/prod/mst-video-player/dist/audio-bg-icon.png);background-position:center;background-repeat:no-repeat;background-size:contain;height:100%;width:100%}.vjs-tip-btn{padding:0 1em;height:3.6em;box-sizing:border-box;display:flex;justify-content:center;align-items:center;position:relative;cursor:pointer}.vjs-tip-btn .vjs-tip-btn-icon{width:2em;height:2em;display:flex;justify-content:center;align-items:center}.vjs-tip-btn .vjs-tip-btn-word{color:#fff;pointer-events:none;-webkit-user-select:none;-moz-user-select:-moz-none;user-select:none}.vjs-tip-btn .vjs-tip-btn-word:empty{display:none}.vjs-tip-btn .vjs-tip-btn-tip{background-color:rgba(0,0,0,.8);padding:0 .8em;height:2.3em;line-height:2.3em;position:absolute;bottom:3.6em;white-space:nowrap;border-radius:.2em;z-index:3;display:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:-moz-none;user-select:none}.vjs-tip-btn .vjs-tip-pos-left{left:0}.vjs-tip-btn .vjs-tip-pos-right{right:0}.vjs-tip-btn .vjs-tip-pos-center{left:50%;transform:translate(-50%)}.vjs-control-center{height:2.4em;background:rgba(255,255,255,.15);border-radius:1.25em;padding:0 1.3em 0 .8em;position:absolute;left:50%;bottom:.6em;transform:translate(-50%);display:flex;align-items:center;justify-content:center}.vjs-control-center:empty{display:none}.vjs-control-center>div+div{margin-left:1.6em}.vjs-title{padding-left:1.489em;height:3.929em;line-height:3.929em;color:#fff;font-size:2.8em;font-weight:700;overflow:hidden;white-space:nowrap;max-width:75%;text-overflow:ellipsis;-webkit-user-select:none;-moz-user-select:-moz-none;user-select:none}.vjs-mst-menu{position:relative;height:2em;display:flex;justify-content:center;align-items:center;-webkit-user-select:none;-moz-user-select:-moz-none;user-select:none}.vjs-mst-menu .mst-menu-icon{width:2em;height:2em;display:flex;justify-content:center;align-items:center;cursor:pointer}.vjs-mst-menu .mst-menu-button{color:rgba(255,255,255,.9);font-weight:700;line-height:2em;cursor:pointer}.vjs-mst-menu .mst-menu-container{width:17.2em;border-radius:.2em;background-color:rgba(0,0,0,.8);position:absolute;left:50%;transform:translate(-50%);bottom:2.8em;display:none;z-index:3}.vjs-mst-menu .mst-menu-container .mst-menu-title{display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid rgba(255,255,255,.15);height:2.3em;pointer-events:none;font-weight:700;color:rgba(255,255,255,.9);padding:0 .6em 0 .8em}.vjs-mst-menu .mst-menu-container .mst-menu-title .mst-menu-title-more{font-size:.6em;color:rgba(255,255,255,.65);font-weight:400}.vjs-mst-menu .mst-menu-container .mst-menu-list{padding:.6em 0 .4em .6em;max-height:20.85em;overflow-x:hidden;overflow-y:auto}.vjs-mst-menu .mst-menu-container .mst-menu-list::-webkit-scrollbar{width:.3em}.vjs-mst-menu .mst-menu-container .mst-menu-list::-webkit-scrollbar-thumb{border-radius:.15em;background:rgba(255,255,255,.5)}.vjs-mst-menu .mst-menu-container .mst-menu-list::-webkit-scrollbar-track{border-radius:.15em;background:transparent}.vjs-mst-menu .mst-menu-container .mst-menu-list .mst-menu-separate{width:16em;height:1.2em;background-color:rgba(255,255,255,.08);border-radius:.6em;margin-bottom:.2em;color:rgba(255,255,255,.65);-webkit-user-select:none;-moz-user-select:-moz-none;user-select:none;display:flex;justify-content:center;align-items:center}.vjs-mst-menu .mst-menu-container .mst-menu-list .mst-menu-separate span{font-size:.6em;line-height:1}.vjs-mst-menu .mst-menu-container .mst-menu-list .mst-menu-item{width:16em;padding:.6em;box-sizing:border-box;border-radius:.4em;margin-bottom:.2em;display:flex;align-items:center;color:#fff;cursor:pointer}.vjs-mst-menu .mst-menu-container .mst-menu-list .mst-menu-item:hover{background:rgba(255,255,255,.08)}.vjs-mst-menu .mst-menu-container .mst-menu-list .mst-menu-item .item-tag{min-width:1.8em;padding:0 .2em;height:1em;margin-right:.6em;background-color:rgba(255,255,255,.15);flex-shrink:0;border-radius:2px;display:flex;align-items:center;justify-content:center}.vjs-mst-menu .mst-menu-container .mst-menu-list .mst-menu-item .item-tag span{font-size:.7em;line-height:1}.vjs-mst-menu .mst-menu-container .mst-menu-list .mst-menu-item .item-word{font-size:.7em;line-height:1.429em;word-break:break-all;flex:1;text-align:left}.vjs-mst-menu .mst-menu-container .mst-menu-list .mst-menu-item .item-icon{width:2.35em;height:1em;display:none;align-items:center;justify-content:flex-end;flex-shrink:0}.vjs-mst-menu .mst-menu-container .mst-menu-list .mst-menu-item .item-icon .item-icon-real{width:1.6em;height:1.6em;display:flex;justify-content:center;align-items:center}.vjs-mst-menu .mst-menu-container .mst-menu-list .mst-menu-item .item-more{font-size:.6em;line-height:1.125;width:5em;text-align:right;overflow:hidden;white-space:nowrap;color:rgba(255,255,255,.5);flex-shrink:0}.vjs-mst-menu .mst-menu-container .mst-menu-list .mst-menu-item.mst-done{color:rgba(255,255,255,.5)}.vjs-mst-menu .mst-menu-container .mst-menu-list .mst-menu-item.mst-playing{background:rgba(255,255,255,.08)}.vjs-mst-menu .mst-menu-container .mst-menu-list .mst-menu-item.mst-playing .item-icon{display:flex}.vjs-mst-menu .mst-menu-container .mst-menu-list .mst-menu-item.mst-playing .item-more{display:none}.vjs-mst-menu .mst-menu-container .mst-menu-block{position:absolute;left:0;bottom:-.8em;right:0;height:.8em}.vjs-hover .mst-menu-container{display:block}.mst-player-skin .video-js .vjs-lines,.mst-player-skin .video-js .vjs-lines .vjs-menu{width:4.5em}.mst-player-skin .video-js .vjs-lines .vjs-line-value{pointer-events:none;-webkit-user-select:none;-moz-user-select:-moz-none;user-select:none;text-align:center}.mst-player-skin .video-js .vjs-lines>.vjs-menu-button{height:100%;left:0;position:absolute;top:0;width:100%}.vjs-hot-keys{display:flex;align-items:center}.vjs-hot-keys .vjs-hot-keys-line{width:1px;height:1em;background-color:rgba(255,255,255,.3)}.vjs-hot-keys .vjs-mirror .vjs-tip-btn-icon{transform:scaleX(-1)}.mst-volume-panel .mst-volume-click{position:absolute;left:0;top:0;width:100%;height:100%}.mst-volume-panel .mst-volume-mute{background:url(https://cdn.ewt360.com/resources/app/prod/mst-video-player/dist/mute.png) center/contain no-repeat}.mst-volume-panel .mst-volume-control{width:2.8em;height:10.25em;border-radius:.2em;background:rgba(0,0,0,.8);position:absolute;left:50%;transform:translate(-50%);bottom:3.6em;display:none}.mst-volume-panel .mst-volume-control .mst-volume-value{text-align:center;line-height:1.1em;height:1.1em;margin-top:1em;-webkit-user-select:none;-moz-user-select:-moz-none;user-select:none}.mst-volume-panel .mst-volume-control .vjs-volume-bar.vjs-slider-vertical{height:6.5em;width:2em;margin:.6em auto 0;background-color:transparent}.mst-volume-panel .mst-volume-control .vjs-volume-bar.vjs-slider-vertical:before{content:\" \";position:absolute;left:50%;transform:translate(-50%);bottom:0;height:6.5em;width:.2em;border-radius:.125em;background-color:rgba(255,255,255,.5)}.mst-volume-panel .mst-volume-control .vjs-volume-bar.vjs-slider-vertical .vjs-volume-level{width:2em;background-color:transparent}.mst-volume-panel .mst-volume-control .vjs-volume-bar.vjs-slider-vertical .vjs-volume-level:before{font-size:.7em;line-height:1;left:50%;top:0;transform:translate(-50%,-50%)}.mst-volume-panel .mst-volume-control .vjs-volume-bar.vjs-slider-vertical .vjs-volume-level:after{content:\" \";position:absolute;left:50%;transform:translate(-50%);bottom:0;top:0;width:.2em;border-radius:.125em;background-color:#2d86fe}.mst-volume-panel.vjs-hover .mst-volume-control,.mst-volume-panel.vjs-slider-active .mst-volume-control{display:block}.mst-player-skin .video-js .vjs-progress-control{height:1.9em;left:0;position:absolute;top:0;width:100%;padding:0 1em;box-sizing:border-box}.mst-player-skin .video-js .vjs-progress-control .vjs-progress-holder{margin:0;height:.15em;background-color:rgba(255,255,255,.32);border-radius:4px;pointer-events:none}.mst-player-skin .video-js .vjs-progress-control .vjs-progress-holder .vjs-play-progress,.mst-player-skin .video-js .vjs-progress-control .vjs-progress-holder .vjs-load-progress,.mst-player-skin .video-js .vjs-progress-control .vjs-progress-holder .vjs-load-progress div{border-radius:4px}.mst-player-skin .video-js .vjs-progress-control .vjs-progress-holder .vjs-load-progress{background-color:transparent}.mst-player-skin .video-js .vjs-progress-control .vjs-progress-holder .vjs-load-progress div{background-color:rgba(255,255,255,.5)}.mst-player-skin .video-js .vjs-progress-control .vjs-progress-holder .vjs-mouse-display{background-color:transparent;pointer-events:none;-webkit-user-select:none;-moz-user-select:-moz-none;user-select:none}.mst-player-skin .video-js .vjs-progress-control .vjs-progress-holder .vjs-mouse-display .vjs-time-tooltip{line-height:2.3em;background:rgba(255,255,255,.9);border-radius:.2em;padding:0 .8em;color:#333;top:-2.8em}.mst-player-skin .video-js .vjs-progress-control .vjs-progress-holder .vjs-play-progress{background:#2d86fe}.mst-player-skin .video-js .vjs-progress-control .vjs-progress-holder .vjs-play-progress:before{display:none}.mst-player-skin .video-js .vjs-progress-control .vjs-progress-holder .vjs-play-progress .vjs-time-tooltip{display:none!important}.mst-player-skin .video-js .vjs-progress-control .vjs-progress-holder .vjs-progress-markers{position:absolute;left:0;right:0;height:.15em;top:50%;transform:translateY(-50%);pointer-events:none}.mst-player-skin .video-js .vjs-progress-control .vjs-progress-holder .vjs-progress-markers .vjs-marker-point{width:.4em;height:.4em;position:absolute;transform-origin:50% 50%;transform:translate(-50%,-50%) rotate(45deg);background-color:#fff;top:50%}.mst-player-skin .video-js .vjs-progress-control .vjs-progress-holder .vjs-seek-icon{width:1.2em;height:1.2em;background-position:center;background-repeat:no-repeat;background-size:contain;background-image:url(https://cdn.ewt360.com/resources/app/prod/mst-video-player/dist/progress-icon.png);position:absolute;top:50%;transform-origin:50% 50%;transform:translate(-50%,-50%) scale(0);transition:transform .2s;pointer-events:none;z-index:3}.mst-player-skin .video-js .vjs-progress-control:hover .vjs-progress-holder .vjs-seek-icon,.mst-player-skin .video-js.vjs-mobile .vjs-progress-control .vjs-progress-holder .vjs-seek-icon{transform:translate(-50%,-50%) scale(1)}.vjs-video-tag-entry{z-index:3;position:relative}.vjs-video-tag-entry-hidden{display:none}.vjs-video-tag-entry .vjs-tip-btn{padding:0}.vjs-video-tag-entry .vjs-tip-btn .vjs-tip-btn-word{font-weight:700}.vjs-video-tag-relative-toast{top:auto;bottom:11em}.vjs-video-add-tag-mask{z-index:10;position:absolute;top:0;left:0;width:100%;height:100%}.vjs-video-add-tag-mask-close-icon{top:12px;right:12px;width:16px;height:16px;background-size:100% 100%;background-repeat:no-repeat;position:absolute;background-image:url(https://cdn.ewt360.com/resources/app/prod/mst-video-player/dist/tag-close.png);cursor:pointer}.vjs-video-add-tag-modal{padding:16px 23px 24px 24px;left:50%;transform:translate(-50%);position:absolute;bottom:7.5em;width:559px;height:192px;box-sizing:content-box;background:rgba(0,0,0,.8);border-radius:8px}.vjs-video-add-tag-modal-tip{color:#fff;display:flex;font-size:18px;line-height:26px;margin-bottom:16px}.vjs-video-add-tag-modal-tip-action{margin-left:16px;font-size:14px;color:rgba(255,255,255,.65)}.vjs-video-add-tag-modal-lists{display:flex}.vjs-video-add-tag-modal-item{width:96px;height:110px;margin-right:8px;background:rgba(255,255,255,.08);border-radius:8px;position:relative;cursor:pointer}.vjs-video-add-tag-modal-item-hor-center{left:50%;position:absolute;transform:translate(-50%)}.vjs-video-add-tag-modal-item-icon{width:36px;height:36px;top:20px}.vjs-video-add-tag-modal-item-text{width:100%;text-align:center;bottom:12px;max-width:90%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-size:16px;color:rgba(255,255,255,.85);line-height:24px}.vjs-video-add-tag-modal-item:hover{background:rgba(255,255,255,.15)}.vjs-video-add-tag-modal-item:last-child{margin-right:0}.vjs-video-add-tag-after-tip-modal{z-index:10;width:420px;height:334px;left:20px;background:rgba(0,0,0,.8);border-radius:8px;position:absolute;bottom:10em;display:flex;flex-direction:column;align-items:center;padding:12px 12px 24px}.vjs-video-add-tag-after-tip-modal-img{width:396px;height:220px;background-size:contain;background-position:center;background-image:url(https://cdn.ewt360.com/resources/app/prod/mst-video-player/dist/after-add-tip.png)}.vjs-video-add-tag-after-tip-modal-text{font-size:16px;color:#fff;text-align:center;line-height:24px;margin-bottom:16px}.vjs-video-add-tag-after-tip-modal-bottom{display:flex}.vjs-video-add-tag-after-tip-modal-bottom-button{width:125px;height:36px;color:#fff;border:1px solid rgba(255,255,255,.5);border-radius:19px;font-weight:600;font-size:16px;text-align:center;line-height:36px;cursor:pointer}.vjs-video-add-tag-after-tip-modal-bottom-cancel{text-align:center;margin-right:12px}.vjs-video-add-tag-after-tip-modal-bottom-confirm{border-color:#2d86fe;background:#2D86FE}.vjs-video-tag-hidden .vjs-tag-list{display:none}.vjs-tag-list{position:absolute;left:0;right:0;height:.15em;top:50%;transform:translateY(-50%)}.vjs-tag-list .vjs-tag-point{pointer-events:auto;width:.4em;height:.4em;border-radius:50%;position:absolute;top:50%;transform-origin:50% 50%;transform:translate(-50%,-50%);transition-property:width height;transition-duration:.1s}.vjs-tag-list .vjs-tag-point .extra-padding{height:calc(22px - .1em);width:200px;top:-12px;display:none;position:absolute}.vjs-tag-list .mouseover-tag-point{width:24px;height:24px;background-size:contain;z-index:1}.vjs-tag-list .mouseover-tag-point .extra-padding{display:block}.vjs-tag-list .vjs-tag-detail-modal{z-index:2;position:absolute;width:200px;height:150px;top:-12px;transform:translateY(-100%);border:3px solid #000;border-radius:8px}.vjs-tag-list .vjs-tag-detail-modal-content{width:100%;height:100%;border-radius:3px;background-color:#000;background-size:contain;background-repeat:no-repeat;background-position:center}.vjs-tag-list .vjs-tag-detail-modal-content-tagName{display:flex;align-items:center;justify-content:center;height:24px;left:8px;top:8px;padding:0 5px;border-radius:4px;position:absolute;font-size:12px;color:#fff}.vjs-tag-list .vjs-tag-detail-modal-play-icon{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:36px;height:36px;background:rgba(0,0,0,.45);border-radius:18px;background-repeat:no-repeat;background-size:14px 16px;background-position:center;background-image:url(https://cdn.ewt360.com/resources/app/prod/mst-video-player/dist/tag-play.png)}.vjs-tag-list .vjs-tag-detail-modal-info{width:100%;position:absolute;bottom:0;padding:0 9px 0 12px;display:flex;align-items:center;justify-content:space-between;height:32px;background:rgba(0,0,0,.45);border-radius:0 0 8px 8px}.vjs-tag-list .vjs-tag-detail-modal-info-timeStamp{font-size:14px;color:#fff;line-height:22px}.vjs-tag-list .vjs-tag-detail-modal-info-delete-icon{width:14px;height:16px;background-size:100% 100%;background-repeat:no-repeat;background-image:url(https://cdn.ewt360.com/resources/app/prod/mst-video-player/dist/tag-delete.png)}.vjs-tag-list .vjs-tag-detail-modal-delete-confirm{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;background:rgba(0,0,0,.85);border-radius:4px;position:absolute}.vjs-tag-list .vjs-tag-detail-modal-delete-confirm-text{margin-top:39px;margin-bottom:19px;font-size:14px;color:#fff;line-height:22px}.vjs-tag-list .vjs-tag-detail-modal-delete-confirm-action{display:flex}.vjs-tag-list .vjs-tag-detail-modal-delete-confirm-action-button{width:54px;height:28px;font-size:14px;border-width:1px;border-style:solid;border-radius:14px;line-height:26px}.vjs-tag-list .vjs-tag-detail-modal-delete-confirm-action-cancel{border-color:#fff;margin-right:16px}.vjs-tag-list .vjs-tag-detail-modal-delete-confirm-action-ok{border-color:#2d86fe;background:#2D86FE}.mst-player-skin .mst-text-track-display{position:absolute;pointer-events:none;-webkit-user-select:none;-moz-user-select:-moz-none;user-select:none;word-wrap:break-word}.mst-player-skin .mst-text-track-display .vjs-text-track-cue{line-height:1.3!important}.mst-player-skin .vjs-subtitles-toggle .vjs-subtitles-beta{background:url(https://cdn.ewt360.com/resources/app/prod/mst-video-player/dist/beta.png) center/contain no-repeat;position:absolute;right:.15em;top:.65em;width:1.35em;height:.65em}.vjs-rate-playing{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);height:5.6em;background-color:rgba(0,0,0,.7);border-radius:.8em;display:flex;align-items:center;color:#fff;padding:0 2.4em}.vjs-rate-playing .rate-playing-icon{height:1.8em;margin-right:1.6em}.vjs-rate-playing .rate-playing-rate{color:#faad14;margin-right:1.2em;height:5.6em;line-height:5.6em}.vjs-rate-playing .rate-playing-rate span{font-size:2.4em}.vjs-rate-playing .rate-playing-word{height:5.6em;line-height:5.6em}.vjs-rate-playing .rate-playing-word span{font-size:2.4em}.vjs-modal-dialog .vjs-modal-dialog-content,.video-js .vjs-modal-dialog,.vjs-button>.vjs-icon-placeholder:before,.video-js .vjs-big-play-button .vjs-icon-placeholder:before{position:absolute;top:0;left:0;width:100%;height:100%}.vjs-button>.vjs-icon-placeholder:before,.video-js .vjs-big-play-button .vjs-icon-placeholder:before{text-align:center}@font-face{font-family:VideoJS;src:url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAABDkAAsAAAAAG6gAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADsAAABUIIslek9TLzIAAAFEAAAAPgAAAFZRiV3hY21hcAAAAYQAAADaAAADPv749/pnbHlmAAACYAAAC3AAABHQZg6OcWhlYWQAAA3QAAAAKwAAADYZw251aGhlYQAADfwAAAAdAAAAJA+RCLFobXR4AAAOHAAAABMAAACM744AAGxvY2EAAA4wAAAASAAAAEhF6kqubWF4cAAADngAAAAfAAAAIAE0AIFuYW1lAAAOmAAAASUAAAIK1cf1oHBvc3QAAA/AAAABJAAAAdPExYuNeJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBmg4gCACY7BUgAeJxjYGS7wTiBgZWBgaWQ5RkDA8MvCM0cwxDOeI6BgYmBlZkBKwhIc01hcPjI+FGJHcRdyA4RZgQRADK3CxEAAHic7dFZbsMgAEXRS0ycyZnnOeG7y+qC8pU1dHusIOXxuoxaOlwZYWQB0Aea4quIEN4E9LzKbKjzDeM6H/mua6Lmc/p8yhg0lvdYx15ZG8uOLQOGjMp3EzqmzJizYMmKNRu27Nhz4MiJMxeu3Ljz4Ekqm7T8P52G8PP3lnTOVk++Z6iN6QZzNN1F7ptuN7eGOjDUoaGODHVsuvU8MdTO9Hd5aqgzQ50b6sJQl4a6MtS1oW4MdWuoO0PdG+rBUI+GejLUs6FeDPVqqDdDvRvqw1CfhpqM9At0iFLaAAB4nJ1YDXBTVRZ+5/22TUlJ8we0pHlJm7RJf5O8F2j6EymlSPkpxaL8U2xpa3DKj0CBhc2IW4eWKSokIoLsuMqssM64f+jA4HSdWXXXscBq67IOs3FXZ1ZYWVyRFdo899yXtIBQZ90k7717zz3v3HPPOfd854YCCj9cL9dL0RQFOqCbGJnrHb5EayiKIWN8iA/hWBblo6hUWm8TtCDwE80WMJus/irwyxOdxeB0MDb14VNJHnXYoLLSl6FfCUYO9nYPTA8Epg9090LprfbBbZ2hY0UlJUXHQp3/vtWkS6EBv8+rPMq5u9692f/dNxJNiqwC1xPE9TCUgCsSdQWgE3XQD25lkG4CN2xmTcOXWBOyser6RN6KnGbKSbmQ3+d0OI1m2W8QzLLkI2sykrWAgJJEtA8vGGW/2Q+CmT3n8zS9wZwu2DCvtuZKZN3xkrLh36yCZuUomQSqGpY8t/25VfHVhw8z4ebGBtfLb0ya9PCaDc+8dGTvk2dsh6z7WzvowlXKUSWo9MJ15a3KrEP2loOr2Ojhw6iW6hf2BDdEccQvZGpaAy7YovSwq8kr7HGllxpd71rkS6G0Sf11sl9OvMK1+jwPPODxjUwkOim9CU3ix1wNjXDfmJSEn618Bs6lpWwUpU+8PCqLMY650zjq8VhCIP17NEKTx3eaLL+s5Pi6yJWaWjTHLR1jYzPSV9VF/6Ojdb/1kO3Mk3uhHC0x6gc1BjlKQ+nQFxTYdaJkZ7ySVxLBbhR1dsboNXp1tCYKW2LRaEzpYcIx2BKNxaL0ZaUnSqfFoiNhHKR/GkX6PWUSAaJelQaqZL1EpoHNsajSEyPSoJ9IjhIxTdjHLmwZvhRDOiFTY/YeQnvrVZmiTQtGncECXtFTBZLOVwwMRgoXHAkXzMzPn1nAJJ8jYSbMDaqN2waGLzNhih/bZynUBMpIWSg7VYi7DRx2m8ALkIdRCJwI6ArJx2EI8kaDWeTQKeAFk9fjl/1AvwktjQ1P7NjyMGQyfd4vjipX6M/i52D7Cq80kqlcxEcGXRr/FEcgs0u5uGgB4VWuMFfpdn2Re6Hi3PqzmxWKsz6+ae2Pn9hXXw/fqM859UiGC0oKYYILJBqJrsn1Z1E5qOs9rQCiUQRREjm8yJcbHF5cUJufX1vAHlefw0XgUoboS3ETfQlTxBC4SOtuE8VPRJTBSCQSjZCpk7Gqzu+masaZ2y7Zjehho4F3g82BNDkAHpORG4+OCS+f6JTPmtRn/PH1kch6d04sp7AQb25aQ/pqUyXeQ8vrebG8OYQdXOQ+585u0sdW9rqalzRURiJ+9F4MweRFrKUjl1GUYhH1A27WOHw5cTFSFPMo9EeUIGnQTZHIaJ7AHLaOKsOODaNF9jkBjYG2QEsQ2xjMUAx2bBEbeTBWMHwskBjngq56S/yfgkBnWBa4K9sqKtq2t1UI8S9He5XuBRbawAdatrQEAi30Aks2+LM8WeCbalVZkWNylvJ+dqJnzVb+OHlSoKW8nPCP7Rd+CcZ2DdWAGqJ2CBFOphgywFFCFBNtfAbGtNPBCwxvygHeYMZMY9ZboBqwq/pVrsbgN5tkv152ODlbMfiqwGMBgxa4Exz3QhovRIUp6acqZmQzRq0ypDXS2TPLT02YIkQETnOE445oOGxOmXAqUJNNG7XgupMjPq2ua9asrj5yY/yuKteO1Kx0YNJTufrirLe1mZnat7OL6rnUdCWenpW6I8mAnbsY8KWs1PuSovCW9A/Z25PQ24a7cNOqgmTkLmBMgh4THgc4b9k2IVv1/g/F5nGljwPLfOgHAzJzh45V/4+WenTzmMtR5Z7us2Tys909UHqrPY7KbckoxRvRHhmVc3cJGE97uml0R1S0jdULVl7EvZtDFVBF35N9cEdjpgmAiOlFZ+Dtoh93+D3zzHr8RRNZQhnCNMNbcegOvpEwZoL+06cJQ07h+th3fZ/7PVbVC6ngTAV/KoLFuO6+2KFcU651gEb5ugPSIb1D+Xp8V4+k3sEIGnw5mYe4If4k1lFYr6SCzmM2EQ8iWtmwjnBI9kTwe1TlfAmXh7H02by9fW2gsjKwtv0aaURKil4OdV7rDL1MXIFNrhdxohcZXYTnq47WisrKitaObbf5+yvkLi5J6lCNZZ+B6GC38VNBZBDidSS/+mSvh6s+srgC8pyKMvDtt+de3c9fU76ZPfuM8ud4Kv0fyP/LqfepMT/3oZxSqpZaTa1DaQYLY8TFsHYbWYsPoRhRWfL5eSSQbhUGgGC3YLbVMk6PitTFNGpAsNrC6D1VNBKgBHMejaiuRWEWGgsSDBTJjqWIl8kJLlsaLJ2tXDr6xGfT85bM2Q06a46x2HTgvdnV8z5YDy/27J4zt6x2VtkzjoYpkq36kaBr4eQSg7tyiVweWubXZugtadl58ydapfbORfKsDTuZ0OBgx4cfdjCf5tbWNITnL120fdOi1RV1C3uKGzNdwYLcMvZ3BxoPyTOCD1XvXTp7U10gWCVmTV9b3r2z0SkGWovb2hp9I89O8a2smlyaO8muMU+dRmtzp60IzAoFpjLr1n388boLyf0dRvxhsHZ0qbWqDkwqvvpkj4l0fY6EIXRi5sQSrAvsVYwXRy4qJ2EVtD1AN7a0HWth9ymvL1xc3WTUKK/TAHA/bXDVtVWfOMfuGxGZv4Ln/jVr9jc3j1yMv0tndmyt9Vq88Y9gH1wtLX3KWjot5++jWHgAoZZkQ14wGQ20Fli71UmKJAy4xKMSTGbVdybW7FDDAut9XpD5AzWrYO7zQ8qffqF8+Ynd/clrHcdyxGy3a/3+mfNnzC/cBsveTjnTvXf1o6vzOlZw7WtqtdmPK/Errz/6NNtD72zmNOZfbmYdTGHfoofqI79Oc+R2n1lrnL6pOm0Up7kwxhTW12Amm7WYkXR2qYrF2AmgmbAsxZjwy1xpg/m1Je2vrp8v/nz2xpmlBg4E9hrMU341wVpTOh/OfmGvAnra8q6uctr60ZQHV3Q+WMQJykMj8ZsWn2QBOmmHMB+m5pDIpTFonYigiaKAhGEiAHF7EliVnQkjoLVIMPtJpBKHYd3A8GYH9jJzrWwmHx5Qjp7vDAX0suGRym1vtm/9W1/HyR8vczfMs6Sk8DSv855/5dlX9oQq52hT8syyp2rx5Id17IAyAM3wIjQPMOHzytEB64q6D5zT91yNbnx3V/nqnd017S9Y0605k3izoXLpsxde2n38yoOV9s1LcjwzNjbdX6asnBVaBj/6/DwKwPkpcqbDG7BnsXoSqWnUAmottYF6jMSdVyYZh3zVXCjwTiwwHH6sGuRiEHQGzuRX6whZkp123oy1BWE2mEfJ/tvIRtM4ZM5bDXiMsPMaAKOTyc5uL57rqyyc5y5JE5pm1i2S2iUX0CcaQ6lC6Zog7JqSqZmYlosl2K6pwNA84zRnQW6SaALYZQGW5lhCtU/W34N6o+bKfZ8cf3/Cl/+iTX3wBzpOY4mRkeNf3rptycGSshQWgGbYt5jFc2e0+DglIrwl6DVWQ7BuwaJ3Xk1J4VL5urnLl/Wf+gHU/hZoZdKNym6lG+I34FaNeZKcSpJIo2IeCVvpdsDGfKvzJnAwmeD37Ow65ZWwSowpgwX5T69s/rB55dP5BcpgDKFV8p7q2sn/1uc93bVzT/w6UrCqDTWvfCq/oCD/qZXNoUj8BL5Kp6GU017frfNXkAtiiyf/SOCEeLqnd8R/Ql9GlCRfctS6k5chvIBuQ1zCCjoCHL2DHNHIXxMJ3kQeO8lbsUXONeSfA5EjcG6/E+KdhN4bP04vBhdi883+BFBzQbxFbvZzQeY9LNBZc0FNfn5NwfDn6rCTnTw6R8o+gfpf5hCom33cRuiTlss3KHmZjD+BPN+5gXuA2ziS/Q73mLxUkpbKN/eqwz5uK0X9F3h2d1V4nGNgZGBgAOJd776+iue3+crAzc4AAje5Bfcg0xz9YHEOBiYQBQA8FQlFAHicY2BkYGBnAAGOPgaG//85+hkYGVCBMgBGGwNYAAAAeJxjYGBgYB8EmKOPgQEAQ04BfgAAAAAAAA4AaAB+AMwA4AECAUIBbAGYAcICGAJYArQC4AMwA7AD3gQwBJYE3AUkBWYFigYgBmYGtAbqB1gIEghYCG4IhAi2COh4nGNgZGBgUGYoZWBnAAEmIOYCQgaG/2A+AwAYCQG2AHicXZBNaoNAGIZfE5PQCKFQ2lUps2oXBfOzzAESyDKBQJdGR2NQR3QSSE/QE/QEPUUPUHqsvsrXjTMw83zPvPMNCuAWP3DQDAejdm1GjzwS7pMmwi75XngAD4/CQ/oX4TFe4Qt7uMMbOzjuDc0EmXCP/C7cJ38Iu+RP4QEe8CU8pP8WHmOPX2EPz87TPo202ey2OjlnQSXV/6arOjWFmvszMWtd6CqwOlKHq6ovycLaWMWVydXKFFZnmVFlZU46tP7R2nI5ncbi/dDkfDtFBA2DDXbYkhKc+V0Bqs5Zt9JM1HQGBRTm/EezTmZNKtpcAMs9Yu6AK9caF76zoLWIWcfMGOSkVduvSWechqZsz040Ib2PY3urxBJTzriT95lipz+TN1fmAAAAeJxtkMl2wjAMRfOAhABlKm2h80C3+ajgCKKDY6cegP59TYBzukAL+z1Zsq8ctaJTTKPrsUQLbXQQI0EXKXroY4AbDDHCGBNMcYsZ7nCPB8yxwCOe8IwXvOIN7/jAJ76wxHfUqWX+OzgumWAjJMV17i0Ndlr6irLKO+qftdT7i6y4uFSUvCknay+lFYZIZaQcmfH/xIFdYn98bqhra1aKTM/6lWMnyaYirx1rFUQZFBkb2zJUtoXeJCeg0WnLtHeSFc3OtrnozNwqi0TkSpBMDB1nSde5oJXW23hTS2/T0LilglXX7dmFVxLnq5U0vYATHFk3zX3BOisoQHNDFDeZnqKDy9hRNawN7Vh727hFzcJ5c8TILrKZfH7tIPxAFP0BpLeJPA==) format(\"woff\");font-weight:400;font-style:normal}.vjs-icon-play,.video-js .vjs-play-control .vjs-icon-placeholder,.video-js .vjs-big-play-button .vjs-icon-placeholder:before{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-play:before,.video-js .vjs-play-control .vjs-icon-placeholder:before,.video-js .vjs-big-play-button .vjs-icon-placeholder:before{content:\"\"}.vjs-icon-play-circle{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-play-circle:before{content:\"\"}.vjs-icon-pause,.video-js .vjs-play-control.vjs-playing .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-pause:before,.video-js .vjs-play-control.vjs-playing .vjs-icon-placeholder:before{content:\"\"}.vjs-icon-volume-mute,.video-js .vjs-mute-control.vjs-vol-0 .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-volume-mute:before,.video-js .vjs-mute-control.vjs-vol-0 .vjs-icon-placeholder:before{content:\"\"}.vjs-icon-volume-low,.video-js .vjs-mute-control.vjs-vol-1 .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-volume-low:before,.video-js .vjs-mute-control.vjs-vol-1 .vjs-icon-placeholder:before{content:\"\"}.vjs-icon-volume-mid,.video-js .vjs-mute-control.vjs-vol-2 .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-volume-mid:before,.video-js .vjs-mute-control.vjs-vol-2 .vjs-icon-placeholder:before{content:\"\"}.vjs-icon-volume-high,.video-js .vjs-mute-control .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-volume-high:before,.video-js .vjs-mute-control .vjs-icon-placeholder:before{content:\"\"}.vjs-icon-fullscreen-enter,.video-js .vjs-fullscreen-control .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-fullscreen-enter:before,.video-js .vjs-fullscreen-control .vjs-icon-placeholder:before{content:\"\"}.vjs-icon-fullscreen-exit,.video-js.vjs-fullscreen .vjs-fullscreen-control .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-fullscreen-exit:before,.video-js.vjs-fullscreen .vjs-fullscreen-control .vjs-icon-placeholder:before{content:\"\"}.vjs-icon-square{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-square:before{content:\"\"}.vjs-icon-spinner{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-spinner:before{content:\"\"}.vjs-icon-subtitles,.video-js .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-GB) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-IE) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-AU) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-NZ) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js .vjs-subtitles-button .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-subtitles:before,.video-js .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-GB) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-IE) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-AU) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-NZ) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js .vjs-subtitles-button .vjs-icon-placeholder:before{content:\"\"}.vjs-icon-captions,.video-js:lang(en) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js:lang(fr-CA) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js .vjs-captions-button .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-captions:before,.video-js:lang(en) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js:lang(fr-CA) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js .vjs-captions-button .vjs-icon-placeholder:before{content:\"\"}.vjs-icon-chapters,.video-js .vjs-chapters-button .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-chapters:before,.video-js .vjs-chapters-button .vjs-icon-placeholder:before{content:\"\"}.vjs-icon-share{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-share:before{content:\"\"}.vjs-icon-cog{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-cog:before{content:\"\"}.vjs-icon-circle,.vjs-seek-to-live-control .vjs-icon-placeholder,.video-js .vjs-volume-level,.video-js .vjs-play-progress{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-circle:before,.vjs-seek-to-live-control .vjs-icon-placeholder:before,.video-js .vjs-volume-level:before,.video-js .vjs-play-progress:before{content:\"\"}.vjs-icon-circle-outline{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-circle-outline:before{content:\"\"}.vjs-icon-circle-inner-circle{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-circle-inner-circle:before{content:\"\"}.vjs-icon-hd{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-hd:before{content:\"\"}.vjs-icon-cancel,.video-js .vjs-control.vjs-close-button .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-cancel:before,.video-js .vjs-control.vjs-close-button .vjs-icon-placeholder:before{content:\"\"}.vjs-icon-replay,.video-js .vjs-play-control.vjs-ended .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-replay:before,.video-js .vjs-play-control.vjs-ended .vjs-icon-placeholder:before{content:\"\"}.vjs-icon-facebook{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-facebook:before{content:\"\"}.vjs-icon-gplus{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-gplus:before{content:\"\"}.vjs-icon-linkedin{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-linkedin:before{content:\"\"}.vjs-icon-twitter{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-twitter:before{content:\"\"}.vjs-icon-tumblr{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-tumblr:before{content:\"\"}.vjs-icon-pinterest{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-pinterest:before{content:\"\"}.vjs-icon-audio-description,.video-js .vjs-descriptions-button .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-audio-description:before,.video-js .vjs-descriptions-button .vjs-icon-placeholder:before{content:\"\"}.vjs-icon-audio,.video-js .vjs-audio-button .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-audio:before,.video-js .vjs-audio-button .vjs-icon-placeholder:before{content:\"\"}.vjs-icon-next-item{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-next-item:before{content:\"\"}.vjs-icon-previous-item{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-previous-item:before{content:\"\"}.vjs-icon-picture-in-picture-enter,.video-js .vjs-picture-in-picture-control .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-picture-in-picture-enter:before,.video-js .vjs-picture-in-picture-control .vjs-icon-placeholder:before{content:\"\"}.vjs-icon-picture-in-picture-exit,.video-js.vjs-picture-in-picture .vjs-picture-in-picture-control .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-picture-in-picture-exit:before,.video-js.vjs-picture-in-picture .vjs-picture-in-picture-control .vjs-icon-placeholder:before{content:\"\"}.video-js{display:block;vertical-align:top;box-sizing:border-box;color:#fff;background-color:#000;position:relative;padding:0;font-size:10px;line-height:1;font-weight:400;font-style:normal;font-family:Arial,Helvetica,sans-serif;word-break:initial}.video-js:-moz-full-screen{position:absolute}.video-js:-webkit-full-screen{width:100%!important;height:100%!important}.video-js[tabindex=\"-1\"]{outline:none}.video-js *,.video-js *:before,.video-js *:after{box-sizing:inherit}.video-js ul{font-family:inherit;font-size:inherit;line-height:inherit;list-style-position:outside;margin:0}.video-js.vjs-fluid,.video-js.vjs-16-9,.video-js.vjs-4-3,.video-js.vjs-9-16,.video-js.vjs-1-1{width:100%;max-width:100%}.video-js.vjs-fluid:not(.vjs-audio-only-mode),.video-js.vjs-16-9:not(.vjs-audio-only-mode),.video-js.vjs-4-3:not(.vjs-audio-only-mode),.video-js.vjs-9-16:not(.vjs-audio-only-mode),.video-js.vjs-1-1:not(.vjs-audio-only-mode){height:0}.video-js.vjs-16-9:not(.vjs-audio-only-mode){padding-top:56.25%}.video-js.vjs-4-3:not(.vjs-audio-only-mode){padding-top:75%}.video-js.vjs-9-16:not(.vjs-audio-only-mode){padding-top:177.7777777778%}.video-js.vjs-1-1:not(.vjs-audio-only-mode){padding-top:100%}.video-js.vjs-fill:not(.vjs-audio-only-mode){width:100%;height:100%}.video-js .vjs-tech{position:absolute;top:0;left:0;width:100%;height:100%}.video-js.vjs-audio-only-mode .vjs-tech{display:none}body.vjs-full-window{padding:0;margin:0;height:100%}.vjs-full-window .video-js.vjs-fullscreen{position:fixed;overflow:hidden;z-index:1000;left:0;top:0;bottom:0;right:0}.video-js.vjs-fullscreen:not(.vjs-ios-native-fs),.vjs-parent-fullscreen{width:100%!important;height:100%!important;padding-top:0!important}.video-js.vjs-fullscreen.vjs-user-inactive{cursor:none}.vjs-hidden{display:none!important}.vjs-disabled{opacity:.5;cursor:default}.video-js .vjs-offscreen{height:1px;left:-9999px;position:absolute;top:0;width:1px}.vjs-lock-showing{display:block!important;opacity:1!important;visibility:visible!important}.vjs-no-js{padding:20px;color:#fff;background-color:#000;font-size:18px;font-family:Arial,Helvetica,sans-serif;text-align:center;width:300px;height:150px;margin:0 auto}.vjs-no-js a,.vjs-no-js a:visited{color:#66a8cc}.video-js .vjs-big-play-button{font-size:3em;line-height:1.5em;height:1.63332em;width:3em;display:block;position:absolute;top:10px;left:10px;padding:0;cursor:pointer;opacity:1;border:.06666em solid #fff;background-color:#2b333f;background-color:rgba(43,51,63,.7);border-radius:.3em;transition:all .4s}.vjs-big-play-centered .vjs-big-play-button{top:50%;left:50%;margin-top:-.81666em;margin-left:-1.5em}.video-js:hover .vjs-big-play-button,.video-js .vjs-big-play-button:focus{border-color:#fff;background-color:#73859f;background-color:rgba(115,133,159,.5);transition:all 0s}.vjs-controls-disabled .vjs-big-play-button,.vjs-has-started .vjs-big-play-button,.vjs-using-native-controls .vjs-big-play-button,.vjs-error .vjs-big-play-button{display:none}.vjs-has-started.vjs-paused.vjs-show-big-play-button-on-pause .vjs-big-play-button{display:block}.video-js button{background:none;border:none;color:inherit;display:inline-block;font-size:inherit;line-height:inherit;text-transform:none;text-decoration:none;transition:none;-webkit-appearance:none;-moz-appearance:none;appearance:none}.vjs-control .vjs-button{width:100%;height:100%}.video-js .vjs-control.vjs-close-button{cursor:pointer;height:3em;position:absolute;right:0;top:.5em;z-index:2}.video-js .vjs-modal-dialog{background:rgba(0,0,0,.8);background:linear-gradient(180deg,rgba(0,0,0,.8),rgba(255,255,255,0));overflow:auto}.video-js .vjs-modal-dialog>*{box-sizing:border-box}.vjs-modal-dialog .vjs-modal-dialog-content{font-size:1.2em;line-height:1.5;padding:20px 24px;z-index:1}.vjs-menu-button{cursor:pointer}.vjs-menu-button.vjs-disabled{cursor:default}.vjs-workinghover .vjs-menu-button.vjs-disabled:hover .vjs-menu{display:none}.vjs-menu .vjs-menu-content{display:block;padding:0;margin:0;font-family:Arial,Helvetica,sans-serif;overflow:auto}.vjs-menu .vjs-menu-content>*{box-sizing:border-box}.vjs-scrubbing .vjs-control.vjs-menu-button:hover .vjs-menu{display:none}.vjs-menu li{list-style:none;margin:0;padding:.2em 0;line-height:1.4em;font-size:1.2em;text-align:center;text-transform:lowercase}.vjs-menu li.vjs-menu-item:focus,.vjs-menu li.vjs-menu-item:hover,.js-focus-visible .vjs-menu li.vjs-menu-item:hover{background-color:#73859f;background-color:rgba(115,133,159,.5)}.vjs-menu li.vjs-selected,.vjs-menu li.vjs-selected:focus,.vjs-menu li.vjs-selected:hover,.js-focus-visible .vjs-menu li.vjs-selected:hover{background-color:#fff;color:#2b333f}.video-js .vjs-menu *:not(.vjs-selected):focus:not(:focus-visible),.js-focus-visible .vjs-menu *:not(.vjs-selected):focus:not(.focus-visible){background:none}.vjs-menu li.vjs-menu-title{text-align:center;text-transform:uppercase;font-size:1em;line-height:2em;padding:0;margin:0 0 .3em;font-weight:700;cursor:default}.vjs-menu-button-popup .vjs-menu{display:none;position:absolute;bottom:0;width:10em;left:-3em;height:0em;margin-bottom:1.5em;border-top-color:rgba(43,51,63,.7)}.vjs-menu-button-popup .vjs-menu .vjs-menu-content{background-color:#2b333f;background-color:rgba(43,51,63,.7);position:absolute;width:100%;bottom:1.5em;max-height:15em}.vjs-layout-tiny .vjs-menu-button-popup .vjs-menu .vjs-menu-content,.vjs-layout-x-small .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:5em}.vjs-layout-small .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:10em}.vjs-layout-medium .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:14em}.vjs-layout-large .vjs-menu-button-popup .vjs-menu .vjs-menu-content,.vjs-layout-x-large .vjs-menu-button-popup .vjs-menu .vjs-menu-content,.vjs-layout-huge .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:25em}.vjs-workinghover .vjs-menu-button-popup.vjs-hover .vjs-menu,.vjs-menu-button-popup .vjs-menu.vjs-lock-showing{display:block}.video-js .vjs-menu-button-inline{transition:all .4s;overflow:hidden}.video-js .vjs-menu-button-inline:before{width:2.222222222em}.video-js .vjs-menu-button-inline:hover,.video-js .vjs-menu-button-inline:focus,.video-js .vjs-menu-button-inline.vjs-slider-active,.video-js.vjs-no-flex .vjs-menu-button-inline{width:12em}.vjs-menu-button-inline .vjs-menu{opacity:0;height:100%;width:auto;position:absolute;left:4em;top:0;padding:0;margin:0;transition:all .4s}.vjs-menu-button-inline:hover .vjs-menu,.vjs-menu-button-inline:focus .vjs-menu,.vjs-menu-button-inline.vjs-slider-active .vjs-menu{display:block;opacity:1}.vjs-no-flex .vjs-menu-button-inline .vjs-menu{display:block;opacity:1;position:relative;width:auto}.vjs-no-flex .vjs-menu-button-inline:hover .vjs-menu,.vjs-no-flex .vjs-menu-button-inline:focus .vjs-menu,.vjs-no-flex .vjs-menu-button-inline.vjs-slider-active .vjs-menu{width:auto}.vjs-menu-button-inline .vjs-menu-content{width:auto;height:100%;margin:0;overflow:hidden}.video-js .vjs-control-bar{display:none;width:100%;position:absolute;bottom:0;left:0;right:0;height:3em;background-color:#2b333f;background-color:rgba(43,51,63,.7)}.vjs-has-started .vjs-control-bar,.vjs-audio-only-mode .vjs-control-bar{display:flex;visibility:visible;opacity:1;transition:visibility .1s,opacity .1s}.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar{visibility:visible;opacity:0;pointer-events:none;transition:visibility .1s,opacity .1s}.vjs-controls-disabled .vjs-control-bar,.vjs-using-native-controls .vjs-control-bar,.vjs-error .vjs-control-bar{display:none!important}.vjs-audio.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar,.vjs-audio-only-mode.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar{opacity:1;visibility:visible;pointer-events:auto}.vjs-has-started.vjs-no-flex .vjs-control-bar{display:table}.video-js .vjs-control{position:relative;text-align:center;margin:0;padding:0;height:100%;width:4em;flex:none}.video-js .vjs-control.vjs-visible-text{width:auto;padding-left:1em;padding-right:1em}.vjs-button>.vjs-icon-placeholder:before{font-size:1.8em;line-height:1.67}.vjs-button>.vjs-icon-placeholder{display:block}.video-js .vjs-control:focus:before,.video-js .vjs-control:hover:before,.video-js .vjs-control:focus{text-shadow:0em 0em 1em white}.video-js *:not(.vjs-visible-text)>.vjs-control-text{border:0;clip:rect(0 0 0 0);height:1px;overflow:hidden;padding:0;position:absolute;width:1px}.vjs-no-flex .vjs-control{display:table-cell;vertical-align:middle}.video-js .vjs-custom-control-spacer{display:none}.video-js .vjs-top-bar{display:none;width:100%;position:absolute;top:0;left:0;right:0;height:3em;background-color:#2b333f;background-color:rgba(43,51,63,.7)}.vjs-has-started .vjs-top-bar,.vjs-audio-only-mode .vjs-top-bar{display:flex;visibility:visible;opacity:1;transition:visibility .1s,opacity .1s}.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-top-bar{visibility:visible;opacity:0;pointer-events:none;transition:visibility .1s,opacity .1s}.vjs-controls-disabled .vjs-top-bar,.vjs-using-native-controls .vjs-top-bar,.vjs-error .vjs-top-bar{display:none!important}.vjs-audio.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-top-bar,.vjs-audio-only-mode.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-top-bar{opacity:1;visibility:visible;pointer-events:auto}.vjs-has-started.vjs-no-flex .vjs-top-bar{display:table}.video-js .vjs-progress-control{cursor:pointer;flex:auto;display:flex;align-items:center;min-width:4em;touch-action:none}.video-js .vjs-progress-control.disabled{cursor:default}.vjs-live .vjs-progress-control{display:none}.vjs-liveui .vjs-progress-control{display:flex;align-items:center}.vjs-no-flex .vjs-progress-control{width:auto}.video-js .vjs-progress-holder{flex:auto;transition:all .2s;height:.3em}.video-js .vjs-progress-control .vjs-progress-holder{margin:0 10px}.video-js .vjs-progress-control:hover .vjs-progress-holder{font-size:1.6666666667em}.video-js .vjs-progress-control:hover .vjs-progress-holder.disabled{font-size:1em}.video-js .vjs-progress-holder .vjs-play-progress,.video-js .vjs-progress-holder .vjs-load-progress,.video-js .vjs-progress-holder .vjs-load-progress div{position:absolute;display:block;height:100%;margin:0;padding:0;width:0}.video-js .vjs-play-progress{background-color:#fff}.video-js .vjs-play-progress:before{font-size:.9em;position:absolute;right:-.5em;top:-.3333333333em;z-index:1}.video-js .vjs-load-progress{background:rgba(115,133,159,.5)}.video-js .vjs-load-progress div{background:rgba(115,133,159,.75)}.video-js .vjs-time-tooltip{background-color:#fff;background-color:rgba(255,255,255,.8);border-radius:.3em;color:#000;float:right;font-family:Arial,Helvetica,sans-serif;font-size:1em;padding:6px 8px 8px;pointer-events:none;position:absolute;top:-3.4em;visibility:hidden;z-index:1}.video-js .vjs-progress-holder:focus .vjs-time-tooltip{display:none}.video-js .vjs-progress-control:hover .vjs-time-tooltip,.video-js .vjs-progress-control:hover .vjs-progress-holder:focus .vjs-time-tooltip{display:block;font-size:.6em;visibility:visible}.video-js .vjs-progress-control.disabled:hover .vjs-time-tooltip{font-size:1em}.video-js .vjs-progress-control .vjs-mouse-display{display:none;position:absolute;width:1px;height:100%;background-color:#000;z-index:1}.vjs-no-flex .vjs-progress-control .vjs-mouse-display{z-index:0}.video-js .vjs-progress-control:hover .vjs-mouse-display{display:block}.video-js.vjs-user-inactive .vjs-progress-control .vjs-mouse-display{visibility:hidden;opacity:0;transition:visibility 1s,opacity 1s}.video-js.vjs-user-inactive.vjs-no-flex .vjs-progress-control .vjs-mouse-display{display:none}.vjs-mouse-display .vjs-time-tooltip{color:#fff;background-color:#000;background-color:rgba(0,0,0,.8)}.video-js .vjs-slider{position:relative;cursor:pointer;padding:0;margin:0 .45em;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:#73859f;background-color:rgba(115,133,159,.5)}.video-js .vjs-slider.disabled{cursor:default}.video-js .vjs-slider:focus{text-shadow:0em 0em 1em white;box-shadow:0 0 1em #fff}.video-js .vjs-mute-control{cursor:pointer;flex:none}.video-js .vjs-volume-control{cursor:pointer;margin-right:1em;display:flex}.video-js .vjs-volume-control.vjs-volume-horizontal{width:5em}.video-js .vjs-volume-panel .vjs-volume-control{visibility:visible;opacity:0;width:1px;height:1px;margin-left:-1px}.video-js .vjs-volume-panel{transition:width 1s}.video-js .vjs-volume-panel.vjs-hover .vjs-volume-control,.video-js .vjs-volume-panel:active .vjs-volume-control,.video-js .vjs-volume-panel:focus .vjs-volume-control,.video-js .vjs-volume-panel .vjs-volume-control:active,.video-js .vjs-volume-panel.vjs-hover .vjs-mute-control~.vjs-volume-control,.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active{visibility:visible;opacity:1;position:relative;transition:visibility .1s,opacity .1s,height .1s,width .1s,left 0s,top 0s}.video-js .vjs-volume-panel.vjs-hover .vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel:active .vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel:focus .vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel .vjs-volume-control:active.vjs-volume-horizontal,.video-js .vjs-volume-panel.vjs-hover .vjs-mute-control~.vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active.vjs-volume-horizontal{width:5em;height:3em;margin-right:0}.video-js .vjs-volume-panel.vjs-hover .vjs-volume-control.vjs-volume-vertical,.video-js .vjs-volume-panel:active .vjs-volume-control.vjs-volume-vertical,.video-js .vjs-volume-panel:focus .vjs-volume-control.vjs-volume-vertical,.video-js .vjs-volume-panel .vjs-volume-control:active.vjs-volume-vertical,.video-js .vjs-volume-panel.vjs-hover .vjs-mute-control~.vjs-volume-control.vjs-volume-vertical,.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active.vjs-volume-vertical{left:-3.5em;transition:left 0s}.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-hover,.video-js .vjs-volume-panel.vjs-volume-panel-horizontal:active,.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active{width:10em;transition:width .1s}.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-mute-toggle-only{width:4em}.video-js .vjs-volume-panel .vjs-volume-control.vjs-volume-vertical{height:8em;width:3em;left:-3000em;transition:visibility 1s,opacity 1s,height 1s 1s,width 1s 1s,left 1s 1s,top 1s 1s}.video-js .vjs-volume-panel .vjs-volume-control.vjs-volume-horizontal{transition:visibility 1s,opacity 1s,height 1s 1s,width 1s,left 1s 1s,top 1s 1s}.video-js.vjs-no-flex .vjs-volume-panel .vjs-volume-control.vjs-volume-horizontal{width:5em;height:3em;visibility:visible;opacity:1;position:relative;transition:none}.video-js.vjs-no-flex .vjs-volume-control.vjs-volume-vertical,.video-js.vjs-no-flex .vjs-volume-panel .vjs-volume-control.vjs-volume-vertical{position:absolute;bottom:3em;left:.5em}.video-js .vjs-volume-panel{display:flex}.video-js .vjs-volume-bar{margin:1.35em .45em}.vjs-volume-bar.vjs-slider-horizontal{width:5em;height:.3em}.vjs-volume-bar.vjs-slider-vertical{width:.3em;height:5em;margin:1.35em auto}.video-js .vjs-volume-level{position:absolute;bottom:0;left:0;background-color:#fff}.video-js .vjs-volume-level:before{position:absolute;font-size:.9em;z-index:1}.vjs-slider-vertical .vjs-volume-level{width:.3em}.vjs-slider-vertical .vjs-volume-level:before{top:-.5em;left:-.3em;z-index:1}.vjs-slider-horizontal .vjs-volume-level{height:.3em}.vjs-slider-horizontal .vjs-volume-level:before{top:-.3em;right:-.5em}.video-js .vjs-volume-panel.vjs-volume-panel-vertical{width:4em}.vjs-volume-bar.vjs-slider-vertical .vjs-volume-level{height:100%}.vjs-volume-bar.vjs-slider-horizontal .vjs-volume-level{width:100%}.video-js .vjs-volume-vertical{width:3em;height:8em;bottom:8em;background-color:#2b333f;background-color:rgba(43,51,63,.7)}.video-js .vjs-volume-horizontal .vjs-menu{left:-2em}.video-js .vjs-volume-tooltip{background-color:#fff;background-color:rgba(255,255,255,.8);border-radius:.3em;color:#000;float:right;font-family:Arial,Helvetica,sans-serif;font-size:1em;padding:6px 8px 8px;pointer-events:none;position:absolute;top:-3.4em;visibility:hidden;z-index:1}.video-js .vjs-volume-control:hover .vjs-volume-tooltip,.video-js .vjs-volume-control:hover .vjs-progress-holder:focus .vjs-volume-tooltip{display:block;font-size:1em;visibility:visible}.video-js .vjs-volume-vertical:hover .vjs-volume-tooltip,.video-js .vjs-volume-vertical:hover .vjs-progress-holder:focus .vjs-volume-tooltip{left:1em;top:-12px}.video-js .vjs-volume-control.disabled:hover .vjs-volume-tooltip{font-size:1em}.video-js .vjs-volume-control .vjs-mouse-display{display:none;position:absolute;width:100%;height:1px;background-color:#000;z-index:1}.video-js .vjs-volume-horizontal .vjs-mouse-display{width:1px;height:100%}.vjs-no-flex .vjs-volume-control .vjs-mouse-display{z-index:0}.video-js .vjs-volume-control:hover .vjs-mouse-display{display:block}.video-js.vjs-user-inactive .vjs-volume-control .vjs-mouse-display{visibility:hidden;opacity:0;transition:visibility 1s,opacity 1s}.video-js.vjs-user-inactive.vjs-no-flex .vjs-volume-control .vjs-mouse-display{display:none}.vjs-mouse-display .vjs-volume-tooltip{color:#fff;background-color:#000;background-color:rgba(0,0,0,.8)}.vjs-poster{display:inline-block;vertical-align:middle;background-repeat:no-repeat;background-position:50% 50%;background-size:contain;background-color:#000;cursor:pointer;margin:0;padding:0;position:absolute;top:0;right:0;bottom:0;left:0;height:100%}.vjs-has-started .vjs-poster,.vjs-using-native-controls .vjs-poster{display:none}.vjs-audio.vjs-has-started .vjs-poster,.vjs-has-started.vjs-audio-poster-mode .vjs-poster{display:block}.video-js .vjs-live-control{display:flex;align-items:flex-start;flex:auto;font-size:1em;line-height:3em}.vjs-no-flex .vjs-live-control{display:table-cell;width:auto;text-align:left}.video-js:not(.vjs-live) .vjs-live-control,.video-js.vjs-liveui .vjs-live-control{display:none}.video-js .vjs-seek-to-live-control{align-items:center;cursor:pointer;flex:none;display:inline-flex;height:100%;padding-left:.5em;padding-right:.5em;font-size:1em;line-height:3em;width:auto;min-width:4em}.vjs-no-flex .vjs-seek-to-live-control{display:table-cell;width:auto;text-align:left}.video-js.vjs-live:not(.vjs-liveui) .vjs-seek-to-live-control,.video-js:not(.vjs-live) .vjs-seek-to-live-control{display:none}.vjs-seek-to-live-control.vjs-control.vjs-at-live-edge{cursor:auto}.vjs-seek-to-live-control .vjs-icon-placeholder{margin-right:.5em;color:#888}.vjs-seek-to-live-control.vjs-control.vjs-at-live-edge .vjs-icon-placeholder{color:red}.video-js .vjs-time-control{flex:none;font-size:1em;line-height:3em;min-width:2em;width:auto;padding-left:1em;padding-right:1em}.vjs-live .vjs-time-control,.video-js .vjs-current-time,.vjs-no-flex .vjs-current-time,.video-js .vjs-duration,.vjs-no-flex .vjs-duration{display:none}.vjs-time-divider{display:none;line-height:3em}.vjs-live .vjs-time-divider{display:none}.video-js .vjs-play-control{cursor:pointer}.video-js .vjs-play-control .vjs-icon-placeholder{flex:none}.vjs-text-track-display{position:absolute;bottom:3em;left:0;right:0;top:0;pointer-events:none}.video-js.vjs-controls-disabled .vjs-text-track-display,.video-js.vjs-user-inactive.vjs-playing .vjs-text-track-display{bottom:1em}.video-js .vjs-text-track{font-size:1.4em;text-align:center;margin-bottom:.1em}.vjs-subtitles{color:#fff}.vjs-captions{color:#fc6}.vjs-tt-cue{display:block}video::-webkit-media-text-track-display{transform:translateY(-3em)}.video-js.vjs-controls-disabled video::-webkit-media-text-track-display,.video-js.vjs-user-inactive.vjs-playing video::-webkit-media-text-track-display{transform:translateY(-1.5em)}.video-js .vjs-picture-in-picture-control{cursor:pointer;flex:none}.video-js.vjs-audio-only-mode .vjs-picture-in-picture-control{display:none}.video-js .vjs-fullscreen-control{cursor:pointer;flex:none}.video-js.vjs-audio-only-mode .vjs-fullscreen-control{display:none}.vjs-playback-rate>.vjs-menu-button,.vjs-playback-rate .vjs-playback-rate-value{position:absolute;top:0;left:0;width:100%;height:100%}.vjs-playback-rate .vjs-playback-rate-value{pointer-events:none;font-size:1.5em;line-height:2;text-align:center}.vjs-playback-rate .vjs-menu{width:4em;left:0}.vjs-error .vjs-error-display .vjs-modal-dialog-content{font-size:1.4em;text-align:center}.vjs-error .vjs-error-display:before{color:#fff;content:\"X\";font-family:Arial,Helvetica,sans-serif;font-size:4em;left:0;line-height:1;margin-top:-.5em;position:absolute;text-shadow:.05em .05em .1em #000;text-align:center;top:50%;vertical-align:middle;width:100%}.vjs-loading-spinner{display:none;position:absolute;top:50%;left:50%;margin:-25px 0 0 -25px;opacity:.85;text-align:left;border:6px solid rgba(43,51,63,.7);box-sizing:border-box;background-clip:padding-box;width:50px;height:50px;border-radius:25px;visibility:hidden}.vjs-seeking .vjs-loading-spinner,.vjs-waiting .vjs-loading-spinner{display:block;animation:vjs-spinner-show 0s linear .3s forwards}.vjs-loading-spinner:before,.vjs-loading-spinner:after{content:\"\";position:absolute;margin:-6px;box-sizing:inherit;width:inherit;height:inherit;border-radius:inherit;opacity:1;border:inherit;border-color:transparent;border-top-color:#fff}.vjs-seeking .vjs-loading-spinner:before,.vjs-seeking .vjs-loading-spinner:after,.vjs-waiting .vjs-loading-spinner:before,.vjs-waiting .vjs-loading-spinner:after{animation:vjs-spinner-spin 1.1s cubic-bezier(.6,.2,0,.8) infinite,vjs-spinner-fade 1.1s linear infinite}.vjs-seeking .vjs-loading-spinner:before,.vjs-waiting .vjs-loading-spinner:before{border-top-color:#fff}.vjs-seeking .vjs-loading-spinner:after,.vjs-waiting .vjs-loading-spinner:after{border-top-color:#fff;animation-delay:.44s}@keyframes vjs-spinner-show{to{visibility:visible}}@keyframes vjs-spinner-spin{to{transform:rotate(360deg)}}@keyframes vjs-spinner-fade{0%{border-top-color:#73859f}20%{border-top-color:#73859f}35%{border-top-color:#fff}60%{border-top-color:#73859f}to{border-top-color:#73859f}}.video-js.vjs-audio-only-mode .vjs-captions-button{display:none}.vjs-chapters-button .vjs-menu ul{width:24em}.video-js.vjs-audio-only-mode .vjs-descriptions-button{display:none}.video-js .vjs-subs-caps-button+.vjs-menu .vjs-captions-menu-item .vjs-menu-item-text .vjs-icon-placeholder{vertical-align:middle;display:inline-block;margin-bottom:-.1em}.video-js .vjs-subs-caps-button+.vjs-menu .vjs-captions-menu-item .vjs-menu-item-text .vjs-icon-placeholder:before{font-family:VideoJS;content:\"\";font-size:1.5em;line-height:inherit}.video-js.vjs-audio-only-mode .vjs-subs-caps-button{display:none}.video-js .vjs-audio-button+.vjs-menu .vjs-main-desc-menu-item .vjs-menu-item-text .vjs-icon-placeholder{vertical-align:middle;display:inline-block;margin-bottom:-.1em}.video-js .vjs-audio-button+.vjs-menu .vjs-main-desc-menu-item .vjs-menu-item-text .vjs-icon-placeholder:before{font-family:VideoJS;content:\" \";font-size:1.5em;line-height:inherit}.video-js.vjs-layout-small .vjs-current-time,.video-js.vjs-layout-small .vjs-time-divider,.video-js.vjs-layout-small .vjs-duration,.video-js.vjs-layout-small .vjs-remaining-time,.video-js.vjs-layout-small .vjs-playback-rate,.video-js.vjs-layout-small .vjs-volume-control,.video-js.vjs-layout-x-small .vjs-current-time,.video-js.vjs-layout-x-small .vjs-time-divider,.video-js.vjs-layout-x-small .vjs-duration,.video-js.vjs-layout-x-small .vjs-remaining-time,.video-js.vjs-layout-x-small .vjs-playback-rate,.video-js.vjs-layout-x-small .vjs-volume-control,.video-js.vjs-layout-tiny .vjs-current-time,.video-js.vjs-layout-tiny .vjs-time-divider,.video-js.vjs-layout-tiny .vjs-duration,.video-js.vjs-layout-tiny .vjs-remaining-time,.video-js.vjs-layout-tiny .vjs-playback-rate,.video-js.vjs-layout-tiny .vjs-volume-control{display:none}.video-js.vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal:hover,.video-js.vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal:active,.video-js.vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.video-js.vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-hover,.video-js.vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal:hover,.video-js.vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal:active,.video-js.vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.video-js.vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-hover,.video-js.vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal:hover,.video-js.vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal:active,.video-js.vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.video-js.vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-hover{width:auto;width:initial}.video-js.vjs-layout-x-small .vjs-progress-control,.video-js.vjs-layout-tiny .vjs-progress-control{display:none}.video-js.vjs-layout-x-small .vjs-custom-control-spacer{flex:auto;display:block}.video-js.vjs-layout-x-small.vjs-no-flex .vjs-custom-control-spacer{width:auto}.vjs-modal-dialog.vjs-text-track-settings{background-color:#2b333f;background-color:rgba(43,51,63,.75);color:#fff;height:70%}.vjs-text-track-settings .vjs-modal-dialog-content{display:table}.vjs-text-track-settings .vjs-track-settings-colors,.vjs-text-track-settings .vjs-track-settings-font,.vjs-text-track-settings .vjs-track-settings-controls{display:table-cell}.vjs-text-track-settings .vjs-track-settings-controls{text-align:right;vertical-align:bottom}@supports (display: grid){.vjs-text-track-settings .vjs-modal-dialog-content{display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr;padding:20px 24px 0}.vjs-track-settings-controls .vjs-default-button{margin-bottom:20px}.vjs-text-track-settings .vjs-track-settings-controls{grid-column:1/-1}.vjs-layout-small .vjs-text-track-settings .vjs-modal-dialog-content,.vjs-layout-x-small .vjs-text-track-settings .vjs-modal-dialog-content,.vjs-layout-tiny .vjs-text-track-settings .vjs-modal-dialog-content{grid-template-columns:1fr}}.vjs-track-setting>select{margin-right:1em;margin-bottom:.5em}.vjs-text-track-settings fieldset{margin:5px;padding:3px;border:none}.vjs-text-track-settings fieldset span{display:inline-block}.vjs-text-track-settings fieldset span>select{max-width:7.3em}.vjs-text-track-settings legend{color:#fff;margin:0 0 5px}.vjs-text-track-settings .vjs-label{position:absolute;clip:rect(1px 1px 1px 1px);clip:rect(1px,1px,1px,1px);display:block;margin:0 0 5px;padding:0;border:0;height:1px;width:1px;overflow:hidden}.vjs-track-settings-controls button:focus,.vjs-track-settings-controls button:active{outline-style:solid;outline-width:medium;background-image:linear-gradient(0deg,#fff 88%,#73859f 100%)}.vjs-track-settings-controls button:hover{color:rgba(43,51,63,.75)}.vjs-track-settings-controls button{background-color:#fff;background-image:linear-gradient(-180deg,#fff 88%,#73859f 100%);color:#2b333f;cursor:pointer;border-radius:2px}.vjs-track-settings-controls .vjs-default-button{margin-right:1em}@media print{.video-js>*:not(.vjs-tech):not(.vjs-poster){visibility:hidden}}.vjs-resize-manager{position:absolute;top:0;left:0;width:100%;height:100%;border:none;z-index:-1000}.js-focus-visible .video-js *:focus{outline:none}.video-js *:focus{outline:none}.mst-player-skin{background-color:#333;-webkit-tap-highlight-color:transparent}.mst-player-skin .vjs-base-container{height:100%;left:0;position:absolute;top:0;width:100%}.mst-player-skin .vjs-full-video{height:100%;width:100%}.mst-player-skin .vjs-top-count-down{background-color:rgba(0,49,88,.7);border-radius:19px;color:#fff;cursor:pointer;font-family:PingFangSC-Regular,PingFangSC,BlinkMacSystemFont,sans-serif;font-size:16px;height:32px;line-height:32px;padding:0 16px;position:absolute;right:16px;top:16px}.mst-player-skin .vjs-big-play-button{background:none;background-color:transparent!important;background-image:url(https://cdn.ewt360.com/resources/app/prod/mst-video-player/dist/play.png);background-position:center;background-repeat:no-repeat;background-size:contain;border:0;height:90px;margin-top:-45px;margin-left:-45px;width:90px}.mst-player-skin .vjs-big-play-button .vjs-icon-placeholder{display:none}.mst-player-skin .vjs-marker{margin-left:-.3em!important}.mst-player-skin .vjs-top-bar{align-items:center;background:linear-gradient(to bottom,rgba(0,0,0,.5),rgba(0,0,0,0));height:11em;z-index:10}.mst-player-skin .vjs-control-bar{background:linear-gradient(to top,rgba(0,0,0,.5),rgba(0,0,0,0));height:5.5em;padding-top:1.9em;line-height:3.6em;font-size:2em;box-sizing:border-box;z-index:10}.mst-player-skin .vjs-control{line-height:inherit}.mst-player-skin .vjs-button>.vjs-icon-placeholder:before{font-size:1.8em;line-height:inherit}.mst-player-skin .vjs-menu-button{-webkit-user-select:none;-moz-user-select:-moz-none;user-select:none}.mst-player-skin .vjs-menu-button-popup .vjs-menu{margin-bottom:0;left:0;width:4em}.mst-player-skin .vjs-menu-button-popup .vjs-menu .vjs-menu-content{background-color:rgba(0,0,0,.8);border-radius:.2em;bottom:3.6em;padding:.6em 0}.mst-player-skin .vjs-menu-button-popup .vjs-menu li{font-size:inherit;height:2.3em;line-height:2.3em;padding:0}.mst-player-skin .vjs-menu-button-popup .vjs-menu .vjs-selected{color:#2d86fe;background-color:transparent}.mst-player-skin .vjs-menu-button-popup .vjs-menu .vjs-menu-item:hover{background-color:transparent}.mst-player-skin .vjs-time-control{padding-left:0;padding-right:0;line-height:inherit}.mst-player-skin .vjs-current-time,.mst-player-skin .vjs-duration,.mst-player-skin .vjs-time-divider{display:block;-webkit-user-select:none;-moz-user-select:-moz-none;user-select:none}.mst-player-skin .vjs-time-divider{min-width:0;padding-left:.5em;padding-right:.5em}.mst-player-skin .vjs-current-time{min-width:3.6em;text-align:right}.mst-player-skin .vjs-duration{min-width:3.6em;text-align:left}.mst-player-skin .vjs-remaining-time{display:none}.mst-player-skin .vjs-custom-control-spacer{display:block;flex-grow:1;-webkit-user-select:none;-moz-user-select:-moz-none;user-select:none;pointer-events:none}.mst-player-skin .vjs-volume-panel .vjs-volume-control .vjs-volume-vertical{background-color:rgba(0,0,0,.7);visibility:hidden;z-index:2}.mst-player-skin .vjs-volume-panel .vjs-slider-horizontal .vjs-volume-level:before{top:-.33em}.mst-player-skin .vjs-volume-panel .vjs-slider-vertical .vjs-volume-level:before{left:-.35em}.mst-player-skin .vjs-volume-panel .vjs-volume-level{background-color:#00a4ff}.mst-player-skin .vjs-playback-rate .vjs-playback-rate-value{font-size:inherit;line-height:inherit;position:relative}.mst-player-skin .vjs-menu-item-text{text-transform:none}.mst-player-skin .vjs-menu{z-index:3}.vjs-width-too-small .vjs-top-bar,.vjs-width-too-small .vjs-time-control,.vjs-width-too-small .vjs-control-center,.vjs-width-too-small .vjs-definition,.vjs-width-too-small .vjs-playback-rate,.vjs-width-too-small .vjs-lines,.vjs-width-too-small .vjs-hot-keys,.vjs-width-too-small .vjs-subtitles-toggle,.vjs-width-too-small .vjs-video-add-tag-mask,.vjs-width-too-small .vjs-tag-list,.vjs-no-tip .vjs-tip-btn-tip{display:none!important}@media (aspect-ratio < 1){.vjs-full-window .video-js.vjs-fullscreen{transform:rotate(90deg) translateY(-100vw);width:100vh!important;height:100vw!important;transform-origin:0 0}}")); document.head.appendChild(elementStyle);} catch(e) {console.error('vite-plugin-css-injected-by-js', e);} })();!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("ali-oss")):"function"==typeof define&&define.amd?define(["ali-oss"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).MSTPlayer=t()}(this,(function(){"use strict";var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__reflectGet=Reflect.get,__knownSymbol=(e,t)=>{if(t=Symbol[e])return t;throw Error("Symbol."+e+" is not defined")},__defNormalProp=(e,t,r)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__spreadValues=(e,t)=>{for(var r in t||(t={}))__hasOwnProp.call(t,r)&&__defNormalProp(e,r,t[r]);if(__getOwnPropSymbols)for(var r of __getOwnPropSymbols(t))__propIsEnum.call(t,r)&&__defNormalProp(e,r,t[r]);return e},__spreadProps=(e,t)=>__defProps(e,__getOwnPropDescs(t)),__superGet=(e,t,r)=>__reflectGet(__getProtoOf(e),r,t),__async2=(e,t,r)=>new Promise(((n,i)=>{var o=e=>{try{a(r.next(e))}catch(t){i(t)}},s=e=>{try{a(r.throw(e))}catch(t){i(t)}},a=e=>e.done?n(e.value):Promise.resolve(e.value).then(o,s);a((r=r.apply(e,t)).next())})),__await=function(e,t){this[0]=e,this[1]=t},__yieldStar=e=>{var t,r=e[__knownSymbol("asyncIterator")],n=!1,i={};return null==r?(r=e[__knownSymbol("iterator")](),t=e=>i[e]=t=>r[e](t)):(r=r.call(e),t=e=>i[e]=t=>{if(n){if(n=!1,"throw"===e)throw t;return t}return n=!0,{done:!1,value:new __await(new Promise((n=>{var i=r[e](t);if(!(i instanceof Object))throw TypeError("Object expected");n(i)})),1)}}),i[__knownSymbol("iterator")]=()=>i,t("next"),"throw"in r?t("throw"):i.throw=e=>{throw e},"return"in r&&t("return"),i};function _typeof$1(e){return(_typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function toPrimitive$3(e,t){if("object"!=_typeof$1(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=_typeof$1(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function toPropertyKey$4(e){var t=toPrimitive$3(e,"string");return"symbol"==_typeof$1(t)?t:t+""}function _defineProperty$1(e,t,r){return(t=toPropertyKey$4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var r=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})})),r}var check=function(e){return e&&e.Math===Math&&e},global$E=check("object"==typeof globalThis&&globalThis)||check("object"==typeof window&&window)||check("object"==typeof self&&self)||check("object"==typeof commonjsGlobal&&commonjsGlobal)||check("object"==typeof commonjsGlobal&&commonjsGlobal)||function(){return this}()||Function("return this")(),objectGetOwnPropertyDescriptor={},fails$B=function(e){try{return!!e()}catch(t){return!0}},fails$A=fails$B,descriptors$1=!fails$A((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})),fails$z=fails$B,functionBindNative=!fails$z((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),NATIVE_BIND$3=functionBindNative,call$r=Function.prototype.call,functionCall=NATIVE_BIND$3?call$r.bind(call$r):function(){return call$r.apply(call$r,arguments)},objectPropertyIsEnumerable={},$propertyIsEnumerable={}.propertyIsEnumerable,getOwnPropertyDescriptor$3=Object.getOwnPropertyDescriptor,NASHORN_BUG=getOwnPropertyDescriptor$3&&!$propertyIsEnumerable.call({1:2},1);objectPropertyIsEnumerable.f=NASHORN_BUG?function(e){var t=getOwnPropertyDescriptor$3(this,e);return!!t&&t.enumerable}:$propertyIsEnumerable;var createPropertyDescriptor$9=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},NATIVE_BIND$2=functionBindNative,FunctionPrototype$2=Function.prototype,call$q=FunctionPrototype$2.call,uncurryThisWithBind=NATIVE_BIND$2&&FunctionPrototype$2.bind.bind(call$q,call$q),functionUncurryThis=NATIVE_BIND$2?uncurryThisWithBind:function(e){return function(){return call$q.apply(e,arguments)}},uncurryThis$F=functionUncurryThis,toString$i=uncurryThis$F({}.toString),stringSlice$9=uncurryThis$F("".slice),classofRaw$2=function(e){return stringSlice$9(toString$i(e),8,-1)},uncurryThis$E=functionUncurryThis,fails$y=fails$B,classof$h=classofRaw$2,$Object$4=Object,split$3=uncurryThis$E("".split),indexedObject=fails$y((function(){return!$Object$4("z").propertyIsEnumerable(0)}))?function(e){return"String"===classof$h(e)?split$3(e,""):$Object$4(e)}:$Object$4,isNullOrUndefined$6=function(e){return null==e},isNullOrUndefined$5=isNullOrUndefined$6,$TypeError$m=TypeError,requireObjectCoercible$7=function(e){if(isNullOrUndefined$5(e))throw new $TypeError$m("Can't call method on "+e);return e},IndexedObject$4=indexedObject,requireObjectCoercible$6=requireObjectCoercible$7,toIndexedObject$6=function(e){return IndexedObject$4(requireObjectCoercible$6(e))},documentAll="object"==typeof document&&document.all,isCallable$r=void 0===documentAll&&void 0!==documentAll?function(e){return"function"==typeof e||e===documentAll}:function(e){return"function"==typeof e},isCallable$q=isCallable$r,isObject$k=function(e){return"object"==typeof e?null!==e:isCallable$q(e)},global$D=global$E,isCallable$p=isCallable$r,aFunction=function(e){return isCallable$p(e)?e:void 0},getBuiltIn$c=function(e,t){return arguments.length<2?aFunction(global$D[e]):global$D[e]&&global$D[e][t]},uncurryThis$D=functionUncurryThis,objectIsPrototypeOf=uncurryThis$D({}.isPrototypeOf),engineUserAgent="undefined"!=typeof navigator&&String(navigator.userAgent)||"",global$C=global$E,userAgent$5=engineUserAgent,process$4=global$C.process,Deno$1=global$C.Deno,versions=process$4&&process$4.versions||Deno$1&&Deno$1.version,v8=versions&&versions.v8,match,version$2;v8&&(match=v8.split("."),version$2=match[0]>0&&match[0]<4?1:+(match[0]+match[1])),!version$2&&userAgent$5&&(match=userAgent$5.match(/Edge\/(\d+)/),(!match||match[1]>=74)&&(match=userAgent$5.match(/Chrome\/(\d+)/),match&&(version$2=+match[1])));var engineV8Version=version$2,V8_VERSION$1=engineV8Version,fails$x=fails$B,global$B=global$E,$String$6=global$B.String,symbolConstructorDetection=!!Object.getOwnPropertySymbols&&!fails$x((function(){var e=Symbol("symbol detection");return!$String$6(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&V8_VERSION$1&&V8_VERSION$1<41})),NATIVE_SYMBOL$3=symbolConstructorDetection,useSymbolAsUid=NATIVE_SYMBOL$3&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,getBuiltIn$b=getBuiltIn$c,isCallable$o=isCallable$r,isPrototypeOf$8=objectIsPrototypeOf,USE_SYMBOL_AS_UID$1=useSymbolAsUid,$Object$3=Object,isSymbol$4=USE_SYMBOL_AS_UID$1?function(e){return"symbol"==typeof e}:function(e){var t=getBuiltIn$b("Symbol");return isCallable$o(t)&&isPrototypeOf$8(t.prototype,$Object$3(e))},$String$5=String,tryToString$6=function(e){try{return $String$5(e)}catch(t){return"Object"}},isCallable$n=isCallable$r,tryToString$5=tryToString$6,$TypeError$l=TypeError,aCallable$c=function(e){if(isCallable$n(e))return e;throw new $TypeError$l(tryToString$5(e)+" is not a function")},aCallable$b=aCallable$c,isNullOrUndefined$4=isNullOrUndefined$6,getMethod$5=function(e,t){var r=e[t];return isNullOrUndefined$4(r)?void 0:aCallable$b(r)},call$p=functionCall,isCallable$m=isCallable$r,isObject$j=isObject$k,$TypeError$k=TypeError,ordinaryToPrimitive$1=function(e,t){var r,n;if("string"===t&&isCallable$m(r=e.toString)&&!isObject$j(n=call$p(r,e)))return n;if(isCallable$m(r=e.valueOf)&&!isObject$j(n=call$p(r,e)))return n;if("string"!==t&&isCallable$m(r=e.toString)&&!isObject$j(n=call$p(r,e)))return n;throw new $TypeError$k("Can't convert object to primitive value")},sharedStore={exports:{}},isPure=!1,global$A=global$E,defineProperty$b=Object.defineProperty,defineGlobalProperty$3=function(e,t){try{defineProperty$b(global$A,e,{value:t,configurable:!0,writable:!0})}catch(r){global$A[e]=t}return t},globalThis$1=global$E,defineGlobalProperty$2=defineGlobalProperty$3,SHARED="__core-js_shared__",store$3=sharedStore.exports=globalThis$1[SHARED]||defineGlobalProperty$2(SHARED,{});(store$3.versions||(store$3.versions=[])).push({version:"3.37.1",mode:"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.1/LICENSE",source:"https://github.com/zloirock/core-js"});var sharedStoreExports=sharedStore.exports,store$2=sharedStoreExports,shared$4=function(e,t){return store$2[e]||(store$2[e]=t||{})},requireObjectCoercible$5=requireObjectCoercible$7,$Object$2=Object,toObject$d=function(e){return $Object$2(requireObjectCoercible$5(e))},uncurryThis$C=functionUncurryThis,toObject$c=toObject$d,hasOwnProperty$1=uncurryThis$C({}.hasOwnProperty),hasOwnProperty_1=Object.hasOwn||function(e,t){return hasOwnProperty$1(toObject$c(e),t)},uncurryThis$B=functionUncurryThis,id=0,postfix=Math.random(),toString$h=uncurryThis$B(1..toString),uid$3=function(e){return"Symbol("+(void 0===e?"":e)+")_"+toString$h(++id+postfix,36)},global$z=global$E,shared$3=shared$4,hasOwn$k=hasOwnProperty_1,uid$2=uid$3,NATIVE_SYMBOL$2=symbolConstructorDetection,USE_SYMBOL_AS_UID=useSymbolAsUid,Symbol$1=global$z.Symbol,WellKnownSymbolsStore=shared$3("wks"),createWellKnownSymbol=USE_SYMBOL_AS_UID?Symbol$1.for||Symbol$1:Symbol$1&&Symbol$1.withoutSetter||uid$2,wellKnownSymbol$o=function(e){return hasOwn$k(WellKnownSymbolsStore,e)||(WellKnownSymbolsStore[e]=NATIVE_SYMBOL$2&&hasOwn$k(Symbol$1,e)?Symbol$1[e]:createWellKnownSymbol("Symbol."+e)),WellKnownSymbolsStore[e]},call$o=functionCall,isObject$i=isObject$k,isSymbol$3=isSymbol$4,getMethod$4=getMethod$5,ordinaryToPrimitive=ordinaryToPrimitive$1,wellKnownSymbol$n=wellKnownSymbol$o,$TypeError$j=TypeError,TO_PRIMITIVE=wellKnownSymbol$n("toPrimitive"),toPrimitive$2=function(e,t){if(!isObject$i(e)||isSymbol$3(e))return e;var r,n=getMethod$4(e,TO_PRIMITIVE);if(n){if(void 0===t&&(t="default"),r=call$o(n,e,t),!isObject$i(r)||isSymbol$3(r))return r;throw new $TypeError$j("Can't convert object to primitive value")}return void 0===t&&(t="number"),ordinaryToPrimitive(e,t)},toPrimitive$1=toPrimitive$2,isSymbol$2=isSymbol$4,toPropertyKey$3=function(e){var t=toPrimitive$1(e,"string");return isSymbol$2(t)?t:t+""},global$y=global$E,isObject$h=isObject$k,document$5=global$y.document,EXISTS$1=isObject$h(document$5)&&isObject$h(document$5.createElement),documentCreateElement$2=function(e){return EXISTS$1?document$5.createElement(e):{}},DESCRIPTORS$t=descriptors$1,fails$w=fails$B,createElement$1=documentCreateElement$2,ie8DomDefine=!DESCRIPTORS$t&&!fails$w((function(){return 7!==Object.defineProperty(createElement$1("div"),"a",{get:function(){return 7}}).a})),DESCRIPTORS$s=descriptors$1,call$n=functionCall,propertyIsEnumerableModule$1=objectPropertyIsEnumerable,createPropertyDescriptor$8=createPropertyDescriptor$9,toIndexedObject$5=toIndexedObject$6,toPropertyKey$2=toPropertyKey$3,hasOwn$j=hasOwnProperty_1,IE8_DOM_DEFINE$1=ie8DomDefine,$getOwnPropertyDescriptor$1=Object.getOwnPropertyDescriptor;objectGetOwnPropertyDescriptor.f=DESCRIPTORS$s?$getOwnPropertyDescriptor$1:function(e,t){if(e=toIndexedObject$5(e),t=toPropertyKey$2(t),IE8_DOM_DEFINE$1)try{return $getOwnPropertyDescriptor$1(e,t)}catch(r){}if(hasOwn$j(e,t))return createPropertyDescriptor$8(!call$n(propertyIsEnumerableModule$1.f,e,t),e[t])};var objectDefineProperty={},DESCRIPTORS$r=descriptors$1,fails$v=fails$B,v8PrototypeDefineBug=DESCRIPTORS$r&&fails$v((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),isObject$g=isObject$k,$String$4=String,$TypeError$i=TypeError,anObject$i=function(e){if(isObject$g(e))return e;throw new $TypeError$i($String$4(e)+" is not an object")},DESCRIPTORS$q=descriptors$1,IE8_DOM_DEFINE=ie8DomDefine,V8_PROTOTYPE_DEFINE_BUG$1=v8PrototypeDefineBug,anObject$h=anObject$i,toPropertyKey$1=toPropertyKey$3,$TypeError$h=TypeError,$defineProperty=Object.defineProperty,$getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,ENUMERABLE="enumerable",CONFIGURABLE$1="configurable",WRITABLE="writable";objectDefineProperty.f=DESCRIPTORS$q?V8_PROTOTYPE_DEFINE_BUG$1?function(e,t,r){if(anObject$h(e),t=toPropertyKey$1(t),anObject$h(r),"function"==typeof e&&"prototype"===t&&"value"in r&&WRITABLE in r&&!r[WRITABLE]){var n=$getOwnPropertyDescriptor(e,t);n&&n[WRITABLE]&&(e[t]=r.value,r={configurable:CONFIGURABLE$1 in r?r[CONFIGURABLE$1]:n[CONFIGURABLE$1],enumerable:ENUMERABLE in r?r[ENUMERABLE]:n[ENUMERABLE],writable:!1})}return $defineProperty(e,t,r)}:$defineProperty:function(e,t,r){if(anObject$h(e),t=toPropertyKey$1(t),anObject$h(r),IE8_DOM_DEFINE)try{return $defineProperty(e,t,r)}catch(n){}if("get"in r||"set"in r)throw new $TypeError$h("Accessors not supported");return"value"in r&&(e[t]=r.value),e};var DESCRIPTORS$p=descriptors$1,definePropertyModule$5=objectDefineProperty,createPropertyDescriptor$7=createPropertyDescriptor$9,createNonEnumerableProperty$c=DESCRIPTORS$p?function(e,t,r){return definePropertyModule$5.f(e,t,createPropertyDescriptor$7(1,r))}:function(e,t,r){return e[t]=r,e},makeBuiltIn$3={exports:{}},DESCRIPTORS$o=descriptors$1,hasOwn$i=hasOwnProperty_1,FunctionPrototype$1=Function.prototype,getDescriptor$1=DESCRIPTORS$o&&Object.getOwnPropertyDescriptor,EXISTS=hasOwn$i(FunctionPrototype$1,"name"),PROPER=EXISTS&&"something"===function(){}.name,CONFIGURABLE=EXISTS&&(!DESCRIPTORS$o||DESCRIPTORS$o&&getDescriptor$1(FunctionPrototype$1,"name").configurable),functionName={EXISTS:EXISTS,PROPER:PROPER,CONFIGURABLE:CONFIGURABLE},uncurryThis$A=functionUncurryThis,isCallable$l=isCallable$r,store$1=sharedStoreExports,functionToString=uncurryThis$A(Function.toString);isCallable$l(store$1.inspectSource)||(store$1.inspectSource=function(e){return functionToString(e)});var inspectSource$3=store$1.inspectSource,global$x=global$E,isCallable$k=isCallable$r,WeakMap$2=global$x.WeakMap,weakMapBasicDetection=isCallable$k(WeakMap$2)&&/native code/.test(String(WeakMap$2)),shared$2=shared$4,uid$1=uid$3,keys$2=shared$2("keys"),sharedKey$3=function(e){return keys$2[e]||(keys$2[e]=uid$1(e))},hiddenKeys$4={},NATIVE_WEAK_MAP=weakMapBasicDetection,global$w=global$E,isObject$f=isObject$k,createNonEnumerableProperty$b=createNonEnumerableProperty$c,hasOwn$h=hasOwnProperty_1,shared$1=sharedStoreExports,sharedKey$2=sharedKey$3,hiddenKeys$3=hiddenKeys$4,OBJECT_ALREADY_INITIALIZED="Object already initialized",TypeError$6=global$w.TypeError,WeakMap$1=global$w.WeakMap,set$3,get$2,has,enforce=function(e){return has(e)?get$2(e):set$3(e,{})},getterFor$1=function(e){return function(t){var r;if(!isObject$f(t)||(r=get$2(t)).type!==e)throw new TypeError$6("Incompatible receiver, "+e+" required");return r}};if(NATIVE_WEAK_MAP||shared$1.state){var store=shared$1.state||(shared$1.state=new WeakMap$1);store.get=store.get,store.has=store.has,store.set=store.set,set$3=function(e,t){if(store.has(e))throw new TypeError$6(OBJECT_ALREADY_INITIALIZED);return t.facade=e,store.set(e,t),t},get$2=function(e){return store.get(e)||{}},has=function(e){return store.has(e)}}else{var STATE=sharedKey$2("state");hiddenKeys$3[STATE]=!0,set$3=function(e,t){if(hasOwn$h(e,STATE))throw new TypeError$6(OBJECT_ALREADY_INITIALIZED);return t.facade=e,createNonEnumerableProperty$b(e,STATE,t),t},get$2=function(e){return hasOwn$h(e,STATE)?e[STATE]:{}},has=function(e){return hasOwn$h(e,STATE)}}var internalState={set:set$3,get:get$2,has:has,enforce:enforce,getterFor:getterFor$1},uncurryThis$z=functionUncurryThis,fails$u=fails$B,isCallable$j=isCallable$r,hasOwn$g=hasOwnProperty_1,DESCRIPTORS$n=descriptors$1,CONFIGURABLE_FUNCTION_NAME$2=functionName.CONFIGURABLE,inspectSource$2=inspectSource$3,InternalStateModule$a=internalState,enforceInternalState$3=InternalStateModule$a.enforce,getInternalState$8=InternalStateModule$a.get,$String$3=String,defineProperty$a=Object.defineProperty,stringSlice$8=uncurryThis$z("".slice),replace$a=uncurryThis$z("".replace),join$3=uncurryThis$z([].join),CONFIGURABLE_LENGTH=DESCRIPTORS$n&&!fails$u((function(){return 8!==defineProperty$a((function(){}),"length",{value:8}).length})),TEMPLATE=String(String).split("String"),makeBuiltIn$2=makeBuiltIn$3.exports=function(e,t,r){"Symbol("===stringSlice$8($String$3(t),0,7)&&(t="["+replace$a($String$3(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!hasOwn$g(e,"name")||CONFIGURABLE_FUNCTION_NAME$2&&e.name!==t)&&(DESCRIPTORS$n?defineProperty$a(e,"name",{value:t,configurable:!0}):e.name=t),CONFIGURABLE_LENGTH&&r&&hasOwn$g(r,"arity")&&e.length!==r.arity&&defineProperty$a(e,"length",{value:r.arity});try{r&&hasOwn$g(r,"constructor")&&r.constructor?DESCRIPTORS$n&&defineProperty$a(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(i){}var n=enforceInternalState$3(e);return hasOwn$g(n,"source")||(n.source=join$3(TEMPLATE,"string"==typeof t?t:"")),e};Function.prototype.toString=makeBuiltIn$2((function(){return isCallable$j(this)&&getInternalState$8(this).source||inspectSource$2(this)}),"toString");var makeBuiltInExports=makeBuiltIn$3.exports,isCallable$i=isCallable$r,definePropertyModule$4=objectDefineProperty,makeBuiltIn$1=makeBuiltInExports,defineGlobalProperty$1=defineGlobalProperty$3,defineBuiltIn$f=function(e,t,r,n){n||(n={});var i=n.enumerable,o=void 0!==n.name?n.name:t;if(isCallable$i(r)&&makeBuiltIn$1(r,o,n),n.global)i?e[t]=r:defineGlobalProperty$1(t,r);else{try{n.unsafe?e[t]&&(i=!0):delete e[t]}catch(s){}i?e[t]=r:definePropertyModule$4.f(e,t,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return e},objectGetOwnPropertyNames={},ceil=Math.ceil,floor$6=Math.floor,mathTrunc=Math.trunc||function(e){var t=+e;return(t>0?floor$6:ceil)(t)},trunc=mathTrunc,toIntegerOrInfinity$a=function(e){var t=+e;return t!=t||0===t?0:trunc(t)},toIntegerOrInfinity$9=toIntegerOrInfinity$a,max$1=Math.max,min$3=Math.min,toAbsoluteIndex$3=function(e,t){var r=toIntegerOrInfinity$9(e);return r<0?max$1(r+t,0):min$3(r,t)},toIntegerOrInfinity$8=toIntegerOrInfinity$a,min$2=Math.min,toLength$7=function(e){var t=toIntegerOrInfinity$8(e);return t>0?min$2(t,9007199254740991):0},toLength$6=toLength$7,lengthOfArrayLike$g=function(e){return toLength$6(e.length)},toIndexedObject$4=toIndexedObject$6,toAbsoluteIndex$2=toAbsoluteIndex$3,lengthOfArrayLike$f=lengthOfArrayLike$g,createMethod$5=function(e){return function(t,r,n){var i=toIndexedObject$4(t),o=lengthOfArrayLike$f(i);if(0===o)return!e&&-1;var s,a=toAbsoluteIndex$2(n,o);if(e&&r!=r){for(;o>a;)if((s=i[a++])!=s)return!0}else for(;o>a;a++)if((e||a in i)&&i[a]===r)return e||a||0;return!e&&-1}},arrayIncludes={includes:createMethod$5(!0),indexOf:createMethod$5(!1)},uncurryThis$y=functionUncurryThis,hasOwn$f=hasOwnProperty_1,toIndexedObject$3=toIndexedObject$6,indexOf$1=arrayIncludes.indexOf,hiddenKeys$2=hiddenKeys$4,push$8=uncurryThis$y([].push),objectKeysInternal=function(e,t){var r,n=toIndexedObject$3(e),i=0,o=[];for(r in n)!hasOwn$f(hiddenKeys$2,r)&&hasOwn$f(n,r)&&push$8(o,r);for(;t.length>i;)hasOwn$f(n,r=t[i++])&&(~indexOf$1(o,r)||push$8(o,r));return o},enumBugKeys$3=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],internalObjectKeys$1=objectKeysInternal,enumBugKeys$2=enumBugKeys$3,hiddenKeys$1=enumBugKeys$2.concat("length","prototype");objectGetOwnPropertyNames.f=Object.getOwnPropertyNames||function(e){return internalObjectKeys$1(e,hiddenKeys$1)};var objectGetOwnPropertySymbols={};objectGetOwnPropertySymbols.f=Object.getOwnPropertySymbols;var getBuiltIn$a=getBuiltIn$c,uncurryThis$x=functionUncurryThis,getOwnPropertyNamesModule=objectGetOwnPropertyNames,getOwnPropertySymbolsModule$1=objectGetOwnPropertySymbols,anObject$g=anObject$i,concat$2=uncurryThis$x([].concat),ownKeys$v=getBuiltIn$a("Reflect","ownKeys")||function(e){var t=getOwnPropertyNamesModule.f(anObject$g(e)),r=getOwnPropertySymbolsModule$1.f;return r?concat$2(t,r(e)):t},hasOwn$e=hasOwnProperty_1,ownKeys$u=ownKeys$v,getOwnPropertyDescriptorModule$1=objectGetOwnPropertyDescriptor,definePropertyModule$3=objectDefineProperty,copyConstructorProperties$4=function(e,t,r){for(var n=ownKeys$u(t),i=definePropertyModule$3.f,o=getOwnPropertyDescriptorModule$1.f,s=0;s<n.length;s++){var a=n[s];hasOwn$e(e,a)||r&&hasOwn$e(r,a)||i(e,a,o(t,a))}},fails$t=fails$B,isCallable$h=isCallable$r,replacement=/#|\.prototype\./,isForced$3=function(e,t){var r=data[normalize(e)];return r===POLYFILL||r!==NATIVE&&(isCallable$h(t)?fails$t(t):!!t)},normalize=isForced$3.normalize=function(e){return String(e).replace(replacement,".").toLowerCase()},data=isForced$3.data={},NATIVE=isForced$3.NATIVE="N",POLYFILL=isForced$3.POLYFILL="P",isForced_1=isForced$3,global$v=global$E,getOwnPropertyDescriptor$2=objectGetOwnPropertyDescriptor.f,createNonEnumerableProperty$a=createNonEnumerableProperty$c,defineBuiltIn$e=defineBuiltIn$f,defineGlobalProperty=defineGlobalProperty$3,copyConstructorProperties$3=copyConstructorProperties$4,isForced$2=isForced_1,_export=function(e,t){var r,n,i,o,s,a=e.target,l=e.global,c=e.stat;if(r=l?global$v:c?global$v[a]||defineGlobalProperty(a,{}):global$v[a]&&global$v[a].prototype)for(n in t){if(o=t[n],i=e.dontCallGetSet?(s=getOwnPropertyDescriptor$2(r,n))&&s.value:r[n],!isForced$2(l?n:a+(c?".":"#")+n,e.forced)&&void 0!==i){if(typeof o==typeof i)continue;copyConstructorProperties$3(o,i)}(e.sham||i&&i.sham)&&createNonEnumerableProperty$a(o,"sham",!0),defineBuiltIn$e(r,n,o,e)}},NATIVE_BIND$1=functionBindNative,FunctionPrototype=Function.prototype,apply$4=FunctionPrototype.apply,call$m=FunctionPrototype.call,functionApply="object"==typeof Reflect&&Reflect.apply||(NATIVE_BIND$1?call$m.bind(apply$4):function(){return call$m.apply(apply$4,arguments)}),uncurryThis$w=functionUncurryThis,aCallable$a=aCallable$c,functionUncurryThisAccessor=function(e,t,r){try{return uncurryThis$w(aCallable$a(Object.getOwnPropertyDescriptor(e,t)[r]))}catch(n){}},isObject$e=isObject$k,isPossiblePrototype$1=function(e){return isObject$e(e)||null===e},isPossiblePrototype=isPossiblePrototype$1,$String$2=String,$TypeError$g=TypeError,aPossiblePrototype$1=function(e){if(isPossiblePrototype(e))return e;throw new $TypeError$g("Can't set "+$String$2(e)+" as a prototype")},uncurryThisAccessor$2=functionUncurryThisAccessor,isObject$d=isObject$k,requireObjectCoercible$4=requireObjectCoercible$7,aPossiblePrototype=aPossiblePrototype$1,objectSetPrototypeOf=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=uncurryThisAccessor$2(Object.prototype,"__proto__","set"))(r,[]),t=r instanceof Array}catch(n){}return function(r,n){return requireObjectCoercible$4(r),aPossiblePrototype(n),isObject$d(r)?(t?e(r,n):r.__proto__=n,r):r}}():void 0),defineProperty$9=objectDefineProperty.f,proxyAccessor$2=function(e,t,r){r in e||defineProperty$9(e,r,{configurable:!0,get:function(){return t[r]},set:function(e){t[r]=e}})},isCallable$g=isCallable$r,isObject$c=isObject$k,setPrototypeOf$6=objectSetPrototypeOf,inheritIfRequired$5=function(e,t,r){var n,i;return setPrototypeOf$6&&isCallable$g(n=t.constructor)&&n!==r&&isObject$c(i=n.prototype)&&i!==r.prototype&&setPrototypeOf$6(e,i),e},wellKnownSymbol$m=wellKnownSymbol$o,TO_STRING_TAG$3=wellKnownSymbol$m("toStringTag"),test$2={};test$2[TO_STRING_TAG$3]="z";var toStringTagSupport="[object z]"===String(test$2),TO_STRING_TAG_SUPPORT=toStringTagSupport,isCallable$f=isCallable$r,classofRaw$1=classofRaw$2,wellKnownSymbol$l=wellKnownSymbol$o,TO_STRING_TAG$2=wellKnownSymbol$l("toStringTag"),$Object$1=Object,CORRECT_ARGUMENTS="Arguments"===classofRaw$1(function(){return arguments}()),tryGet=function(e,t){try{return e[t]}catch(r){}},classof$g=TO_STRING_TAG_SUPPORT?classofRaw$1:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=tryGet(t=$Object$1(e),TO_STRING_TAG$2))?r:CORRECT_ARGUMENTS?classofRaw$1(t):"Object"===(n=classofRaw$1(t))&&isCallable$f(t.callee)?"Arguments":n},classof$f=classof$g,$String$1=String,toString$g=function(e){if("Symbol"===classof$f(e))throw new TypeError("Cannot convert a Symbol value to a string");return $String$1(e)},toString$f=toString$g,normalizeStringArgument$4=function(e,t){return void 0===e?arguments.length<2?"":t:toString$f(e)},isObject$b=isObject$k,createNonEnumerableProperty$9=createNonEnumerableProperty$c,installErrorCause$1=function(e,t){isObject$b(t)&&"cause"in t&&createNonEnumerableProperty$9(e,"cause",t.cause)},uncurryThis$v=functionUncurryThis,$Error=Error,replace$9=uncurryThis$v("".replace),TEST=String(new $Error("zxcasd").stack),V8_OR_CHAKRA_STACK_ENTRY=/\n\s*at [^:]*:[^\n]*/,IS_V8_OR_CHAKRA_STACK=V8_OR_CHAKRA_STACK_ENTRY.test(TEST),errorStackClear=function(e,t){if(IS_V8_OR_CHAKRA_STACK&&"string"==typeof e&&!$Error.prepareStackTrace)for(;t--;)e=replace$9(e,V8_OR_CHAKRA_STACK_ENTRY,"");return e},fails$s=fails$B,createPropertyDescriptor$6=createPropertyDescriptor$9,errorStackInstallable=!fails$s((function(){var e=new Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",createPropertyDescriptor$6(1,7)),7!==e.stack)})),createNonEnumerableProperty$8=createNonEnumerableProperty$c,clearErrorStack$2=errorStackClear,ERROR_STACK_INSTALLABLE=errorStackInstallable,captureStackTrace=Error.captureStackTrace,errorStackInstall=function(e,t,r,n){ERROR_STACK_INSTALLABLE&&(captureStackTrace?captureStackTrace(e,t):createNonEnumerableProperty$8(e,"stack",clearErrorStack$2(r,n)))},getBuiltIn$9=getBuiltIn$c,hasOwn$d=hasOwnProperty_1,createNonEnumerableProperty$7=createNonEnumerableProperty$c,isPrototypeOf$7=objectIsPrototypeOf,setPrototypeOf$5=objectSetPrototypeOf,copyConstructorProperties$2=copyConstructorProperties$4,proxyAccessor$1=proxyAccessor$2,inheritIfRequired$4=inheritIfRequired$5,normalizeStringArgument$3=normalizeStringArgument$4,installErrorCause=installErrorCause$1,installErrorStack=errorStackInstall,DESCRIPTORS$m=descriptors$1,wrapErrorConstructorWithCause$1=function(e,t,r,n){var i="stackTraceLimit",o=n?2:1,s=e.split("."),a=s[s.length-1],l=getBuiltIn$9.apply(null,s);if(l){var c=l.prototype;if(hasOwn$d(c,"cause")&&delete c.cause,!r)return l;var u=getBuiltIn$9("Error"),h=t((function(e,t){var r=normalizeStringArgument$3(n?t:e,void 0),i=n?new l(e):new l;return void 0!==r&&createNonEnumerableProperty$7(i,"message",r),installErrorStack(i,h,i.stack,2),this&&isPrototypeOf$7(c,this)&&inheritIfRequired$4(i,this,h),arguments.length>o&&installErrorCause(i,arguments[o]),i}));h.prototype=c,"Error"!==a?setPrototypeOf$5?setPrototypeOf$5(h,u):copyConstructorProperties$2(h,u,{name:!0}):DESCRIPTORS$m&&i in l&&(proxyAccessor$1(h,l,i),proxyAccessor$1(h,l,"prepareStackTrace")),copyConstructorProperties$2(h,l);try{c.name!==a&&createNonEnumerableProperty$7(c,"name",a),c.constructor=h}catch(d){}return h}},$$x=_export,global$u=global$E,apply$3=functionApply,wrapErrorConstructorWithCause=wrapErrorConstructorWithCause$1,WEB_ASSEMBLY="WebAssembly",WebAssembly=global$u[WEB_ASSEMBLY],FORCED$4=7!==new Error("e",{cause:7}).cause,exportGlobalErrorCauseWrapper=function(e,t){var r={};r[e]=wrapErrorConstructorWithCause(e,t,FORCED$4),$$x({global:!0,constructor:!0,arity:1,forced:FORCED$4},r)},exportWebAssemblyErrorCauseWrapper=function(e,t){if(WebAssembly&&WebAssembly[e]){var r={};r[e]=wrapErrorConstructorWithCause(WEB_ASSEMBLY+"."+e,t,FORCED$4),$$x({target:WEB_ASSEMBLY,stat:!0,constructor:!0,arity:1,forced:FORCED$4},r)}};exportGlobalErrorCauseWrapper("Error",(function(e){return function(t){return apply$3(e,this,arguments)}})),exportGlobalErrorCauseWrapper("EvalError",(function(e){return function(t){return apply$3(e,this,arguments)}})),exportGlobalErrorCauseWrapper("RangeError",(function(e){return function(t){return apply$3(e,this,arguments)}})),exportGlobalErrorCauseWrapper("ReferenceError",(function(e){return function(t){return apply$3(e,this,arguments)}})),exportGlobalErrorCauseWrapper("SyntaxError",(function(e){return function(t){return apply$3(e,this,arguments)}})),exportGlobalErrorCauseWrapper("TypeError",(function(e){return function(t){return apply$3(e,this,arguments)}})),exportGlobalErrorCauseWrapper("URIError",(function(e){return function(t){return apply$3(e,this,arguments)}})),exportWebAssemblyErrorCauseWrapper("CompileError",(function(e){return function(t){return apply$3(e,this,arguments)}})),exportWebAssemblyErrorCauseWrapper("LinkError",(function(e){return function(t){return apply$3(e,this,arguments)}})),exportWebAssemblyErrorCauseWrapper("RuntimeError",(function(e){return function(t){return apply$3(e,this,arguments)}}));var objectDefineProperties={},internalObjectKeys=objectKeysInternal,enumBugKeys$1=enumBugKeys$3,objectKeys$2=Object.keys||function(e){return internalObjectKeys(e,enumBugKeys$1)},DESCRIPTORS$l=descriptors$1,V8_PROTOTYPE_DEFINE_BUG=v8PrototypeDefineBug,definePropertyModule$2=objectDefineProperty,anObject$f=anObject$i,toIndexedObject$2=toIndexedObject$6,objectKeys$1=objectKeys$2;objectDefineProperties.f=DESCRIPTORS$l&&!V8_PROTOTYPE_DEFINE_BUG?Object.defineProperties:function(e,t){anObject$f(e);for(var r,n=toIndexedObject$2(t),i=objectKeys$1(t),o=i.length,s=0;o>s;)definePropertyModule$2.f(e,r=i[s++],n[r]);return e};var getBuiltIn$8=getBuiltIn$c,html$2=getBuiltIn$8("document","documentElement"),anObject$e=anObject$i,definePropertiesModule=objectDefineProperties,enumBugKeys=enumBugKeys$3,hiddenKeys=hiddenKeys$4,html$1=html$2,documentCreateElement$1=documentCreateElement$2,sharedKey$1=sharedKey$3,GT=">",LT="<",PROTOTYPE$1="prototype",SCRIPT="script",IE_PROTO$1=sharedKey$1("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(e){return LT+SCRIPT+GT+e+LT+"/"+SCRIPT+GT},NullProtoObjectViaActiveX=function(e){e.write(scriptTag("")),e.close();var t=e.parentWindow.Object;return e=null,t},NullProtoObjectViaIFrame=function(){var e,t=documentCreateElement$1("iframe"),r="java"+SCRIPT+":";return t.style.display="none",html$1.appendChild(t),t.src=String(r),(e=t.contentWindow.document).open(),e.write(scriptTag("document.F=Object")),e.close(),e.F},activeXDocument,NullProtoObject=function(){try{activeXDocument=new ActiveXObject("htmlfile")}catch(t){}NullProtoObject="undefined"!=typeof document?document.domain&&activeXDocument?NullProtoObjectViaActiveX(activeXDocument):NullProtoObjectViaIFrame():NullProtoObjectViaActiveX(activeXDocument);for(var e=enumBugKeys.length;e--;)delete NullProtoObject[PROTOTYPE$1][enumBugKeys[e]];return NullProtoObject()};hiddenKeys[IE_PROTO$1]=!0;var objectCreate=Object.create||function(e,t){var r;return null!==e?(EmptyConstructor[PROTOTYPE$1]=anObject$e(e),r=new EmptyConstructor,EmptyConstructor[PROTOTYPE$1]=null,r[IE_PROTO$1]=e):r=NullProtoObject(),void 0===t?r:definePropertiesModule.f(r,t)},wellKnownSymbol$k=wellKnownSymbol$o,create$6=objectCreate,defineProperty$8=objectDefineProperty.f,UNSCOPABLES=wellKnownSymbol$k("unscopables"),ArrayPrototype$1=Array.prototype;void 0===ArrayPrototype$1[UNSCOPABLES]&&defineProperty$8(ArrayPrototype$1,UNSCOPABLES,{configurable:!0,value:create$6(null)});var addToUnscopables$2=function(e){ArrayPrototype$1[UNSCOPABLES][e]=!0},iterators={},fails$r=fails$B,correctPrototypeGetter=!fails$r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),hasOwn$c=hasOwnProperty_1,isCallable$e=isCallable$r,toObject$b=toObject$d,sharedKey=sharedKey$3,CORRECT_PROTOTYPE_GETTER=correctPrototypeGetter,IE_PROTO=sharedKey("IE_PROTO"),$Object=Object,ObjectPrototype$2=$Object.prototype,objectGetPrototypeOf=CORRECT_PROTOTYPE_GETTER?$Object.getPrototypeOf:function(e){var t=toObject$b(e);if(hasOwn$c(t,IE_PROTO))return t[IE_PROTO];var r=t.constructor;return isCallable$e(r)&&t instanceof r?r.prototype:t instanceof $Object?ObjectPrototype$2:null},fails$q=fails$B,isCallable$d=isCallable$r,isObject$a=isObject$k,getPrototypeOf$4=objectGetPrototypeOf,defineBuiltIn$d=defineBuiltIn$f,wellKnownSymbol$j=wellKnownSymbol$o,ITERATOR$7=wellKnownSymbol$j("iterator"),BUGGY_SAFARI_ITERATORS$1=!1,IteratorPrototype$2,PrototypeOfArrayIteratorPrototype,arrayIterator;[].keys&&(arrayIterator=[].keys(),"next"in arrayIterator?(PrototypeOfArrayIteratorPrototype=getPrototypeOf$4(getPrototypeOf$4(arrayIterator)),PrototypeOfArrayIteratorPrototype!==Object.prototype&&(IteratorPrototype$2=PrototypeOfArrayIteratorPrototype)):BUGGY_SAFARI_ITERATORS$1=!0);var NEW_ITERATOR_PROTOTYPE=!isObject$a(IteratorPrototype$2)||fails$q((function(){var e={};return IteratorPrototype$2[ITERATOR$7].call(e)!==e}));NEW_ITERATOR_PROTOTYPE&&(IteratorPrototype$2={}),isCallable$d(IteratorPrototype$2[ITERATOR$7])||defineBuiltIn$d(IteratorPrototype$2,ITERATOR$7,(function(){return this}));var iteratorsCore={IteratorPrototype:IteratorPrototype$2,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS$1},defineProperty$7=objectDefineProperty.f,hasOwn$b=hasOwnProperty_1,wellKnownSymbol$i=wellKnownSymbol$o,TO_STRING_TAG$1=wellKnownSymbol$i("toStringTag"),setToStringTag$8=function(e,t,r){e&&!r&&(e=e.prototype),e&&!hasOwn$b(e,TO_STRING_TAG$1)&&defineProperty$7(e,TO_STRING_TAG$1,{configurable:!0,value:t})},IteratorPrototype$1=iteratorsCore.IteratorPrototype,create$5=objectCreate,createPropertyDescriptor$5=createPropertyDescriptor$9,setToStringTag$7=setToStringTag$8,Iterators$4=iterators,returnThis$1=function(){return this},iteratorCreateConstructor=function(e,t,r,n){var i=t+" Iterator";return e.prototype=create$5(IteratorPrototype$1,{next:createPropertyDescriptor$5(+!n,r)}),setToStringTag$7(e,i,!1),Iterators$4[i]=returnThis$1,e},$$w=_export,call$l=functionCall,FunctionName$1=functionName,isCallable$c=isCallable$r,createIteratorConstructor$2=iteratorCreateConstructor,getPrototypeOf$3=objectGetPrototypeOf,setPrototypeOf$4=objectSetPrototypeOf,setToStringTag$6=setToStringTag$8,createNonEnumerableProperty$6=createNonEnumerableProperty$c,defineBuiltIn$c=defineBuiltIn$f,wellKnownSymbol$h=wellKnownSymbol$o,Iterators$3=iterators,IteratorsCore=iteratorsCore,PROPER_FUNCTION_NAME$2=FunctionName$1.PROPER,CONFIGURABLE_FUNCTION_NAME$1=FunctionName$1.CONFIGURABLE,IteratorPrototype=IteratorsCore.IteratorPrototype,BUGGY_SAFARI_ITERATORS=IteratorsCore.BUGGY_SAFARI_ITERATORS,ITERATOR$6=wellKnownSymbol$h("iterator"),KEYS="keys",VALUES="values",ENTRIES="entries",returnThis=function(){return this},iteratorDefine=function(e,t,r,n,i,o,s){createIteratorConstructor$2(r,t,n);var a,l,c,u=function(e){if(e===i&&y)return y;if(!BUGGY_SAFARI_ITERATORS&&e&&e in p)return p[e];switch(e){case KEYS:case VALUES:case ENTRIES:return function(){return new r(this,e)}}return function(){return new r(this)}},h=t+" Iterator",d=!1,p=e.prototype,f=p[ITERATOR$6]||p["@@iterator"]||i&&p[i],y=!BUGGY_SAFARI_ITERATORS&&f||u(i),g="Array"===t&&p.entries||f;if(g&&(a=getPrototypeOf$3(g.call(new e)))!==Object.prototype&&a.next&&(getPrototypeOf$3(a)!==IteratorPrototype&&(setPrototypeOf$4?setPrototypeOf$4(a,IteratorPrototype):isCallable$c(a[ITERATOR$6])||defineBuiltIn$c(a,ITERATOR$6,returnThis)),setToStringTag$6(a,h,!0)),PROPER_FUNCTION_NAME$2&&i===VALUES&&f&&f.name!==VALUES&&(CONFIGURABLE_FUNCTION_NAME$1?createNonEnumerableProperty$6(p,"name",VALUES):(d=!0,y=function(){return call$l(f,this)})),i)if(l={values:u(VALUES),keys:o?y:u(KEYS),entries:u(ENTRIES)},s)for(c in l)(BUGGY_SAFARI_ITERATORS||d||!(c in p))&&defineBuiltIn$c(p,c,l[c]);else $$w({target:t,proto:!0,forced:BUGGY_SAFARI_ITERATORS||d},l);return p[ITERATOR$6]!==y&&defineBuiltIn$c(p,ITERATOR$6,y,{name:i}),Iterators$3[t]=y,l},createIterResultObject$4=function(e,t){return{value:e,done:t}},toIndexedObject$1=toIndexedObject$6,addToUnscopables$1=addToUnscopables$2,Iterators$2=iterators,InternalStateModule$9=internalState,defineProperty$6=objectDefineProperty.f,defineIterator$1=iteratorDefine,createIterResultObject$3=createIterResultObject$4,DESCRIPTORS$k=descriptors$1,ARRAY_ITERATOR="Array Iterator",setInternalState$8=InternalStateModule$9.set,getInternalState$7=InternalStateModule$9.getterFor(ARRAY_ITERATOR),es_array_iterator=defineIterator$1(Array,"Array",(function(e,t){setInternalState$8(this,{type:ARRAY_ITERATOR,target:toIndexedObject$1(e),index:0,kind:t})}),(function(){var e=getInternalState$7(this),t=e.target,r=e.index++;if(!t||r>=t.length)return e.target=void 0,createIterResultObject$3(void 0,!0);switch(e.kind){case"keys":return createIterResultObject$3(r,!1);case"values":return createIterResultObject$3(t[r],!1)}return createIterResultObject$3([r,t[r]],!1)}),"values"),values=Iterators$2.Arguments=Iterators$2.Array;if(addToUnscopables$1("keys"),addToUnscopables$1("values"),addToUnscopables$1("entries"),DESCRIPTORS$k&&"values"!==values.name)try{defineProperty$6(values,"name",{value:"values"})}catch(error){}var uncurryThis$u=functionUncurryThis,arraySlice$5=uncurryThis$u([].slice),classof$e=classofRaw$2,isArray$5=Array.isArray||function(e){return"Array"===classof$e(e)},uncurryThis$t=functionUncurryThis,isArray$4=isArray$5,isCallable$b=isCallable$r,classof$d=classofRaw$2,toString$e=toString$g,push$7=uncurryThis$t([].push),getJsonReplacerFunction=function(e){if(isCallable$b(e))return e;if(isArray$4(e)){for(var t=e.length,r=[],n=0;n<t;n++){var i=e[n];"string"==typeof i?push$7(r,i):"number"!=typeof i&&"Number"!==classof$d(i)&&"String"!==classof$d(i)||push$7(r,toString$e(i))}var o=r.length,s=!0;return function(e,t){if(s)return s=!1,t;if(isArray$4(this))return t;for(var n=0;n<o;n++)if(r[n]===e)return t}}},$$v=_export,getBuiltIn$7=getBuiltIn$c,apply$2=functionApply,call$k=functionCall,uncurryThis$s=functionUncurryThis,fails$p=fails$B,isCallable$a=isCallable$r,isSymbol$1=isSymbol$4,arraySlice$4=arraySlice$5,getReplacerFunction=getJsonReplacerFunction,NATIVE_SYMBOL$1=symbolConstructorDetection,$String=String,$stringify=getBuiltIn$7("JSON","stringify"),exec$5=uncurryThis$s(/./.exec),charAt$8=uncurryThis$s("".charAt),charCodeAt$2=uncurryThis$s("".charCodeAt),replace$8=uncurryThis$s("".replace),numberToString$1=uncurryThis$s(1..toString),tester=/[\uD800-\uDFFF]/g,low=/^[\uD800-\uDBFF]$/,hi=/^[\uDC00-\uDFFF]$/,WRONG_SYMBOLS_CONVERSION=!NATIVE_SYMBOL$1||fails$p((function(){var e=getBuiltIn$7("Symbol")("stringify detection");return"[null]"!==$stringify([e])||"{}"!==$stringify({a:e})||"{}"!==$stringify(Object(e))})),ILL_FORMED_UNICODE=fails$p((function(){return'"\\udf06\\ud834"'!==$stringify("\udf06\ud834")||'"\\udead"'!==$stringify("\udead")})),stringifyWithSymbolsFix=function(e,t){var r=arraySlice$4(arguments),n=getReplacerFunction(t);if(isCallable$a(n)||void 0!==e&&!isSymbol$1(e))return r[1]=function(e,t){if(isCallable$a(n)&&(t=call$k(n,this,$String(e),t)),!isSymbol$1(t))return t},apply$2($stringify,null,r)},fixIllFormed=function(e,t,r){var n=charAt$8(r,t-1),i=charAt$8(r,t+1);return exec$5(low,e)&&!exec$5(hi,i)||exec$5(hi,e)&&!exec$5(low,n)?"\\u"+numberToString$1(charCodeAt$2(e,0),16):e};$stringify&&$$v({target:"JSON",stat:!0,arity:3,forced:WRONG_SYMBOLS_CONVERSION||ILL_FORMED_UNICODE},{stringify:function(e,t,r){var n=arraySlice$4(arguments),i=apply$2(WRONG_SYMBOLS_CONVERSION?stringifyWithSymbolsFix:$stringify,null,n);return ILL_FORMED_UNICODE&&"string"==typeof i?replace$8(i,tester,fixIllFormed):i}});var DESCRIPTORS$j=descriptors$1,isArray$3=isArray$5,$TypeError$f=TypeError,getOwnPropertyDescriptor$1=Object.getOwnPropertyDescriptor,SILENT_ON_NON_WRITABLE_LENGTH_SET=DESCRIPTORS$j&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(error){return error instanceof TypeError}}(),arraySetLength=SILENT_ON_NON_WRITABLE_LENGTH_SET?function(e,t){if(isArray$3(e)&&!getOwnPropertyDescriptor$1(e,"length").writable)throw new $TypeError$f("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t},$TypeError$e=TypeError,MAX_SAFE_INTEGER=9007199254740991,doesNotExceedSafeInteger$2=function(e){if(e>MAX_SAFE_INTEGER)throw $TypeError$e("Maximum allowed index exceeded");return e},$$u=_export,toObject$a=toObject$d,lengthOfArrayLike$e=lengthOfArrayLike$g,setArrayLength$1=arraySetLength,doesNotExceedSafeInteger$1=doesNotExceedSafeInteger$2,fails$o=fails$B,INCORRECT_TO_LENGTH=fails$o((function(){return 4294967297!==[].push.call({length:4294967296},1)})),properErrorOnNonWritableLength$1=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(error){return error instanceof TypeError}},FORCED$3=INCORRECT_TO_LENGTH||!properErrorOnNonWritableLength$1();$$u({target:"Array",proto:!0,arity:1,forced:FORCED$3},{push:function(e){var t=toObject$a(this),r=lengthOfArrayLike$e(t),n=arguments.length;doesNotExceedSafeInteger$1(r+n);for(var i=0;i<n;i++)t[r]=arguments[i],r++;return setArrayLength$1(t,r),r}});var global$t=global$E,classof$c=classofRaw$2,engineIsNode="process"===classof$c(global$t.process),makeBuiltIn=makeBuiltInExports,defineProperty$5=objectDefineProperty,defineBuiltInAccessor$c=function(e,t,r){return r.get&&makeBuiltIn(r.get,t,{getter:!0}),r.set&&makeBuiltIn(r.set,t,{setter:!0}),defineProperty$5.f(e,t,r)},getBuiltIn$6=getBuiltIn$c,defineBuiltInAccessor$b=defineBuiltInAccessor$c,wellKnownSymbol$g=wellKnownSymbol$o,DESCRIPTORS$i=descriptors$1,SPECIES$4=wellKnownSymbol$g("species"),setSpecies$4=function(e){var t=getBuiltIn$6(e);DESCRIPTORS$i&&t&&!t[SPECIES$4]&&defineBuiltInAccessor$b(t,SPECIES$4,{configurable:!0,get:function(){return this}})},isPrototypeOf$6=objectIsPrototypeOf,$TypeError$d=TypeError,anInstance$7=function(e,t){if(isPrototypeOf$6(t,e))return e;throw new $TypeError$d("Incorrect invocation")},uncurryThis$r=functionUncurryThis,fails$n=fails$B,isCallable$9=isCallable$r,classof$b=classof$g,getBuiltIn$5=getBuiltIn$c,inspectSource$1=inspectSource$3,noop$2=function(){},construct=getBuiltIn$5("Reflect","construct"),constructorRegExp=/^\s*(?:class|function)\b/,exec$4=uncurryThis$r(constructorRegExp.exec),INCORRECT_TO_STRING$2=!constructorRegExp.test(noop$2),isConstructorModern=function(e){if(!isCallable$9(e))return!1;try{return construct(noop$2,[],e),!0}catch(error){return!1}},isConstructorLegacy=function(e){if(!isCallable$9(e))return!1;switch(classof$b(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return INCORRECT_TO_STRING$2||!!exec$4(constructorRegExp,inspectSource$1(e))}catch(error){return!0}};isConstructorLegacy.sham=!0;var isConstructor$3=!construct||fails$n((function(){var e;return isConstructorModern(isConstructorModern.call)||!isConstructorModern(Object)||!isConstructorModern((function(){e=!0}))||e}))?isConstructorLegacy:isConstructorModern,isConstructor$2=isConstructor$3,tryToString$4=tryToString$6,$TypeError$c=TypeError,aConstructor$2=function(e){if(isConstructor$2(e))return e;throw new $TypeError$c(tryToString$4(e)+" is not a constructor")},anObject$d=anObject$i,aConstructor$1=aConstructor$2,isNullOrUndefined$3=isNullOrUndefined$6,wellKnownSymbol$f=wellKnownSymbol$o,SPECIES$3=wellKnownSymbol$f("species"),speciesConstructor$3=function(e,t){var r,n=anObject$d(e).constructor;return void 0===n||isNullOrUndefined$3(r=anObject$d(n)[SPECIES$3])?t:aConstructor$1(r)},classofRaw=classofRaw$2,uncurryThis$q=functionUncurryThis,functionUncurryThisClause=function(e){if("Function"===classofRaw(e))return uncurryThis$q(e)},uncurryThis$p=functionUncurryThisClause,aCallable$9=aCallable$c,NATIVE_BIND=functionBindNative,bind$c=uncurryThis$p(uncurryThis$p.bind),functionBindContext=function(e,t){return aCallable$9(e),void 0===t?e:NATIVE_BIND?bind$c(e,t):function(){return e.apply(t,arguments)}},$TypeError$b=TypeError,validateArgumentsLength$5=function(e,t){if(e<t)throw new $TypeError$b("Not enough arguments");return e},userAgent$4=engineUserAgent,engineIsIos=/(?:ipad|iphone|ipod).*applewebkit/i.test(userAgent$4),global$s=global$E,apply$1=functionApply,bind$b=functionBindContext,isCallable$8=isCallable$r,hasOwn$a=hasOwnProperty_1,fails$m=fails$B,html=html$2,arraySlice$3=arraySlice$5,createElement=documentCreateElement$2,validateArgumentsLength$4=validateArgumentsLength$5,IS_IOS$2=engineIsIos,IS_NODE$6=engineIsNode,set$2=global$s.setImmediate,clear=global$s.clearImmediate,process$3=global$s.process,Dispatch=global$s.Dispatch,Function$1=global$s.Function,MessageChannel=global$s.MessageChannel,String$1=global$s.String,counter=0,queue$2={},ONREADYSTATECHANGE="onreadystatechange",$location,defer,channel$1,port;fails$m((function(){$location=global$s.location}));var run=function(e){if(hasOwn$a(queue$2,e)){var t=queue$2[e];delete queue$2[e],t()}},runner=function(e){return function(){run(e)}},eventListener=function(e){run(e.data)},globalPostMessageDefer=function(e){global$s.postMessage(String$1(e),$location.protocol+"//"+$location.host)};set$2&&clear||(set$2=function(e){validateArgumentsLength$4(arguments.length,1);var t=isCallable$8(e)?e:Function$1(e),r=arraySlice$3(arguments,1);return queue$2[++counter]=function(){apply$1(t,void 0,r)},defer(counter),counter},clear=function(e){delete queue$2[e]},IS_NODE$6?defer=function(e){process$3.nextTick(runner(e))}:Dispatch&&Dispatch.now?defer=function(e){Dispatch.now(runner(e))}:MessageChannel&&!IS_IOS$2?(channel$1=new MessageChannel,port=channel$1.port2,channel$1.port1.onmessage=eventListener,defer=bind$b(port.postMessage,port)):global$s.addEventListener&&isCallable$8(global$s.postMessage)&&!global$s.importScripts&&$location&&"file:"!==$location.protocol&&!fails$m(globalPostMessageDefer)?(defer=globalPostMessageDefer,global$s.addEventListener("message",eventListener,!1)):defer=ONREADYSTATECHANGE in createElement("script")?function(e){html.appendChild(createElement("script"))[ONREADYSTATECHANGE]=function(){html.removeChild(this),run(e)}}:function(e){setTimeout(runner(e),0)});var task$1={set:set$2,clear:clear},global$r=global$E,DESCRIPTORS$h=descriptors$1,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,safeGetBuiltIn$2=function(e){if(!DESCRIPTORS$h)return global$r[e];var t=getOwnPropertyDescriptor(global$r,e);return t&&t.value},Queue$2=function(){this.head=null,this.tail=null};Queue$2.prototype={add:function(e){var t={item:e,next:null},r=this.tail;r?r.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}};var queue$1=Queue$2,userAgent$3=engineUserAgent,engineIsIosPebble=/ipad|iphone|ipod/i.test(userAgent$3)&&"undefined"!=typeof Pebble,userAgent$2=engineUserAgent,engineIsWebosWebkit=/web0s(?!.*chrome)/i.test(userAgent$2),global$q=global$E,safeGetBuiltIn$1=safeGetBuiltIn$2,bind$a=functionBindContext,macrotask=task$1.set,Queue$1=queue$1,IS_IOS$1=engineIsIos,IS_IOS_PEBBLE=engineIsIosPebble,IS_WEBOS_WEBKIT=engineIsWebosWebkit,IS_NODE$5=engineIsNode,MutationObserver$1=global$q.MutationObserver||global$q.WebKitMutationObserver,document$4=global$q.document,process$2=global$q.process,Promise$1=global$q.Promise,microtask$1=safeGetBuiltIn$1("queueMicrotask"),notify$1,toggle,node,promise,then;if(!microtask$1){var queue=new Queue$1,flush=function(){var e,t;for(IS_NODE$5&&(e=process$2.domain)&&e.exit();t=queue.get();)try{t()}catch(error){throw queue.head&&notify$1(),error}e&&e.enter()};IS_IOS$1||IS_NODE$5||IS_WEBOS_WEBKIT||!MutationObserver$1||!document$4?!IS_IOS_PEBBLE&&Promise$1&&Promise$1.resolve?(promise=Promise$1.resolve(void 0),promise.constructor=Promise$1,then=bind$a(promise.then,promise),notify$1=function(){then(flush)}):IS_NODE$5?notify$1=function(){process$2.nextTick(flush)}:(macrotask=bind$a(macrotask,global$q),notify$1=function(){macrotask(flush)}):(toggle=!0,node=document$4.createTextNode(""),new MutationObserver$1(flush).observe(node,{characterData:!0}),notify$1=function(){node.data=toggle=!toggle}),microtask$1=function(e){queue.head||notify$1(),queue.add(e)}}var microtask_1=microtask$1,hostReportErrors$1=function(e,t){try{1===arguments.length?console.error(e):console.error(e,t)}catch(error){}},perform$3=function(e){try{return{error:!1,value:e()}}catch(error){return{error:!0,value:error}}},global$p=global$E,promiseNativeConstructor=global$p.Promise,engineIsDeno="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,IS_DENO$2=engineIsDeno,IS_NODE$4=engineIsNode,engineIsBrowser=!IS_DENO$2&&!IS_NODE$4&&"object"==typeof window&&"object"==typeof document,global$o=global$E,NativePromiseConstructor$3=promiseNativeConstructor,isCallable$7=isCallable$r,isForced$1=isForced_1,inspectSource=inspectSource$3,wellKnownSymbol$e=wellKnownSymbol$o,IS_BROWSER$1=engineIsBrowser,IS_DENO$1=engineIsDeno,V8_VERSION=engineV8Version;NativePromiseConstructor$3&&NativePromiseConstructor$3.prototype;var SPECIES$2=wellKnownSymbol$e("species"),SUBCLASSING=!1,NATIVE_PROMISE_REJECTION_EVENT$1=isCallable$7(global$o.PromiseRejectionEvent),FORCED_PROMISE_CONSTRUCTOR$5=isForced$1("Promise",(function(){var e=inspectSource(NativePromiseConstructor$3),t=e!==String(NativePromiseConstructor$3);if(!t&&66===V8_VERSION)return!0;if(!V8_VERSION||V8_VERSION<51||!/native code/.test(e)){var r=new NativePromiseConstructor$3((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};if((r.constructor={})[SPECIES$2]=n,!(SUBCLASSING=r.then((function(){}))instanceof n))return!0}return!t&&(IS_BROWSER$1||IS_DENO$1)&&!NATIVE_PROMISE_REJECTION_EVENT$1})),promiseConstructorDetection={CONSTRUCTOR:FORCED_PROMISE_CONSTRUCTOR$5,REJECTION_EVENT:NATIVE_PROMISE_REJECTION_EVENT$1,SUBCLASSING:SUBCLASSING},newPromiseCapability$2={},aCallable$8=aCallable$c,$TypeError$a=TypeError,PromiseCapability=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw new $TypeError$a("Bad Promise constructor");t=e,r=n})),this.resolve=aCallable$8(t),this.reject=aCallable$8(r)};newPromiseCapability$2.f=function(e){return new PromiseCapability(e)};var $$t=_export,IS_NODE$3=engineIsNode,global$n=global$E,call$j=functionCall,defineBuiltIn$b=defineBuiltIn$f,setPrototypeOf$3=objectSetPrototypeOf,setToStringTag$5=setToStringTag$8,setSpecies$3=setSpecies$4,aCallable$7=aCallable$c,isCallable$6=isCallable$r,isObject$9=isObject$k,anInstance$6=anInstance$7,speciesConstructor$2=speciesConstructor$3,task=task$1.set,microtask=microtask_1,hostReportErrors=hostReportErrors$1,perform$2=perform$3,Queue=queue$1,InternalStateModule$8=internalState,NativePromiseConstructor$2=promiseNativeConstructor,PromiseConstructorDetection=promiseConstructorDetection,newPromiseCapabilityModule$3=newPromiseCapability$2,PROMISE="Promise",FORCED_PROMISE_CONSTRUCTOR$4=PromiseConstructorDetection.CONSTRUCTOR,NATIVE_PROMISE_REJECTION_EVENT=PromiseConstructorDetection.REJECTION_EVENT,NATIVE_PROMISE_SUBCLASSING=PromiseConstructorDetection.SUBCLASSING,getInternalPromiseState=InternalStateModule$8.getterFor(PROMISE),setInternalState$7=InternalStateModule$8.set,NativePromisePrototype$1=NativePromiseConstructor$2&&NativePromiseConstructor$2.prototype,PromiseConstructor=NativePromiseConstructor$2,PromisePrototype=NativePromisePrototype$1,TypeError$5=global$n.TypeError,document$3=global$n.document,process$1=global$n.process,newPromiseCapability$1=newPromiseCapabilityModule$3.f,newGenericPromiseCapability=newPromiseCapability$1,DISPATCH_EVENT=!!(document$3&&document$3.createEvent&&global$n.dispatchEvent),UNHANDLED_REJECTION="unhandledrejection",REJECTION_HANDLED="rejectionhandled",PENDING=0,FULFILLED=1,REJECTED=2,HANDLED=1,UNHANDLED=2,Internal,OwnPromiseCapability,PromiseWrapper,nativeThen,isThenable$1=function(e){var t;return!(!isObject$9(e)||!isCallable$6(t=e.then))&&t},callReaction=function(e,t){var r,n,i,o=t.value,s=t.state===FULFILLED,a=s?e.ok:e.fail,l=e.resolve,c=e.reject,u=e.domain;try{a?(s||(t.rejection===UNHANDLED&&onHandleUnhandled(t),t.rejection=HANDLED),!0===a?r=o:(u&&u.enter(),r=a(o),u&&(u.exit(),i=!0)),r===e.promise?c(new TypeError$5("Promise-chain cycle")):(n=isThenable$1(r))?call$j(n,r,l,c):l(r)):c(o)}catch(error){u&&!i&&u.exit(),c(error)}},notify=function(e,t){e.notified||(e.notified=!0,microtask((function(){for(var r,n=e.reactions;r=n.get();)callReaction(r,e);e.notified=!1,t&&!e.rejection&&onUnhandled(e)})))},dispatchEvent$1=function(e,t,r){var n,i;DISPATCH_EVENT?((n=document$3.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),global$n.dispatchEvent(n)):n={promise:t,reason:r},!NATIVE_PROMISE_REJECTION_EVENT&&(i=global$n["on"+e])?i(n):e===UNHANDLED_REJECTION&&hostReportErrors("Unhandled promise rejection",r)},onUnhandled=function(e){call$j(task,global$n,(function(){var t,r=e.facade,n=e.value;if(isUnhandled(e)&&(t=perform$2((function(){IS_NODE$3?process$1.emit("unhandledRejection",n,r):dispatchEvent$1(UNHANDLED_REJECTION,r,n)})),e.rejection=IS_NODE$3||isUnhandled(e)?UNHANDLED:HANDLED,t.error))throw t.value}))},isUnhandled=function(e){return e.rejection!==HANDLED&&!e.parent},onHandleUnhandled=function(e){call$j(task,global$n,(function(){var t=e.facade;IS_NODE$3?process$1.emit("rejectionHandled",t):dispatchEvent$1(REJECTION_HANDLED,t,e.value)}))},bind$9=function(e,t,r){return function(n){e(t,n,r)}},internalReject=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=REJECTED,notify(e,!0))},internalResolve=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw new TypeError$5("Promise can't be resolved itself");var n=isThenable$1(t);n?microtask((function(){var r={done:!1};try{call$j(n,t,bind$9(internalResolve,r,e),bind$9(internalReject,r,e))}catch(error){internalReject(r,error,e)}})):(e.value=t,e.state=FULFILLED,notify(e,!1))}catch(error){internalReject({done:!1},error,e)}}};if(FORCED_PROMISE_CONSTRUCTOR$4&&(PromiseConstructor=function(e){anInstance$6(this,PromisePrototype),aCallable$7(e),call$j(Internal,this);var t=getInternalPromiseState(this);try{e(bind$9(internalResolve,t),bind$9(internalReject,t))}catch(error){internalReject(t,error)}},PromisePrototype=PromiseConstructor.prototype,Internal=function(e){setInternalState$7(this,{type:PROMISE,done:!1,notified:!1,parent:!1,reactions:new Queue,rejection:!1,state:PENDING,value:void 0})},Internal.prototype=defineBuiltIn$b(PromisePrototype,"then",(function(e,t){var r=getInternalPromiseState(this),n=newPromiseCapability$1(speciesConstructor$2(this,PromiseConstructor));return r.parent=!0,n.ok=!isCallable$6(e)||e,n.fail=isCallable$6(t)&&t,n.domain=IS_NODE$3?process$1.domain:void 0,r.state===PENDING?r.reactions.add(n):microtask((function(){callReaction(n,r)})),n.promise})),OwnPromiseCapability=function(){var e=new Internal,t=getInternalPromiseState(e);this.promise=e,this.resolve=bind$9(internalResolve,t),this.reject=bind$9(internalReject,t)},newPromiseCapabilityModule$3.f=newPromiseCapability$1=function(e){return e===PromiseConstructor||e===PromiseWrapper?new OwnPromiseCapability(e):newGenericPromiseCapability(e)},isCallable$6(NativePromiseConstructor$2)&&NativePromisePrototype$1!==Object.prototype)){nativeThen=NativePromisePrototype$1.then,NATIVE_PROMISE_SUBCLASSING||defineBuiltIn$b(NativePromisePrototype$1,"then",(function(e,t){var r=this;return new PromiseConstructor((function(e,t){call$j(nativeThen,r,e,t)})).then(e,t)}),{unsafe:!0});try{delete NativePromisePrototype$1.constructor}catch(error){}setPrototypeOf$3&&setPrototypeOf$3(NativePromisePrototype$1,PromisePrototype)}$$t({global:!0,constructor:!0,wrap:!0,forced:FORCED_PROMISE_CONSTRUCTOR$4},{Promise:PromiseConstructor}),setToStringTag$5(PromiseConstructor,PROMISE,!1),setSpecies$3(PROMISE);var wellKnownSymbol$d=wellKnownSymbol$o,Iterators$1=iterators,ITERATOR$5=wellKnownSymbol$d("iterator"),ArrayPrototype=Array.prototype,isArrayIteratorMethod$3=function(e){return void 0!==e&&(Iterators$1.Array===e||ArrayPrototype[ITERATOR$5]===e)},classof$a=classof$g,getMethod$3=getMethod$5,isNullOrUndefined$2=isNullOrUndefined$6,Iterators=iterators,wellKnownSymbol$c=wellKnownSymbol$o,ITERATOR$4=wellKnownSymbol$c("iterator"),getIteratorMethod$5=function(e){if(!isNullOrUndefined$2(e))return getMethod$3(e,ITERATOR$4)||getMethod$3(e,"@@iterator")||Iterators[classof$a(e)]},call$i=functionCall,aCallable$6=aCallable$c,anObject$c=anObject$i,tryToString$3=tryToString$6,getIteratorMethod$4=getIteratorMethod$5,$TypeError$9=TypeError,getIterator$4=function(e,t){var r=arguments.length<2?getIteratorMethod$4(e):t;if(aCallable$6(r))return anObject$c(call$i(r,e));throw new $TypeError$9(tryToString$3(e)+" is not iterable")},call$h=functionCall,anObject$b=anObject$i,getMethod$2=getMethod$5,iteratorClose$2=function(e,t,r){var n,i;anObject$b(e);try{if(!(n=getMethod$2(e,"return"))){if("throw"===t)throw r;return r}n=call$h(n,e)}catch(error){i=!0,n=error}if("throw"===t)throw r;if(i)throw n;return anObject$b(n),r},bind$8=functionBindContext,call$g=functionCall,anObject$a=anObject$i,tryToString$2=tryToString$6,isArrayIteratorMethod$2=isArrayIteratorMethod$3,lengthOfArrayLike$d=lengthOfArrayLike$g,isPrototypeOf$5=objectIsPrototypeOf,getIterator$3=getIterator$4,getIteratorMethod$3=getIteratorMethod$5,iteratorClose$1=iteratorClose$2,$TypeError$8=TypeError,Result=function(e,t){this.stopped=e,this.result=t},ResultPrototype=Result.prototype,iterate$2=function(e,t,r){var n,i,o,s,a,l,c,u=r&&r.that,h=!(!r||!r.AS_ENTRIES),d=!(!r||!r.IS_RECORD),p=!(!r||!r.IS_ITERATOR),f=!(!r||!r.INTERRUPTED),y=bind$8(t,u),g=function(e){return n&&iteratorClose$1(n,"normal",e),new Result(!0,e)},v=function(e){return h?(anObject$a(e),f?y(e[0],e[1],g):y(e[0],e[1])):f?y(e,g):y(e)};if(d)n=e.iterator;else if(p)n=e;else{if(!(i=getIteratorMethod$3(e)))throw new $TypeError$8(tryToString$2(e)+" is not iterable");if(isArrayIteratorMethod$2(i)){for(o=0,s=lengthOfArrayLike$d(e);s>o;o++)if((a=v(e[o]))&&isPrototypeOf$5(ResultPrototype,a))return a;return new Result(!1)}n=getIterator$3(e,i)}for(l=d?e.next:n.next;!(c=call$g(l,n)).done;){try{a=v(c.value)}catch(error){iteratorClose$1(n,"throw",error)}if("object"==typeof a&&a&&isPrototypeOf$5(ResultPrototype,a))return a}return new Result(!1)},wellKnownSymbol$b=wellKnownSymbol$o,ITERATOR$3=wellKnownSymbol$b("iterator"),SAFE_CLOSING=!1;try{var called=0,iteratorWithReturn={next:function(){return{done:!!called++}},return:function(){SAFE_CLOSING=!0}};iteratorWithReturn[ITERATOR$3]=function(){return this},Array.from(iteratorWithReturn,(function(){throw 2}))}catch(error){}var checkCorrectnessOfIteration$2=function(e,t){try{if(!t&&!SAFE_CLOSING)return!1}catch(error){return!1}var r=!1;try{var n={};n[ITERATOR$3]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(error){}return r},NativePromiseConstructor$1=promiseNativeConstructor,checkCorrectnessOfIteration$1=checkCorrectnessOfIteration$2,FORCED_PROMISE_CONSTRUCTOR$3=promiseConstructorDetection.CONSTRUCTOR,promiseStaticsIncorrectIteration=FORCED_PROMISE_CONSTRUCTOR$3||!checkCorrectnessOfIteration$1((function(e){NativePromiseConstructor$1.all(e).then(void 0,(function(){}))})),$$s=_export,call$f=functionCall,aCallable$5=aCallable$c,newPromiseCapabilityModule$2=newPromiseCapability$2,perform$1=perform$3,iterate$1=iterate$2,PROMISE_STATICS_INCORRECT_ITERATION$1=promiseStaticsIncorrectIteration;$$s({target:"Promise",stat:!0,forced:PROMISE_STATICS_INCORRECT_ITERATION$1},{all:function(e){var t=this,r=newPromiseCapabilityModule$2.f(t),n=r.resolve,i=r.reject,o=perform$1((function(){var r=aCallable$5(t.resolve),o=[],s=0,a=1;iterate$1(e,(function(e){var l=s++,c=!1;a++,call$f(r,t,e).then((function(e){c||(c=!0,o[l]=e,--a||n(o))}),i)})),--a||n(o)}));return o.error&&i(o.value),r.promise}});var $$r=_export,FORCED_PROMISE_CONSTRUCTOR$2=promiseConstructorDetection.CONSTRUCTOR,NativePromiseConstructor=promiseNativeConstructor,getBuiltIn$4=getBuiltIn$c,isCallable$5=isCallable$r,defineBuiltIn$a=defineBuiltIn$f,NativePromisePrototype=NativePromiseConstructor&&NativePromiseConstructor.prototype;if($$r({target:"Promise",proto:!0,forced:FORCED_PROMISE_CONSTRUCTOR$2,real:!0},{catch:function(e){return this.then(void 0,e)}}),isCallable$5(NativePromiseConstructor)){var method=getBuiltIn$4("Promise").prototype.catch;NativePromisePrototype.catch!==method&&defineBuiltIn$a(NativePromisePrototype,"catch",method,{unsafe:!0})}var $$q=_export,call$e=functionCall,aCallable$4=aCallable$c,newPromiseCapabilityModule$1=newPromiseCapability$2,perform=perform$3,iterate=iterate$2,PROMISE_STATICS_INCORRECT_ITERATION=promiseStaticsIncorrectIteration;$$q({target:"Promise",stat:!0,forced:PROMISE_STATICS_INCORRECT_ITERATION},{race:function(e){var t=this,r=newPromiseCapabilityModule$1.f(t),n=r.reject,i=perform((function(){var i=aCallable$4(t.resolve);iterate(e,(function(e){call$e(i,t,e).then(r.resolve,n)}))}));return i.error&&n(i.value),r.promise}});var $$p=_export,newPromiseCapabilityModule=newPromiseCapability$2,FORCED_PROMISE_CONSTRUCTOR$1=promiseConstructorDetection.CONSTRUCTOR;$$p({target:"Promise",stat:!0,forced:FORCED_PROMISE_CONSTRUCTOR$1},{reject:function(e){var t=newPromiseCapabilityModule.f(this);return(0,t.reject)(e),t.promise}});var anObject$9=anObject$i,isObject$8=isObject$k,newPromiseCapability=newPromiseCapability$2,promiseResolve$1=function(e,t){if(anObject$9(e),isObject$8(t)&&t.constructor===e)return t;var r=newPromiseCapability.f(e);return(0,r.resolve)(t),r.promise},$$o=_export,getBuiltIn$3=getBuiltIn$c,FORCED_PROMISE_CONSTRUCTOR=promiseConstructorDetection.CONSTRUCTOR,promiseResolve=promiseResolve$1;getBuiltIn$3("Promise"),$$o({target:"Promise",stat:!0,forced:FORCED_PROMISE_CONSTRUCTOR},{resolve:function(e){return promiseResolve(this,e)}});var domIterables={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},documentCreateElement=documentCreateElement$2,classList=documentCreateElement("span").classList,DOMTokenListPrototype$1=classList&&classList.constructor&&classList.constructor.prototype,domTokenListPrototype=DOMTokenListPrototype$1===Object.prototype?void 0:DOMTokenListPrototype$1,global$m=global$E,DOMIterables=domIterables,DOMTokenListPrototype=domTokenListPrototype,ArrayIteratorMethods=es_array_iterator,createNonEnumerableProperty$5=createNonEnumerableProperty$c,setToStringTag$4=setToStringTag$8,wellKnownSymbol$a=wellKnownSymbol$o,ITERATOR$2=wellKnownSymbol$a("iterator"),ArrayValues=ArrayIteratorMethods.values,handlePrototype=function(e,t){if(e){if(e[ITERATOR$2]!==ArrayValues)try{createNonEnumerableProperty$5(e,ITERATOR$2,ArrayValues)}catch(error){e[ITERATOR$2]=ArrayValues}if(setToStringTag$4(e,t,!0),DOMIterables[t])for(var r in ArrayIteratorMethods)if(e[r]!==ArrayIteratorMethods[r])try{createNonEnumerableProperty$5(e,r,ArrayIteratorMethods[r])}catch(error){e[r]=ArrayIteratorMethods[r]}}},win;for(var COLLECTION_NAME in DOMIterables)handlePrototype(global$m[COLLECTION_NAME]&&global$m[COLLECTION_NAME].prototype,COLLECTION_NAME);handlePrototype(DOMTokenListPrototype,"DOMTokenList"),win="undefined"!=typeof window?window:void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof self?self:{};var window_1=win;const window$4=getDefaultExportFromCjs(window_1),__viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);var topLevel=void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof window?window:{},minDoc=require$$0,doccy;"undefined"!=typeof document?doccy=document:(doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"],doccy||(doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"]=minDoc));var document_1=doccy;const document$2=getDefaultExportFromCjs(document_1);function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_extends$1.apply(null,arguments)}const _extends$2=Object.freeze(Object.defineProperty({__proto__:null,get default(){return _extends$1}},Symbol.toStringTag,{value:"Module"}));var keycode$1={exports:{}};!function(e,t){function r(e){if(e&&"object"==typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"==typeof e)return s[e];var r,o=String(e);return(r=n[o.toLowerCase()])?r:(r=i[o.toLowerCase()])||(1===o.length?o.charCodeAt(0):void 0)}r.isEventKey=function(e,t){if(e&&"object"==typeof e){var r=e.which||e.keyCode||e.charCode;if(null==r)return!1;if("string"==typeof t){var o;if(o=n[t.toLowerCase()])return o===r;if(o=i[t.toLowerCase()])return o===r}else if("number"==typeof t)return t===r;return!1}};var n=(t=e.exports=r).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},i=t.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};
/*!
     * Programatically add the following
     */
for(o=97;o<123;o++)n[String.fromCharCode(o)]=o-32;for(var o=48;o<58;o++)n[o-48]=o;for(o=1;o<13;o++)n["f"+o]=o+111;for(o=0;o<10;o++)n["numpad "+o]=o+96;var s=t.names=t.title={};for(o in n)s[n[o]]=o;for(var a in i)n[a]=i[a]}(keycode$1,keycode$1.exports);var keycodeExports=keycode$1.exports;const keycode=getDefaultExportFromCjs(keycodeExports);function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,_setPrototypeOf(e,t)}var tuple=SafeParseTuple;function SafeParseTuple(e,t){var r,n=null;try{r=JSON.parse(e,t)}catch(i){n=i}return[n,r]}const safeParseTuple=getDefaultExportFromCjs(tuple);var lib={exports:{}};const require$$1=getAugmentedNamespace(_extends$2);var isFunction_1=isFunction$2,toString$d=Object.prototype.toString;function isFunction$2(e){if(!e)return!1;var t=toString$d.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}var window$3=window_1,httpResponseHandler=function(e,t){return void 0===t&&(t=!1),function(r,n,i){if(r)e(r);else if(n.statusCode>=400&&n.statusCode<=599){var o=i;if(t)if(window$3.TextDecoder){var s=getCharset(n.headers&&n.headers["content-type"]);try{o=new TextDecoder(s).decode(i)}catch(a){}}else o=String.fromCharCode.apply(null,new Uint8Array(i));e({cause:o})}else e(null,i)}};function getCharset(e){return void 0===e&&(e=""),e.toLowerCase().split(";").reduce((function(e,t){var r=t.split("="),n=r[0],i=r[1];return"charset"===n.trim()?i.trim():e}),"utf-8")}var httpHandler=httpResponseHandler,window$2=window_1,_extends=require$$1,isFunction$1=isFunction_1;createXHR.httpHandler=httpHandler;
/**
   * @license
   * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
   * Copyright (c) 2014 David Björklund
   * Available under the MIT license
   * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
   */
var parseHeaders$1=function(e){var t={};return e?(e.trim().split("\n").forEach((function(e){var r=e.indexOf(":"),n=e.slice(0,r).trim().toLowerCase(),i=e.slice(r+1).trim();void 0===t[n]?t[n]=i:Array.isArray(t[n])?t[n].push(i):t[n]=[t[n],i]})),t):t};function forEachArray(e,t){for(var r=0;r<e.length;r++)t(e[r])}function isEmpty(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function initParams(e,t,r){var n=e;return isFunction$1(t)?(r=t,"string"==typeof e&&(n={uri:e})):n=_extends({},t,{uri:e}),n.callback=r,n}function createXHR(e,t,r){return _createXHR(t=initParams(e,t,r))}function _createXHR(e){if(void 0===e.callback)throw new Error("callback argument missing");var t=!1,r=function(r,n,i){t||(t=!0,e.callback(r,n,i))};function n(){var e=void 0;if(e=l.response?l.response:l.responseText||getXml(l),y)try{e=JSON.parse(e)}catch(t){}return e}function i(e){return clearTimeout(c),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,r(e,g)}function o(){if(!a){var t;clearTimeout(c),t=e.useXDR&&void 0===l.status?200:1223===l.status?204:l.status;var i=g,o=null;return 0!==t?(i={body:n(),statusCode:t,method:h,headers:{},url:u,rawRequest:l},l.getAllResponseHeaders&&(i.headers=parseHeaders$1(l.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),r(o,i,i.body)}}var s,a,l=e.xhr||null;l||(l=e.cors||e.useXDR?new createXHR.XDomainRequest:new createXHR.XMLHttpRequest);var c,u=l.url=e.uri||e.url,h=l.method=e.method||"GET",d=e.body||e.data,p=l.headers=e.headers||{},f=!!e.sync,y=!1,g={body:void 0,headers:{},statusCode:0,method:h,url:u,rawRequest:l};if("json"in e&&!1!==e.json&&(y=!0,p.accept||p.Accept||(p.Accept="application/json"),"GET"!==h&&"HEAD"!==h&&(p["content-type"]||p["Content-Type"]||(p["Content-Type"]="application/json"),d=JSON.stringify(!0===e.json?d:e.json))),l.onreadystatechange=function(){4===l.readyState&&setTimeout(o,0)},l.onload=o,l.onerror=i,l.onprogress=function(){},l.onabort=function(){a=!0},l.ontimeout=i,l.open(h,u,!f,e.username,e.password),f||(l.withCredentials=!!e.withCredentials),!f&&e.timeout>0&&(c=setTimeout((function(){if(!a){a=!0,l.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",i(e)}}),e.timeout)),l.setRequestHeader)for(s in p)p.hasOwnProperty(s)&&l.setRequestHeader(s,p[s]);else if(e.headers&&!isEmpty(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(l.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(l),l.send(d||null),l}function getXml(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(r){}return null}function noop$1(){}lib.exports=createXHR,lib.exports.default=createXHR,createXHR.XMLHttpRequest=window$2.XMLHttpRequest||noop$1,createXHR.XDomainRequest="withCredentials"in new createXHR.XMLHttpRequest?createXHR.XMLHttpRequest:window$2.XDomainRequest,forEachArray(["get","put","post","patch","head","delete"],(function(e){createXHR["delete"===e?"del":e]=function(t,r,n){return(r=initParams(t,r,n)).method=e.toUpperCase(),_createXHR(r)}}));var libExports=lib.exports;const XHR=getDefaultExportFromCjs(libExports);var browserIndex={exports:{}},document$1=document_1,_objCreate=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();function ParsingError(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function parseTimeStamp(e){function t(e,t,r,n){return 3600*(0|e)+60*(0|t)+(0|r)+(0|n)/1e3}var r=e.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return r?r[3]?t(r[1],r[2],r[3].replace(":",""),r[4]):r[1]>59?t(r[1],r[2],0,r[4]):t(0,r[1],r[2],r[4]):null}function Settings(){this.values=_objCreate(null)}function parseOptions(e,t,r,n){var i=n?e.split(n):[e];for(var o in i)if("string"==typeof i[o]){var s=i[o].split(r);if(2===s.length)t(s[0].trim(),s[1].trim())}}function parseCue(e,t,r){var n=e;function i(){var t=parseTimeStamp(e);if(null===t)throw new ParsingError(ParsingError.Errors.BadTimeStamp,"Malformed timestamp: "+n);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function o(){e=e.replace(/^\s+/,"")}if(o(),t.startTime=i(),o(),"--\x3e"!==e.substr(0,3))throw new ParsingError(ParsingError.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+n);e=e.substr(3),o(),t.endTime=i(),o(),function(e,t){var n=new Settings;parseOptions(e,(function(e,t){switch(e){case"region":for(var i=r.length-1;i>=0;i--)if(r[i].id===t){n.set(e,r[i].region);break}break;case"vertical":n.alt(e,t,["rl","lr"]);break;case"line":var o=t.split(","),s=o[0];n.integer(e,s),n.percent(e,s)&&n.set("snapToLines",!1),n.alt(e,s,["auto"]),2===o.length&&n.alt("lineAlign",o[1],["start","center","end"]);break;case"position":o=t.split(","),n.percent(e,o[0]),2===o.length&&n.alt("positionAlign",o[1],["start","center","end"]);break;case"size":n.percent(e,t);break;case"align":n.alt(e,t,["start","center","end","left","right"])}}),/:/,/\s/),t.region=n.get("region",null),t.vertical=n.get("vertical","");try{t.line=n.get("line","auto")}catch(i){}t.lineAlign=n.get("lineAlign","start"),t.snapToLines=n.get("snapToLines",!0),t.size=n.get("size",100);try{t.align=n.get("align","center")}catch(i){t.align=n.get("align","middle")}try{t.position=n.get("position","auto")}catch(i){t.position=n.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},t.align)}t.positionAlign=n.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},t.align)}(e,t)}ParsingError.prototype=_objCreate(Error.prototype),ParsingError.prototype.constructor=ParsingError,ParsingError.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},Settings.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,r){return r?this.has(e)?this.values[e]:t[r]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,r){for(var n=0;n<r.length;++n)if(t===r[n]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var TEXTAREA_ELEMENT=document$1.createElement&&document$1.createElement("textarea"),TAG_NAME={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},DEFAULT_COLOR_CLASS={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},TAG_ANNOTATION={v:"title",lang:"lang"},NEEDS_PARENT={rt:"ruby"};function parseContent(e,t){function r(){if(!t)return null;var e,r=t.match(/^([^<]*)(<[^>]*>?)?/);return e=r[1]?r[1]:r[2],t=t.substr(e.length),e}function n(t,r){var n=TAG_NAME[t];if(!n)return null;var i=e.document.createElement(n),o=TAG_ANNOTATION[t];return o&&r&&(i[o]=r.trim()),i}for(var i,o,s,a,l=e.document.createElement("div"),c=l,u=[];null!==(i=r());)if("<"!==i[0])c.appendChild(e.document.createTextNode((o=i,TEXTAREA_ELEMENT.innerHTML=o,o=TEXTAREA_ELEMENT.textContent,TEXTAREA_ELEMENT.textContent="",o)));else{if("/"===i[1]){u.length&&u[u.length-1]===i.substr(2).replace(">","")&&(u.pop(),c=c.parentNode);continue}var h,d=parseTimeStamp(i.substr(1,i.length-2));if(d){h=e.document.createProcessingInstruction("timestamp",d),c.appendChild(h);continue}var p=i.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!p)continue;if(!(h=n(p[1],p[3])))continue;if(s=c,NEEDS_PARENT[(a=h).localName]&&NEEDS_PARENT[a.localName]!==s.localName)continue;if(p[2]){var f=p[2].split(".");f.forEach((function(e){var t=/^bg_/.test(e),r=t?e.slice(3):e;if(DEFAULT_COLOR_CLASS.hasOwnProperty(r)){var n=t?"background-color":"color",i=DEFAULT_COLOR_CLASS[r];h.style[n]=i}})),h.className=f.join(" ")}u.push(p[1]),c.appendChild(h),c=h}return l}var strongRTLRanges=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function isStrongRTLChar(e){for(var t=0;t<strongRTLRanges.length;t++){var r=strongRTLRanges[t];if(e>=r[0]&&e<=r[1])return!0}return!1}function determineBidi(e){var t=[],r="";if(!e||!e.childNodes)return"ltr";function n(e,t){for(var r=t.childNodes.length-1;r>=0;r--)e.push(t.childNodes[r])}function i(e){if(!e||!e.length)return null;var t=e.pop(),r=t.textContent||t.innerText;if(r){var o=r.match(/^.*(\n|\r)/);return o?(e.length=0,o[0]):r}return"ruby"===t.tagName?i(e):t.childNodes?(n(e,t),i(e)):void 0}for(n(t,e);r=i(t);)for(var o=0;o<r.length;o++)if(isStrongRTLChar(r.charCodeAt(o)))return"rtl";return"ltr"}function computeLinePos(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,r=t.textTrackList,n=0,i=0;i<r.length&&r[i]!==t;i++)"showing"===r[i].mode&&n++;return-1*++n}function StyleBox(){}function CueStyleBox(e,t,r){StyleBox.call(this),this.cue=t,this.cueDiv=parseContent(e,t.text);var n={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(n,this.cueDiv),this.div=e.document.createElement("div"),n={direction:determineBidi(this.cueDiv),writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===t.align?"center":t.align,font:r.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(n),this.div.appendChild(this.cueDiv);var i=0;switch(t.positionAlign){case"start":case"line-left":i=t.position;break;case"center":i=t.position-t.size/2;break;case"end":case"line-right":i=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(i,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(i,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function BoxPosition(e){var t,r,n,i;if(e.div){r=e.div.offsetHeight,n=e.div.offsetWidth,i=e.div.offsetTop;var o=(o=e.div.childNodes)&&(o=o[0])&&o.getClientRects&&o.getClientRects();e=e.div.getBoundingClientRect(),t=o?Math.max(o[0]&&o[0].height||0,e.height/o.length):0}this.left=e.left,this.right=e.right,this.top=e.top||i,this.height=e.height||r,this.bottom=e.bottom||i+(e.height||r),this.width=e.width||n,this.lineHeight=void 0!==t?t:e.lineHeight}function moveBoxToLinePosition(e,t,r,n){var i=new BoxPosition(t),o=t.cue,s=computeLinePos(o),a=[];if(o.snapToLines){var l;switch(o.vertical){case"":a=["+y","-y"],l="height";break;case"rl":a=["+x","-x"],l="width";break;case"lr":a=["-x","+x"],l="width"}var c=i.lineHeight,u=c*Math.round(s),h=r[l]+c,d=a[0];Math.abs(u)>h&&(u=u<0?-1:1,u*=Math.ceil(h/c)*c),s<0&&(u+=""===o.vertical?r.height:r.width,a=a.reverse()),i.move(d,u)}else{var p=i.lineHeight/r.height*100;switch(o.lineAlign){case"center":s-=p/2;break;case"end":s-=p}switch(o.vertical){case"":t.applyStyles({top:t.formatStyle(s,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(s,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(s,"%")})}a=["+y","-x","+x","-y"],i=new BoxPosition(t)}var f=function(e,t){for(var i,o=new BoxPosition(e),s=1,a=0;a<t.length;a++){for(;e.overlapsOppositeAxis(r,t[a])||e.within(r)&&e.overlapsAny(n);)e.move(t[a]);if(e.within(r))return e;var l=e.intersectPercentage(r);s>l&&(i=new BoxPosition(e),s=l),e=new BoxPosition(o)}return i||o}(i,a);t.move(f.toCSSCompatValues(r))}function WebVTT$1(){}StyleBox.prototype.applyStyles=function(e,t){for(var r in t=t||this.div,e)e.hasOwnProperty(r)&&(t.style[r]=e[r])},StyleBox.prototype.formatStyle=function(e,t){return 0===e?0:e+t},CueStyleBox.prototype=_objCreate(StyleBox.prototype),CueStyleBox.prototype.constructor=CueStyleBox,BoxPosition.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},BoxPosition.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},BoxPosition.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},BoxPosition.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},BoxPosition.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},BoxPosition.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},BoxPosition.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},BoxPosition.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,r=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,n=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||n,height:e.height||t,bottom:e.bottom||n+(e.height||t),width:e.width||r}},WebVTT$1.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},WebVTT$1.convertCueToDOMTree=function(e,t){return e&&t?parseContent(e,t):null};var FONT_SIZE_PERCENT=.05,FONT_STYLE="sans-serif",CUE_BACKGROUND_PADDING="1.5%";WebVTT$1.processCues=function(e,t,r){if(!e||!t||!r)return null;for(;r.firstChild;)r.removeChild(r.firstChild);var n=e.document.createElement("div");if(n.style.position="absolute",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.margin=CUE_BACKGROUND_PADDING,r.appendChild(n),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(t)){var i=[],o=BoxPosition.getSimpleBoxPosition(n),s={font:Math.round(o.height*FONT_SIZE_PERCENT*100)/100+"px "+FONT_STYLE};!function(){for(var r,a,l=0;l<t.length;l++)a=t[l],r=new CueStyleBox(e,a,s),n.appendChild(r.div),moveBoxToLinePosition(e,r,o,i),a.displayState=r.div,i.push(BoxPosition.getSimpleBoxPosition(r))}()}else for(var a=0;a<t.length;a++)n.appendChild(t[a].displayState)},WebVTT$1.Parser=function(e,t,r){r||(r=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=r||new TextDecoder("utf8"),this.regionList=[]},WebVTT$1.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof ParsingError))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var t=this;function r(){for(var e=t.buffer,r=0;r<e.length&&"\r"!==e[r]&&"\n"!==e[r];)++r;var n=e.substr(0,r);return"\r"===e[r]&&++r,"\n"===e[r]&&++r,t.buffer=e.substr(r),n}function n(e){e.match(/X-TIMESTAMP-MAP/)?parseOptions(e,(function(e,r){if("X-TIMESTAMP-MAP"===e)!function(e){var r=new Settings;parseOptions(e,(function(e,t){switch(e){case"MPEGT":r.integer(e+"S",t);break;case"LOCA":r.set(e+"L",parseTimeStamp(t))}}),/[^\d]:/,/,/),t.ontimestampmap&&t.ontimestampmap({MPEGTS:r.get("MPEGTS"),LOCAL:r.get("LOCAL")})}(r)}),/=/):parseOptions(e,(function(e,r){if("Region"===e)!function(e){var r=new Settings;if(parseOptions(e,(function(e,t){switch(e){case"id":r.set(e,t);break;case"width":r.percent(e,t);break;case"lines":r.integer(e,t);break;case"regionanchor":case"viewportanchor":var n=t.split(",");if(2!==n.length)break;var i=new Settings;if(i.percent("x",n[0]),i.percent("y",n[1]),!i.has("x")||!i.has("y"))break;r.set(e+"X",i.get("x")),r.set(e+"Y",i.get("y"));break;case"scroll":r.alt(e,t,["up"])}}),/=/,/\s/),r.has("id")){var n=new(t.vttjs.VTTRegion||t.window.VTTRegion);n.width=r.get("width",100),n.lines=r.get("lines",3),n.regionAnchorX=r.get("regionanchorX",0),n.regionAnchorY=r.get("regionanchorY",100),n.viewportAnchorX=r.get("viewportanchorX",0),n.viewportAnchorY=r.get("viewportanchorY",100),n.scroll=r.get("scroll",""),t.onregion&&t.onregion(n),t.regionList.push({id:r.get("id"),region:n})}}(r)}),/:/)}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var i;if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var o=(i=r()).match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new ParsingError(ParsingError.Errors.BadSignature);t.state="HEADER"}for(var s=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(s?s=!1:i=r(),t.state){case"HEADER":/:/.test(i)?n(i):i||(t.state="ID");continue;case"NOTE":i||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){t.state="NOTE";break}if(!i)continue;t.cue=new(t.vttjs.VTTCue||t.window.VTTCue)(0,0,"");try{t.cue.align="center"}catch(l){t.cue.align="middle"}if(t.state="CUE",-1===i.indexOf("--\x3e")){t.cue.id=i;continue}case"CUE":try{parseCue(i,t.cue,t.regionList)}catch(l){t.reportOrThrowError(l),t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var a=-1!==i.indexOf("--\x3e");if(!i||a&&(s=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=i.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":i||(t.state="ID");continue}}}catch(l){t.reportOrThrowError(l),"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new ParsingError(ParsingError.Errors.BadSignature)}catch(t){e.reportOrThrowError(t)}return e.onflush&&e.onflush(),this}};var vtt$1=WebVTT$1,autoKeyword="auto",directionSetting={"":1,lr:1,rl:1},alignSetting={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function findDirectionSetting(e){return"string"==typeof e&&(!!directionSetting[e.toLowerCase()]&&e.toLowerCase())}function findAlignSetting(e){return"string"==typeof e&&(!!alignSetting[e.toLowerCase()]&&e.toLowerCase())}function VTTCue(e,t,r){this.hasBeenReset=!1;var n="",i=!1,o=e,s=t,a=r,l=null,c="",u=!0,h="auto",d="start",p="auto",f="auto",y=100,g="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return n},set:function(e){n=""+e}},pauseOnExit:{enumerable:!0,get:function(){return i},set:function(e){i=!!e}},startTime:{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");o=e,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");s=e,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return a},set:function(e){a=""+e,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(e){l=e,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return c},set:function(e){var t=findDirectionSetting(e);if(!1===t)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");c=t,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return u},set:function(e){u=!!e,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return h},set:function(e){if("number"!=typeof e&&e!==autoKeyword)throw new SyntaxError("Line: an invalid number or illegal string was specified.");h=e,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return d},set:function(e){var t=findAlignSetting(e);t?(d=t,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return p},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");p=e,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return f},set:function(e){var t=findAlignSetting(e);t?(f=t,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return y},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");y=e,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return g},set:function(e){var t=findAlignSetting(e);if(!t)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");g=t,this.hasBeenReset=!0}}}),this.displayState=void 0}VTTCue.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var vttcue=VTTCue,scrollSetting={"":!0,up:!0};function findScrollSetting(e){return"string"==typeof e&&(!!scrollSetting[e.toLowerCase()]&&e.toLowerCase())}function isValidPercentValue(e){return"number"==typeof e&&e>=0&&e<=100}function VTTRegion(){var e=100,t=3,r=0,n=100,i=0,o=100,s="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!isValidPercentValue(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return t},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");t=e}},regionAnchorY:{enumerable:!0,get:function(){return n},set:function(e){if(!isValidPercentValue(e))throw new Error("RegionAnchorX must be between 0 and 100.");n=e}},regionAnchorX:{enumerable:!0,get:function(){return r},set:function(e){if(!isValidPercentValue(e))throw new Error("RegionAnchorY must be between 0 and 100.");r=e}},viewportAnchorY:{enumerable:!0,get:function(){return o},set:function(e){if(!isValidPercentValue(e))throw new Error("ViewportAnchorY must be between 0 and 100.");o=e}},viewportAnchorX:{enumerable:!0,get:function(){return i},set:function(e){if(!isValidPercentValue(e))throw new Error("ViewportAnchorX must be between 0 and 100.");i=e}},scroll:{enumerable:!0,get:function(){return s},set:function(e){var t=findScrollSetting(e);!1===t?console.warn("Scroll: an invalid or illegal string was specified."):s=t}}})}var vttregion=VTTRegion,window$1=window_1,vttjs=browserIndex.exports={WebVTT:vtt$1,VTTCue:vttcue,VTTRegion:vttregion};window$1.vttjs=vttjs,window$1.WebVTT=vttjs.WebVTT;var cueShim=vttjs.VTTCue,regionShim=vttjs.VTTRegion,nativeVTTCue=window$1.VTTCue,nativeVTTRegion=window$1.VTTRegion;vttjs.shim=function(){window$1.VTTCue=cueShim,window$1.VTTRegion=regionShim},vttjs.restore=function(){window$1.VTTCue=nativeVTTCue,window$1.VTTRegion=nativeVTTRegion},window$1.VTTCue||vttjs.shim();var browserIndexExports=browserIndex.exports;const vtt=getDefaultExportFromCjs(browserIndexExports);function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_isNativeReflectConstruct=function(){return!!e})()}function _construct(e,t,r){if(_isNativeReflectConstruct())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,t);var i=new(e.bind.apply(e,n));return r&&_setPrototypeOf(i,r.prototype),i}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}
/**
   * @license
   * Video.js 1.0.2 <http://videojs.com/>
   * Copyright Brightcove, Inc. <https://www.brightcove.com/>
   * Available under Apache License Version 2.0
   * <https://github.com/videojs/video.js/blob/main/LICENSE>
   *
   * Includes vtt.js <https://github.com/mozilla/vtt.js>
   * Available under Apache License Version 2.0
   * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
   */for(var version$1="1.0.2",hooks_={},hooks=function(e,t){return hooks_[e]=hooks_[e]||[],t&&(hooks_[e]=hooks_[e].concat(t)),hooks_[e]},hook=function(e,t){hooks(e,t)},removeHook=function(e,t){var r=hooks(e).indexOf(t);return!(r<=-1)&&(hooks_[e]=hooks_[e].slice(),hooks_[e].splice(r,1),!0)},hookOnce=function(e,t){hooks(e,[].concat(t).map((function(t){var r=function(){return removeHook(e,r),t.apply(void 0,arguments)};return r})))},FullscreenApi={prefixed:!0},apiMap=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],specApi=apiMap[0],browserApi,i$2=0;i$2<apiMap.length;i$2++)if(apiMap[i$2][1]in document$2){browserApi=apiMap[i$2];break}if(browserApi){for(var _i=0;_i<browserApi.length;_i++)FullscreenApi[specApi[_i]]=browserApi[_i];FullscreenApi.prefixed=browserApi[0]!==specApi[0]}var history=[],LogByTypeFactory=function(e,t){return function(r,n,i){var o=t.levels[n],s=new RegExp("^("+o+")$");if("log"!==r&&i.unshift(r.toUpperCase()+":"),i.unshift(e+":"),history){history.push([].concat(i));var a=history.length-1e3;history.splice(0,a>0?a:0)}if(window$4.console){var l=window$4.console[r];l||"debug"!==r||(l=window$4.console.info||window$4.console.log),l&&o&&s.test(r)&&l[Array.isArray(i)?"apply":"call"](window$4.console,i)}}};function createLogger$1(e){var t,r="info",n=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t("log",r,n)};return t=LogByTypeFactory(e,n),n.createLogger=function(t){return createLogger$1(e+": "+t)},n.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:r},n.level=function(e){if("string"==typeof e){if(!n.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');r=e}return r},(n.history=function(){return history?[].concat(history):[]}).filter=function(e){return(history||[]).filter((function(t){return new RegExp(".*"+e+".*").test(t[0])}))},n.history.clear=function(){history&&(history.length=0)},n.history.disable=function(){null!==history&&(history.length=0,history=null)},n.history.enable=function(){null===history&&(history=[])},n.error=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t("error",r,n)},n.warn=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t("warn",r,n)},n.debug=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t("debug",r,n)},n}var log$1=createLogger$1("VIDEOJS"),createLogger=log$1.createLogger,toString$c=Object.prototype.toString,keys$1=function(e){return isObject$7(e)?Object.keys(e):[]};function each(e,t){keys$1(e).forEach((function(r){return t(e[r],r)}))}function reduce(e,t,r){return void 0===r&&(r=0),keys$1(e).reduce((function(r,n){return t(r,e[n],n)}),r)}function assign$2(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Object.assign?_extends$1.apply(void 0,[e].concat(r)):(r.forEach((function(t){t&&each(t,(function(t,r){e[r]=t}))})),e)}function isObject$7(e){return!!e&&"object"==typeof e}function isPlain(e){return isObject$7(e)&&"[object Object]"===toString$c.call(e)&&e.constructor===Object}function computedStyle(e,t){if(!e||!t)return"";if("function"==typeof window$4.getComputedStyle){var r;try{r=window$4.getComputedStyle(e)}catch(n){return""}return r?r.getPropertyValue(t)||r[t]:""}return""}var USER_AGENT=window$4.navigator&&window$4.navigator.userAgent||"",webkitVersionMap=/AppleWebKit\/([\d.]+)/i.exec(USER_AGENT),appleWebkitVersion=webkitVersionMap?parseFloat(webkitVersionMap.pop()):null,IS_IPOD=/iPod/i.test(USER_AGENT),IOS_VERSION=(match2=USER_AGENT.match(/OS (\d+)_/i),match2&&match2[1]?match2[1]:null),match2,IS_ANDROID=/Android/i.test(USER_AGENT),ANDROID_VERSION=function(){var e=USER_AGENT.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),r=e[2]&&parseFloat(e[2]);return t&&r?parseFloat(e[1]+"."+e[2]):t||null}(),IS_NATIVE_ANDROID=IS_ANDROID&&ANDROID_VERSION<5&&appleWebkitVersion<537,IS_FIREFOX=/Firefox/i.test(USER_AGENT),IS_EDGE=/Edg/i.test(USER_AGENT),IS_CHROME=!IS_EDGE&&(/Chrome/i.test(USER_AGENT)||/CriOS/i.test(USER_AGENT)),CHROME_VERSION$1=function(){var e=USER_AGENT.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),IE_VERSION=(result2=/MSIE\s(\d+)\.\d/.exec(USER_AGENT),version2=result2&&parseFloat(result2[1]),!version2&&/Trident\/7.0/i.test(USER_AGENT)&&/rv:11.0/.test(USER_AGENT)&&(version2=11),version2),result2,version2,IS_SAFARI=/Safari/i.test(USER_AGENT)&&!IS_CHROME&&!IS_ANDROID&&!IS_EDGE,IS_WINDOWS=/Windows/i.test(USER_AGENT),TOUCH_ENABLED=Boolean(isReal()&&("ontouchstart"in window$4||window$4.navigator.maxTouchPoints||window$4.DocumentTouch&&window$4.document instanceof window$4.DocumentTouch)),IS_IPAD=/iPad/i.test(USER_AGENT)||IS_SAFARI&&TOUCH_ENABLED&&!/iPhone/i.test(USER_AGENT),IS_IPHONE=/iPhone/i.test(USER_AGENT)&&!IS_IPAD,IS_IOS=IS_IPHONE||IS_IPAD||IS_IPOD,IS_ANY_SAFARI=(IS_SAFARI||IS_IOS)&&!IS_CHROME,browser=Object.freeze({__proto__:null,IS_IPOD:IS_IPOD,IOS_VERSION:IOS_VERSION,IS_ANDROID:IS_ANDROID,ANDROID_VERSION:ANDROID_VERSION,IS_NATIVE_ANDROID:IS_NATIVE_ANDROID,IS_FIREFOX:IS_FIREFOX,IS_EDGE:IS_EDGE,IS_CHROME:IS_CHROME,CHROME_VERSION:CHROME_VERSION$1,IE_VERSION:IE_VERSION,IS_SAFARI:IS_SAFARI,IS_WINDOWS:IS_WINDOWS,TOUCH_ENABLED:TOUCH_ENABLED,IS_IPAD:IS_IPAD,IS_IPHONE:IS_IPHONE,IS_IOS:IS_IOS,IS_ANY_SAFARI:IS_ANY_SAFARI});function isNonBlankString(e){return"string"==typeof e&&Boolean(e.trim())}function throwIfWhitespace(e){if(e.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function classRegExp(e){return new RegExp("(^|\\s)"+e+"($|\\s)")}function isReal(){return document$2===window$4.document}function isEl(e){return isObject$7(e)&&1===e.nodeType}function isInFrame(){try{return window$4.parent!==window$4.self}catch(e){return!0}}function createQuerier(e){return function(t,r){if(!isNonBlankString(t))return document$2[e](null);isNonBlankString(r)&&(r=document$2.querySelector(r));var n=isEl(r)?r:document$2;return n[e]&&n[e](t)}}function createEl(e,t,r,n){void 0===e&&(e="div"),void 0===t&&(t={}),void 0===r&&(r={});var i=document$2.createElement(e);return Object.getOwnPropertyNames(t).forEach((function(e){var r=t[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(log$1.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+e+" to "+r+"."),i.setAttribute(e,r)):"textContent"===e?textContent(i,r):i[e]===r&&"tabIndex"!==e||(i[e]=r)})),Object.getOwnPropertyNames(r).forEach((function(e){i.setAttribute(e,r[e])})),n&&appendContent(i,n),i}function textContent(e,t){return void 0===e.textContent?e.innerText=t:e.textContent=t,e}function prependTo(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function hasClass(e,t){return throwIfWhitespace(t),e.classList?e.classList.contains(t):classRegExp(t).test(e.className)}function addClass(e,t){return e.classList?e.classList.add(t):hasClass(e,t)||(e.className=(e.className+" "+t).trim()),e}function removeClass(e,t){return e?(e.classList?e.classList.remove(t):(throwIfWhitespace(t),e.className=e.className.split(/\s+/).filter((function(e){return e!==t})).join(" ")),e):(log$1.warn("removeClass was called with an element that doesn't exist"),null)}function toggleClass(e,t,r){var n=hasClass(e,t);if("function"==typeof r&&(r=r(e,t)),"boolean"!=typeof r&&(r=!n),r!==n)return r?addClass(e,t):removeClass(e,t),e}function setAttributes(e,t){Object.getOwnPropertyNames(t).forEach((function(r){var n=t[r];null==n||!1===n?e.removeAttribute(r):e.setAttribute(r,!0===n?"":n)}))}function getAttributes(e){var t={};if(e&&e.attributes&&e.attributes.length>0)for(var r=e.attributes,n=r.length-1;n>=0;n--){var i=r[n].name,o=r[n].value;"boolean"!=typeof e[i]&&-1===",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+i+",")||(o=null!==o),t[i]=o}return t}function getAttribute(e,t){return e.getAttribute(t)}function setAttribute(e,t,r){e.setAttribute(t,r)}function removeAttribute(e,t){e.removeAttribute(t)}function blockTextSelection(){document$2.body.focus(),document$2.onselectstart=function(){return!1}}function unblockTextSelection(){document$2.onselectstart=function(){return!0}}function getBoundingClientRect(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),r={};return["bottom","height","left","right","top","width"].forEach((function(e){void 0!==t[e]&&(r[e]=t[e])})),r.height||(r.height=parseFloat(computedStyle(e,"height"))),r.width||(r.width=parseFloat(computedStyle(e,"width"))),r}}function findPosition(e){if(!e||e&&!e.offsetParent)return{left:0,top:0,width:0,height:0};for(var t=e.offsetWidth,r=e.offsetHeight,n=0,i=0;e.offsetParent&&e!==document$2[FullscreenApi.fullscreenElement];)n+=e.offsetLeft,i+=e.offsetTop,e=e.offsetParent;return{left:n,top:i,width:t,height:r}}function getPointerPosition(e,t){var r={x:0,y:0};if(IS_IOS)for(var n=e;n&&"html"!==n.nodeName.toLowerCase();){var i=computedStyle(n,"transform");if(/^matrix/.test(i)){var o=i.slice(7,-1).split(/,\s/).map(Number);r.x+=o[4],r.y+=o[5]}else if(/^matrix3d/.test(i)){var s=i.slice(9,-1).split(/,\s/).map(Number);r.x+=s[12],r.y+=s[13]}n=n.parentNode}var a={},l=findPosition(t.target),c=findPosition(e),u=c.width,h=c.height,d=t.offsetY-(c.top-l.top),p=t.offsetX-(c.left-l.left);return t.changedTouches&&(p=t.changedTouches[0].pageX-c.left,d=t.changedTouches[0].pageY+c.top,IS_IOS&&(p-=r.x,d-=r.y)),a.y=1-Math.max(0,Math.min(1,d/h)),a.x=Math.max(0,Math.min(1,p/u)),a}function isTextNode(e){return isObject$7(e)&&3===e.nodeType}function emptyEl(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function normalizeContent(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map((function(e){return"function"==typeof e&&(e=e()),isEl(e)||isTextNode(e)?e:"string"==typeof e&&/\S/.test(e)?document$2.createTextNode(e):void 0})).filter((function(e){return e}))}function appendContent(e,t){return normalizeContent(t).forEach((function(t){return e.appendChild(t)})),e}function insertContent(e,t){return appendContent(emptyEl(e),t)}function isSingleLeftClick(e){return void 0===e.button&&void 0===e.buttons||(0===e.button&&void 0===e.buttons||("mouseup"===e.type&&0===e.button&&0===e.buttons||0===e.button&&1===e.buttons))}var $$n=createQuerier("querySelector"),$$=createQuerier("querySelectorAll"),Dom=Object.freeze({__proto__:null,isReal:isReal,isEl:isEl,isInFrame:isInFrame,createEl:createEl,textContent:textContent,prependTo:prependTo,hasClass:hasClass,addClass:addClass,removeClass:removeClass,toggleClass:toggleClass,setAttributes:setAttributes,getAttributes:getAttributes,getAttribute:getAttribute,setAttribute:setAttribute,removeAttribute:removeAttribute,blockTextSelection:blockTextSelection,unblockTextSelection:unblockTextSelection,getBoundingClientRect:getBoundingClientRect,findPosition:findPosition,getPointerPosition:getPointerPosition,isTextNode:isTextNode,emptyEl:emptyEl,normalizeContent:normalizeContent,appendContent:appendContent,insertContent:insertContent,isSingleLeftClick:isSingleLeftClick,$:$$n,$$:$$}),_windowLoaded=!1,videojs$1,autoSetup=function(){if(!1!==videojs$1.options.autoSetup){var e=Array.prototype.slice.call(document$2.getElementsByTagName("video")),t=Array.prototype.slice.call(document$2.getElementsByTagName("audio")),r=Array.prototype.slice.call(document$2.getElementsByTagName("video-js")),n=e.concat(t,r);if(n&&n.length>0)for(var i=0,o=n.length;i<o;i++){var s=n[i];if(!s||!s.getAttribute){autoSetupTimeout(1);break}void 0===s.player&&null!==s.getAttribute("data-setup")&&videojs$1(s)}else _windowLoaded||autoSetupTimeout(1)}};function autoSetupTimeout(e,t){isReal()&&(t&&(videojs$1=t),window$4.setTimeout(autoSetup,e))}function setWindowLoaded(){_windowLoaded=!0,window$4.removeEventListener("load",setWindowLoaded)}isReal()&&("complete"===document$2.readyState?setWindowLoaded():window$4.addEventListener("load",setWindowLoaded));var createStyleElement=function(e){var t=document$2.createElement("style");return t.className=e,t},setTextContent=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t},_initialGuid=3,_guid=_initialGuid,FakeWeakMap;function newGUID(){return _guid++}window$4.WeakMap||(FakeWeakMap=function(){function e(){this.vdata="vdata"+Math.floor(window$4.performance&&window$4.performance.now()||Date.now()),this.data={}}var t=e.prototype;return t.set=function(e,t){var r=e[this.vdata]||newGUID();return e[this.vdata]||(e[this.vdata]=r),this.data[r]=t,this},t.get=function(e){var t=e[this.vdata];if(t)return this.data[t];log$1("We have no data for this element",e)},t.has=function(e){return e[this.vdata]in this.data},t.delete=function(e){var t=e[this.vdata];t&&(delete this.data[t],delete e[this.vdata])},e}());var DomData=window$4.WeakMap?new WeakMap:new FakeWeakMap,_supportsPassive;function _cleanUpEvents(e,t){if(DomData.has(e)){var r=DomData.get(e);0===r.handlers[t].length&&(delete r.handlers[t],e.removeEventListener?e.removeEventListener(t,r.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,r.dispatcher)),Object.getOwnPropertyNames(r.handlers).length<=0&&(delete r.handlers,delete r.dispatcher,delete r.disabled),0===Object.getOwnPropertyNames(r).length&&DomData.delete(e)}}function _handleMultipleEvents(e,t,r,n){r.forEach((function(r){e(t,r,n)}))}function fixEvent(e){if(e.fixed_)return e;function t(){return!0}function r(){return!1}if(!e||!e.isPropagationStopped||!e.isImmediatePropagationStopped){var n=e||window$4.event;for(var i in e={},n)"layerX"!==i&&"layerY"!==i&&"keyLocation"!==i&&"webkitMovementX"!==i&&"webkitMovementY"!==i&&"path"!==i&&("returnValue"===i&&n.preventDefault||(e[i]=n[i]));if(e.target||(e.target=e.srcElement||document$2),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){n.preventDefault&&n.preventDefault(),e.returnValue=!1,n.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){n.stopPropagation&&n.stopPropagation(),e.cancelBubble=!0,n.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=r,e.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=r,null!==e.clientX&&void 0!==e.clientX){var o=document$2.documentElement,s=document$2.body;e.pageX=e.clientX+(o&&o.scrollLeft||s&&s.scrollLeft||0)-(o&&o.clientLeft||s&&s.clientLeft||0),e.pageY=e.clientY+(o&&o.scrollTop||s&&s.scrollTop||0)-(o&&o.clientTop||s&&s.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e.fixed_=!0,e}var supportsPassive=function(){if("boolean"!=typeof _supportsPassive){_supportsPassive=!1;try{var e=Object.defineProperty({},"passive",{get:function(){_supportsPassive=!0}});window$4.addEventListener("test",null,e),window$4.removeEventListener("test",null,e)}catch(t){}}return _supportsPassive},passiveEvents=["touchstart","touchmove"];function on$1(e,t,r){if(Array.isArray(t))return _handleMultipleEvents(on$1,e,t,r);DomData.has(e)||DomData.set(e,{});var n=DomData.get(e);if(n.handlers||(n.handlers={}),n.handlers[t]||(n.handlers[t]=[]),r.guid||(r.guid=newGUID()),n.handlers[t].push(r),n.dispatcher||(n.disabled=!1,n.dispatcher=function(t,r){if(!n.disabled){t=fixEvent(t);var i=n.handlers[t.type];if(i)for(var o=i.slice(0),s=0,a=o.length;s<a&&!t.isImmediatePropagationStopped();s++)try{o[s].call(e,t,r)}catch(l){log$1.error(l)}}}),1===n.handlers[t].length)if(e.addEventListener){var i=!1;supportsPassive()&&passiveEvents.indexOf(t)>-1&&(i={passive:!0}),e.addEventListener(t,n.dispatcher,i)}else e.attachEvent&&e.attachEvent("on"+t,n.dispatcher)}function off(e,t,r){if(DomData.has(e)){var n=DomData.get(e);if(n.handlers){if(Array.isArray(t))return _handleMultipleEvents(off,e,t,r);var i=function(e,t){n.handlers[t]=[],_cleanUpEvents(e,t)};if(void 0!==t){var o=n.handlers[t];if(o)if(r){if(r.guid)for(var s=0;s<o.length;s++)o[s].guid===r.guid&&o.splice(s--,1);_cleanUpEvents(e,t)}else i(e,t)}else for(var a in n.handlers)Object.prototype.hasOwnProperty.call(n.handlers||{},a)&&i(e,a)}}}function trigger(e,t,r){var n=DomData.has(e)?DomData.get(e):{},i=e.parentNode||e.ownerDocument;if("string"==typeof t?t={type:t,target:e}:t.target||(t.target=e),t=fixEvent(t),n.dispatcher&&n.dispatcher.call(e,t,r),i&&!t.isPropagationStopped()&&!0===t.bubbles)trigger.call(null,i,t,r);else if(!i&&!t.defaultPrevented&&t.target&&t.target[t.type]){DomData.has(t.target)||DomData.set(t.target,{});var o=DomData.get(t.target);t.target[t.type]&&(o.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),o.disabled=!1)}return!t.defaultPrevented}function one(e,t,r){if(Array.isArray(t))return _handleMultipleEvents(one,e,t,r);var n=function(){off(e,t,n),r.apply(this,arguments)};n.guid=r.guid=r.guid||newGUID(),on$1(e,t,n)}function any(e,t,r){var n=function(){off(e,t,n),r.apply(this,arguments)};n.guid=r.guid=r.guid||newGUID(),on$1(e,t,n)}var Events=Object.freeze({__proto__:null,fixEvent:fixEvent,on:on$1,off:off,trigger:trigger,one:one,any:any}),UPDATE_REFRESH_INTERVAL=30,bind$7=function(e,t,r){t.guid||(t.guid=newGUID());var n=t.bind(e);return n.guid=r?r+"_"+t.guid:t.guid,n},throttle$1=function(e,t){var r=window$4.performance.now();return function(){var n=window$4.performance.now();n-r>=t&&(e.apply(void 0,arguments),r=n)}},debounce=function(e,t,r,n){var i;void 0===n&&(n=window$4);var o=function(){var o=this,s=arguments,a=function(){i=null,a=null,r||e.apply(o,s)};!i&&r&&e.apply(o,s),n.clearTimeout(i),i=n.setTimeout(a,t)};return o.cancel=function(){n.clearTimeout(i),i=null},o},EventTarget=function(){},EVENT_MAP;EventTarget.prototype.allowedEvents_={},EventTarget.prototype.on=function(e,t){var r=this.addEventListener;this.addEventListener=function(){},on$1(this,e,t),this.addEventListener=r},EventTarget.prototype.addEventListener=EventTarget.prototype.on,EventTarget.prototype.off=function(e,t){off(this,e,t)},EventTarget.prototype.removeEventListener=EventTarget.prototype.off,EventTarget.prototype.one=function(e,t){var r=this.addEventListener;this.addEventListener=function(){},one(this,e,t),this.addEventListener=r},EventTarget.prototype.any=function(e,t){var r=this.addEventListener;this.addEventListener=function(){},any(this,e,t),this.addEventListener=r},EventTarget.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=fixEvent(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),trigger(this,e)},EventTarget.prototype.dispatchEvent=EventTarget.prototype.trigger,EventTarget.prototype.queueTrigger=function(e){var t=this;EVENT_MAP||(EVENT_MAP=new Map);var r=e.type||e,n=EVENT_MAP.get(this);n||(n=new Map,EVENT_MAP.set(this,n));var i=n.get(r);n.delete(r),window$4.clearTimeout(i);var o=window$4.setTimeout((function(){n.delete(r),0===n.size&&(n=null,EVENT_MAP.delete(t)),t.trigger(e)}),0);n.set(r,o)};var objName=function(e){return"function"==typeof e.name?e.name():"string"==typeof e.name?e.name:e.name_?e.name_:e.constructor&&e.constructor.name?e.constructor.name:typeof e},isEvented=function(e){return e instanceof EventTarget||!!e.eventBusEl_&&["on","one","off","trigger"].every((function(t){return"function"==typeof e[t]}))},addEventedCallback=function(e,t){isEvented(e)?t():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(t))},isValidEventType=function(e){return"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length},validateTarget=function(e,t,r){if(!e||!e.nodeName&&!isEvented(e))throw new Error("Invalid target for "+objName(t)+"#"+r+"; must be a DOM node or evented object.")},validateEventType=function(e,t,r){if(!isValidEventType(e))throw new Error("Invalid event type for "+objName(t)+"#"+r+"; must be a non-empty string or array.")},validateListener=function(e,t,r){if("function"!=typeof e)throw new Error("Invalid listener for "+objName(t)+"#"+r+"; must be a function.")},normalizeListenArgs=function(e,t,r){var n,i,o,s=t.length<3||t[0]===e||t[0]===e.eventBusEl_;return s?(n=e.eventBusEl_,t.length>=3&&t.shift(),i=t[0],o=t[1]):(n=t[0],i=t[1],o=t[2]),validateTarget(n,e,r),validateEventType(i,e,r),validateListener(o,e,r),{isTargetingSelf:s,target:n,type:i,listener:o=bind$7(e,o)}},listen=function(e,t,r,n){validateTarget(e,e,t),e.nodeName?Events[t](e,r,n):e[t](r,n)},EventedMixin={on:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=normalizeListenArgs(this,r,"on"),o=i.isTargetingSelf,s=i.target,a=i.type,l=i.listener;if(listen(s,"on",a,l),!o){var c=function(){return e.off(s,a,l)};c.guid=l.guid;var u=function(){return e.off("dispose",c)};u.guid=l.guid,listen(this,"on","dispose",c),listen(s,"on","dispose",u)}},one:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=normalizeListenArgs(this,r,"one"),o=i.isTargetingSelf,s=i.target,a=i.type,l=i.listener;if(o)listen(s,"one",a,l);else{var c=function(){e.off(s,a,c);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];l.apply(null,r)};c.guid=l.guid,listen(s,"one",a,c)}},any:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=normalizeListenArgs(this,r,"any"),o=i.isTargetingSelf,s=i.target,a=i.type,l=i.listener;if(o)listen(s,"any",a,l);else{var c=function(){e.off(s,a,c);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];l.apply(null,r)};c.guid=l.guid,listen(s,"any",a,c)}},off:function(e,t,r){if(!e||isValidEventType(e))off(this.eventBusEl_,e,t);else{var n=e,i=t;validateTarget(n,this,"off"),validateEventType(i,this,"off"),validateListener(r,this,"off"),r=bind$7(this,r),this.off("dispose",r),n.nodeName?(off(n,i,r),off(n,"dispose",r)):isEvented(n)&&(n.off(i,r),n.off("dispose",r))}},trigger:function(e,t){validateTarget(this.eventBusEl_,this,"trigger");var r=e&&"string"!=typeof e?e.type:e;if(!isValidEventType(r)){var n="Invalid event type for "+objName(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(!e)throw new Error(n);(this.log||log$1).error(n)}return trigger(this.eventBusEl_,e,t)}};function evented(e,t){void 0===t&&(t={});var r=t.eventBusKey;if(r){if(!e[r].nodeName)throw new Error('The eventBusKey "'+r+'" does not refer to an element.');e.eventBusEl_=e[r]}else e.eventBusEl_=createEl("span",{className:"vjs-event-bus"});return assign$2(e,EventedMixin),e.eventedCallbacks&&e.eventedCallbacks.forEach((function(e){e()})),e.on("dispose",(function(){e.off(),[e,e.el_,e.eventBusEl_].forEach((function(e){e&&DomData.has(e)&&DomData.delete(e)})),window$4.setTimeout((function(){e.eventBusEl_=null}),0)})),e}var StatefulMixin={state:{},setState:function(e){var t,r=this;return"function"==typeof e&&(e=e()),each(e,(function(e,n){r.state[n]!==e&&((t=t||{})[n]={from:r.state[n],to:e}),r.state[n]=e})),t&&isEvented(this)&&this.trigger({changes:t,type:"statechanged"}),t}};function stateful(e,t){return assign$2(e,StatefulMixin),e.state=assign$2({},e.state,t),"function"==typeof e.handleStateChanged&&isEvented(e)&&e.on("statechanged",e.handleStateChanged),e}var toLowerCase$2=function(e){return"string"!=typeof e?e:e.replace(/./,(function(e){return e.toLowerCase()}))},toTitleCase=function(e){return"string"!=typeof e?e:e.replace(/./,(function(e){return e.toUpperCase()}))},titleCaseEquals=function(e,t){return toTitleCase(e)===toTitleCase(t)};function mergeOptions(){for(var e={},t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.forEach((function(t){t&&each(t,(function(t,r){isPlain(t)?(isPlain(e[r])||(e[r]={}),e[r]=mergeOptions(e[r],t)):e[r]=t}))})),e}var MapSham=function(){function e(){this.map_={}}var t=e.prototype;return t.has=function(e){return e in this.map_},t.delete=function(e){var t=this.has(e);return delete this.map_[e],t},t.set=function(e,t){return this.map_[e]=t,this},t.forEach=function(e,t){for(var r in this.map_)e.call(t,this.map_[r],r,this)},e}(),Map$1=window$4.Map?window$4.Map:MapSham,SetSham=function(){function e(){this.set_={}}var t=e.prototype;return t.has=function(e){return e in this.set_},t.delete=function(e){var t=this.has(e);return delete this.set_[e],t},t.add=function(e){return this.set_[e]=1,this},t.forEach=function(e,t){for(var r in this.set_)e.call(t,r,r,this)},e}(),Set$1=window$4.Set?window$4.Set:SetSham,Component$q=function(){function e(e,t,r){var n=this;if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=mergeOptions({},this.options_),t=this.options_=mergeOptions(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){var i=e&&e.id&&e.id()||"no_player";this.id_=i+"_component_"+newGUID()}this.name_=t.name||null,t.el?this.el_=t.el:!1!==t.createEl&&(this.el_=this.createEl()),t.className&&this.el_&&t.className.split(" ").forEach((function(e){return n.addClass(e)})),!1!==t.evented&&(evented(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),stateful(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set$1,this.setIntervalIds_=new Set$1,this.rafIds_=new Set$1,this.namedRafs_=new Map$1,this.clearingTimersOnDispose_=!1,!1!==t.initChildren&&this.initChildren(),this.ready(r),!1!==t.reportTouchActivity&&this.enableTouchActivity()}var t=e.prototype;return t.dispose=function(e){if(void 0===e&&(e={}),!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}},t.isDisposed=function(){return Boolean(this.isDisposed_)},t.player=function(){return this.player_},t.options=function(e){return e?(this.options_=mergeOptions(this.options_,e),this.options_):this.options_},t.el=function(){return this.el_},t.createEl=function(e,t,r){return createEl(e,t,r)},t.localize=function(e,t,r){void 0===r&&(r=e);var n=this.player_.language&&this.player_.language(),i=this.player_.languages&&this.player_.languages(),o=i&&i[n],s=n&&n.split("-")[0],a=i&&i[s],l=r;return o&&o[e]?l=o[e]:a&&a[e]&&(l=a[e]),t&&(l=l.replace(/\{(\d+)\}/g,(function(e,r){var n=t[r-1],i=n;return void 0===n&&(i=e),i}))),l},t.handleLanguagechange=function(){},t.contentEl=function(){return this.contentEl_||this.el_},t.id=function(){return this.id_},t.name=function(){return this.name_},t.children=function(){return this.children_},t.getChildById=function(e){return this.childIndex_[e]},t.getChild=function(e){if(e)return this.childNameIndex_[e]},t.getDescendant=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t=t.reduce((function(e,t){return e.concat(t)}),[]);for(var n=this,i=0;i<t.length;i++)if(!(n=n.getChild(t[i]))||!n.getChild)return;return n},t.addChild=function(t,r,n){var i,o;if(void 0===r&&(r={}),void 0===n&&(n=this.children_.length),"string"==typeof t){o=toTitleCase(t);var s=r.componentClass||o;r.name=o;var a=e.getComponent(s);if(!a)throw new Error("Component "+s+" does not exist");if("function"!=typeof a)return null;i=new a(this.player_||this,r)}else i=t;if(i.parentComponent_&&i.parentComponent_.removeChild(i),this.children_.splice(n,0,i),i.parentComponent_=this,"function"==typeof i.id&&(this.childIndex_[i.id()]=i),(o=o||i.name&&toTitleCase(i.name()))&&(this.childNameIndex_[o]=i,this.childNameIndex_[toLowerCase$2(o)]=i),"function"==typeof i.el&&i.el()){var l=null;this.children_[n+1]&&(this.children_[n+1].el_?l=this.children_[n+1].el_:isEl(this.children_[n+1])&&(l=this.children_[n+1])),this.contentEl().insertBefore(i.el(),l)}return i},t.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,r=this.children_.length-1;r>=0;r--)if(this.children_[r]===e){t=!0,this.children_.splice(r,1);break}if(t){e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[toTitleCase(e.name())]=null,this.childNameIndex_[toLowerCase$2(e.name())]=null;var n=e.el();n&&n.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},t.initChildren=function(){var t=this,r=this.options_.children;if(r){var n,i=this.options_,o=e.getComponent("Tech");(n=Array.isArray(r)?r:Object.keys(r)).concat(Object.keys(this.options_).filter((function(e){return!n.some((function(t){return"string"==typeof t?e===t:e===t.name}))}))).map((function(e){var n,i;return"string"==typeof e?i=r[n=e]||t.options_[n]||{}:(n=e.name,i=e),{name:n,opts:i}})).filter((function(t){var r=e.getComponent(t.opts.componentClass||toTitleCase(t.name));return r&&!o.isTech(r)})).forEach((function(e){var r=e.name,n=e.opts;if(void 0!==i[r]&&(n=i[r]),!1!==n){!0===n&&(n={}),n.playerOptions=t.options_.playerOptions;var o=t.addChild(r,n);o&&(t[r]=o)}}))}},t.buildCSSClass=function(){return""},t.ready=function(e,t){if(void 0===t&&(t=!1),e)return this.isReady_?void(t?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))},t.triggerReady=function(){this.isReady_=!0,this.setTimeout((function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach((function(e){e.call(this)}),this),this.trigger("ready")}),1)},t.$=function(e,t){return $$n(e,t||this.contentEl())},t.$$=function(e,t){return $$(e,t||this.contentEl())},t.hasClass=function(e){return hasClass(this.el_,e)},t.addClass=function(e){addClass(this.el_,e)},t.removeClass=function(e){removeClass(this.el_,e)},t.toggleClass=function(e,t){toggleClass(this.el_,e,t)},t.show=function(){this.removeClass("vjs-hidden")},t.hide=function(){this.addClass("vjs-hidden")},t.lockShowing=function(){this.addClass("vjs-lock-showing")},t.unlockShowing=function(){this.removeClass("vjs-lock-showing")},t.getAttribute=function(e){return getAttribute(this.el_,e)},t.setAttribute=function(e,t){setAttribute(this.el_,e,t)},t.removeAttribute=function(e){removeAttribute(this.el_,e)},t.width=function(e,t){return this.dimension("width",e,t)},t.height=function(e,t){return this.dimension("height",e,t)},t.dimensions=function(e,t){this.width(e,!0),this.height(t)},t.dimension=function(e,t,r){if(void 0!==t)return null!==t&&t==t||(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",void(r||this.trigger("componentresize"));if(!this.el_)return 0;var n=this.el_.style[e],i=n.indexOf("px");return-1!==i?parseInt(n.slice(0,i),10):parseInt(this.el_["offset"+toTitleCase(e)],10)},t.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if(t=computedStyle(this.el_,e),0===(t=parseFloat(t))||isNaN(t)){var r="offset"+toTitleCase(e);t=this.el_[r]}return t},t.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},t.currentWidth=function(){return this.currentDimension("width")},t.currentHeight=function(){return this.currentDimension("height")},t.focus=function(){this.el_.focus()},t.blur=function(){this.el_.blur()},t.handleKeyDown=function(e){this.player_&&(keycode.isEventKey(e,"Tab")||e.stopPropagation(),this.player_.handleKeyDown(e))},t.handleKeyPress=function(e){this.handleKeyDown(e)},t.emitTapEvents=function(){var e,t=0,r=null;this.on("touchstart",(function(n){1===n.touches.length&&(r={pageX:n.touches[0].pageX,pageY:n.touches[0].pageY},t=window$4.performance.now(),e=!0)})),this.on("touchmove",(function(t){if(t.touches.length>1)e=!1;else if(r){var n=t.touches[0].pageX-r.pageX,i=t.touches[0].pageY-r.pageY;Math.sqrt(n*n+i*i)>10&&(e=!1)}}));var n=function(){e=!1};this.on("touchleave",n),this.on("touchcancel",n),this.on("touchend",(function(n){(r=null,!0===e)&&(window$4.performance.now()-t<200&&(n.preventDefault(),this.trigger("tap")))}))},t.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e,t=bind$7(this.player(),this.player().reportUserActivity);this.on("touchstart",(function(){t(),this.clearInterval(e),e=this.setInterval(t,250)}));var r=function(r){t(),this.clearInterval(e)};this.on("touchmove",t),this.on("touchend",r),this.on("touchcancel",r)}},t.setTimeout=function(e,t){var r,n=this;return e=bind$7(this,e),this.clearTimersOnDispose_(),r=window$4.setTimeout((function(){n.setTimeoutIds_.has(r)&&n.setTimeoutIds_.delete(r),e()}),t),this.setTimeoutIds_.add(r),r},t.clearTimeout=function(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),window$4.clearTimeout(e)),e},t.setInterval=function(e,t){e=bind$7(this,e),this.clearTimersOnDispose_();var r=window$4.setInterval(e,t);return this.setIntervalIds_.add(r),r},t.clearInterval=function(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),window$4.clearInterval(e)),e},t.requestAnimationFrame=function(e){var t,r=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),e=bind$7(this,e),t=window$4.requestAnimationFrame((function(){r.rafIds_.has(t)&&r.rafIds_.delete(t),e()})),this.rafIds_.add(t),t):this.setTimeout(e,1e3/60)},t.requestNamedAnimationFrame=function(e,t){var r=this;if(!this.namedRafs_.has(e)){this.clearTimersOnDispose_(),t=bind$7(this,t);var n=this.requestAnimationFrame((function(){t(),r.namedRafs_.has(e)&&r.namedRafs_.delete(e)}));return this.namedRafs_.set(e,n),e}},t.cancelNamedAnimationFrame=function(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))},t.cancelAnimationFrame=function(e){return this.supportsRaf_?(this.rafIds_.has(e)&&(this.rafIds_.delete(e),window$4.cancelAnimationFrame(e)),e):this.clearTimeout(e)},t.clearTimersOnDispose_=function(){var e=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",(function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach((function(t){var r=t[0],n=t[1];e[r].forEach((function(t,r){return e[n](r)}))})),e.clearingTimersOnDispose_=!1})))},e.registerComponent=function(t,r){if("string"!=typeof t||!t)throw new Error('Illegal component name, "'+t+'"; must be a non-empty string.');var n,i=e.getComponent("Tech"),o=i&&i.isTech(r),s=e===r||e.prototype.isPrototypeOf(r.prototype);if(o||!s)throw n=o?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+t+'"; '+n+".");t=toTitleCase(t),e.components_||(e.components_={});var a=e.getComponent("Player");if("Player"===t&&a&&a.players){var l=a.players,c=Object.keys(l);if(l&&c.length>0&&c.map((function(e){return l[e]})).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return e.components_[t]=r,e.components_[toLowerCase$2(t)]=r,r},e.getComponent=function(t){if(t&&e.components_)return e.components_[t]},e}();function rangeCheck(e,t,r){if("number"!=typeof t||t<0||t>r)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+r+").")}function getRange(e,t,r,n){return rangeCheck(e,n,r.length-1),r[n][t]}function createTimeRangesObj(e){var t;return t=void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:getRange.bind(null,"start",0,e),end:getRange.bind(null,"end",1,e)},window$4.Symbol&&window$4.Symbol.iterator&&(t[window$4.Symbol.iterator]=function(){return(e||[]).values()}),t}function createTimeRanges(e,t){return Array.isArray(e)?createTimeRangesObj(e):void 0===e||void 0===t?createTimeRangesObj():createTimeRangesObj([[e,t]])}function bufferedPercent(e,t){var r,n,i=0;if(!t)return 0;e&&e.length||(e=createTimeRanges(0,0));for(var o=0;o<e.length;o++)r=e.start(o),(n=e.end(o))>t&&(n=t),i+=n-r;return i/t}function MediaError(e){if(e instanceof MediaError)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:isObject$7(e)&&("number"==typeof e.code&&(this.code=e.code),assign$2(this,e)),this.message||(this.message=MediaError.defaultMessages[this.code]||"")}Component$q.prototype.supportsRaf_="function"==typeof window$4.requestAnimationFrame&&"function"==typeof window$4.cancelAnimationFrame,Component$q.registerComponent("Component",Component$q),MediaError.prototype.code=0,MediaError.prototype.message="",MediaError.prototype.status=null,MediaError.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],MediaError.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var errNum=0;errNum<MediaError.errorTypes.length;errNum++)MediaError[MediaError.errorTypes[errNum]]=errNum,MediaError.prototype[MediaError.errorTypes[errNum]]=errNum;function isPromise(e){return null!=e&&"function"==typeof e.then}function silencePromise(e){isPromise(e)&&e.then(null,(function(e){}))}var trackToJson_=function(e){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((function(t,r,n){return e[r]&&(t[r]=e[r]),t}),{cues:e.cues&&Array.prototype.map.call(e.cues,(function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}}))})},textTracksToJson=function(e){var t=e.$$("track"),r=Array.prototype.map.call(t,(function(e){return e.track}));return Array.prototype.map.call(t,(function(e){var t=trackToJson_(e.track);return e.src&&(t.src=e.src),t})).concat(Array.prototype.filter.call(e.textTracks(),(function(e){return-1===r.indexOf(e)})).map(trackToJson_))},jsonToTextTracks=function(e,t){return e.forEach((function(e){var r=t.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach((function(e){return r.addCue(e)}))})),t.textTracks()},textTrackConverter={textTracksToJson:textTracksToJson,jsonToTextTracks:jsonToTextTracks,trackToJson_:trackToJson_},MODAL_CLASS_NAME="vjs-modal-dialog",ModalDialog=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).handleKeyDown_=function(e){return n.handleKeyDown(e)},n.close_=function(e){return n.close(e)},n.opened_=n.hasBeenOpened_=n.hasBeenFilled_=!1,n.closeable(!n.options_.uncloseable),n.content(n.options_.content),n.contentEl_=createEl("div",{className:MODAL_CLASS_NAME+"-content"},{role:"document"}),n.descEl_=createEl("p",{className:MODAL_CLASS_NAME+"-description vjs-control-text",id:n.el().getAttribute("aria-describedby")}),textContent(n.descEl_,n.description()),n.el_.appendChild(n.descEl_),n.el_.appendChild(n.contentEl_),n}_inheritsLoose(t,e);var r=t.prototype;return r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},r.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,e.prototype.dispose.call(this)},r.buildCSSClass=function(){return MODAL_CLASS_NAME+" vjs-hidden "+e.prototype.buildCSSClass.call(this)},r.label=function(){return this.localize(this.options_.label||"Modal Window")},r.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},r.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},r.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},r.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},r.closeable=function(e){if("boolean"==typeof e){var t=this.closeable_=!!e,r=this.getChild("closeButton");if(t&&!r){var n=this.contentEl_;this.contentEl_=this.el_,r=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=n,this.on(r,"close",this.close_)}!t&&r&&(this.off(r,"close",this.close_),this.removeChild(r),r.dispose())}return this.closeable_},r.fill=function(){this.fillWith(this.content())},r.fillWith=function(e){var t=this.contentEl(),r=t.parentNode,n=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,r.removeChild(t),this.empty(),insertContent(t,e),this.trigger("modalfill"),n?r.insertBefore(t,n):r.appendChild(t);var i=this.getChild("closeButton");i&&r.appendChild(i.el_)},r.empty=function(){this.trigger("beforemodalempty"),emptyEl(this.contentEl()),this.trigger("modalempty")},r.content=function(e){return void 0!==e&&(this.content_=e),this.content_},r.conditionalFocus_=function(){var e=document$2.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus())},r.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},r.handleKeyDown=function(e){if(e.stopPropagation(),keycode.isEventKey(e,"Escape")&&this.closeable())return e.preventDefault(),void this.close();if(keycode.isEventKey(e,"Tab")){for(var t,r=this.focusableEls_(),n=this.el_.querySelector(":focus"),i=0;i<r.length;i++)if(n===r[i]){t=i;break}document$2.activeElement===this.el_&&(t=0),e.shiftKey&&0===t?(r[r.length-1].focus(),e.preventDefault()):e.shiftKey||t!==r.length-1||(r[0].focus(),e.preventDefault())}},r.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,(function(e){return(e instanceof window$4.HTMLAnchorElement||e instanceof window$4.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof window$4.HTMLInputElement||e instanceof window$4.HTMLSelectElement||e instanceof window$4.HTMLTextAreaElement||e instanceof window$4.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof window$4.HTMLIFrameElement||e instanceof window$4.HTMLObjectElement||e instanceof window$4.HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")}))},t}(Component$q);ModalDialog.prototype.options_={pauseOnOpen:!0,temporary:!0},Component$q.registerComponent("ModalDialog",ModalDialog);var TrackList=function(e){function t(t){var r;void 0===t&&(t=[]),(r=e.call(this)||this).tracks_=[],Object.defineProperty(r,"length",{get:function(){return this.tracks_.length}});for(var n=0;n<t.length;n++)r.addTrack(t[n]);return r}_inheritsLoose(t,e);var r=t.prototype;return r.addTrack=function(e){var t=this,r=this.tracks_.length;""+r in this||Object.defineProperty(this,r,{get:function(){return this.tracks_[r]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=function(){t.trigger({track:e,type:"labelchange",target:t})},isEvented(e)&&e.addEventListener("labelchange",e.labelchange_)},r.removeTrack=function(e){for(var t,r=0,n=this.length;r<n;r++)if(this[r]===e){(t=this[r]).off&&t.off(),this.tracks_.splice(r,1);break}t&&this.trigger({track:t,type:"removetrack",target:this})},r.getTrackById=function(e){for(var t=null,r=0,n=this.length;r<n;r++){var i=this[r];if(i.id===e){t=i;break}}return t},t}(EventTarget);for(var event in TrackList.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"},TrackList.prototype.allowedEvents_)TrackList.prototype["on"+event]=null;var disableOthers$1=function(e,t){for(var r=0;r<e.length;r++)Object.keys(e[r]).length&&t.id!==e[r].id&&(e[r].enabled=!1)},AudioTrackList=function(e){function t(t){var r;void 0===t&&(t=[]);for(var n=t.length-1;n>=0;n--)if(t[n].enabled){disableOthers$1(t,t[n]);break}return(r=e.call(this,t)||this).changing_=!1,r}_inheritsLoose(t,e);var r=t.prototype;return r.addTrack=function(t){var r=this;t.enabled&&disableOthers$1(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&(t.enabledChange_=function(){r.changing_||(r.changing_=!0,disableOthers$1(r,t),r.changing_=!1,r.trigger("change"))},t.addEventListener("enabledchange",t.enabledChange_))},r.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&t.enabledChange_&&(t.removeEventListener("enabledchange",t.enabledChange_),t.enabledChange_=null)},t}(TrackList),disableOthers=function(e,t){for(var r=0;r<e.length;r++)Object.keys(e[r]).length&&t.id!==e[r].id&&(e[r].selected=!1)},VideoTrackList=function(e){function t(t){var r;void 0===t&&(t=[]);for(var n=t.length-1;n>=0;n--)if(t[n].selected){disableOthers(t,t[n]);break}return(r=e.call(this,t)||this).changing_=!1,Object.defineProperty(r,"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),r}_inheritsLoose(t,e);var r=t.prototype;return r.addTrack=function(t){var r=this;t.selected&&disableOthers(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&(t.selectedChange_=function(){r.changing_||(r.changing_=!0,disableOthers(r,t),r.changing_=!1,r.trigger("change"))},t.addEventListener("selectedchange",t.selectedChange_))},r.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&t.selectedChange_&&(t.removeEventListener("selectedchange",t.selectedChange_),t.selectedChange_=null)},t}(TrackList),TextTrackList=function(e){function t(){return e.apply(this,arguments)||this}_inheritsLoose(t,e);var r=t.prototype;return r.addTrack=function(t){var r=this;e.prototype.addTrack.call(this,t),this.queueChange_||(this.queueChange_=function(){return r.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return r.trigger("selectedlanguagechange")}),t.addEventListener("modechange",this.queueChange_);-1===["metadata","chapters"].indexOf(t.kind)&&t.addEventListener("modechange",this.triggerSelectedlanguagechange_)},r.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&(this.queueChange_&&t.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&t.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},t}(TrackList),HtmlTrackElementList=function(){function e(e){void 0===e&&(e=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var t=0,r=e.length;t<r;t++)this.addTrackElement_(e[t])}var t=e.prototype;return t.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)},t.getTrackElementByTrack_=function(e){for(var t,r=0,n=this.trackElements_.length;r<n;r++)if(e===this.trackElements_[r].track){t=this.trackElements_[r];break}return t},t.removeTrackElement_=function(e){for(var t=0,r=this.trackElements_.length;t<r;t++)if(e===this.trackElements_[t]){this.trackElements_[t].track&&"function"==typeof this.trackElements_[t].track.off&&this.trackElements_[t].track.off(),"function"==typeof this.trackElements_[t].off&&this.trackElements_[t].off(),this.trackElements_.splice(t,1);break}},e}(),TextTrackCueList=function(){function e(t){e.prototype.setCues_.call(this,t),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var t=e.prototype;return t.setCues_=function(e){var t=this.length||0,r=0,n=e.length;this.cues_=e,this.length_=e.length;var i=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(t<n)for(r=t;r<n;r++)i.call(this,r)},t.getCueById=function(e){for(var t=null,r=0,n=this.length;r<n;r++){var i=this[r];if(i.id===e){t=i;break}}return t},e}(),VideoTrackKind={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},AudioTrackKind={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},TextTrackKind={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},TextTrackMode={disabled:"disabled",hidden:"hidden",showing:"showing"},Track=function(e){function t(t){var r;void 0===t&&(t={}),r=e.call(this)||this;var n={id:t.id||"vjs_track_"+newGUID(),kind:t.kind||"",language:t.language||""},i=t.label||"",o=function(e){Object.defineProperty(r,e,{get:function(){return n[e]},set:function(){}})};for(var s in n)o(s);return Object.defineProperty(r,"label",{get:function(){return i},set:function(e){e!==i&&(i=e,this.trigger("labelchange"))}}),r}return _inheritsLoose(t,e),t}(EventTarget),parseUrl=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"],r=document$2.createElement("a");r.href=e;for(var n={},i=0;i<t.length;i++)n[t[i]]=r[t[i]];return"http:"===n.protocol&&(n.host=n.host.replace(/:80$/,"")),"https:"===n.protocol&&(n.host=n.host.replace(/:443$/,"")),n.protocol||(n.protocol=window$4.location.protocol),n.host||(n.host=window$4.location.host),n},getAbsoluteURL=function(e){if(!e.match(/^https?:\/\//)){var t=document$2.createElement("a");t.href=e,e=t.href}return e},getFileExtension=function(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(e);if(t)return t.pop().toLowerCase()}return""},isCrossOrigin=function(e,t){void 0===t&&(t=window$4.location);var r=parseUrl(e);return(":"===r.protocol?t.protocol:r.protocol)+r.host!==t.protocol+t.host},Url=Object.freeze({__proto__:null,parseUrl:parseUrl,getAbsoluteURL:getAbsoluteURL,getFileExtension:getFileExtension,isCrossOrigin:isCrossOrigin}),parseCues=function(e,t){var r=new window$4.WebVTT.Parser(window$4,window$4.vttjs,window$4.WebVTT.StringDecoder()),n=[];r.oncue=function(e){t.addCue(e)},r.onparsingerror=function(e){n.push(e)},r.onflush=function(){t.trigger({type:"loadeddata",target:t})},r.parse(e),n.length>0&&(window$4.console&&window$4.console.groupCollapsed&&window$4.console.groupCollapsed("Text Track parsing errors for "+t.src),n.forEach((function(e){return log$1.error(e)})),window$4.console&&window$4.console.groupEnd&&window$4.console.groupEnd()),r.flush()},loadTrack=function(e,t){var r={uri:e},n=isCrossOrigin(e);n&&(r.cors=n);var i="use-credentials"===t.tech_.crossOrigin();i&&(r.withCredentials=i),XHR(r,bind$7(this,(function(e,r,n){if(e)return log$1.error(e,r);t.loaded_=!0,"function"!=typeof window$4.WebVTT?t.tech_&&t.tech_.any(["vttjsloaded","vttjserror"],(function(e){if("vttjserror"!==e.type)return parseCues(n,t);log$1.error("vttjs failed to load, stopping trying to process "+t.src)})):parseCues(n,t)})))},TextTrack=function(e){function t(t){var r;if(void 0===t&&(t={}),!t.tech)throw new Error("A tech was not provided.");var n=mergeOptions(t,{kind:TextTrackKind[t.kind]||"subtitles",language:t.language||t.srclang||""}),i=TextTrackMode[n.mode]||"disabled",o=n.default;"metadata"!==n.kind&&"chapters"!==n.kind||(i="hidden"),(r=e.call(this,n)||this).tech_=n.tech,r.cues_=[],r.activeCues_=[],r.preload_=!1!==r.tech_.preloadTextTracks;var s=new TextTrackCueList(r.cues_),a=new TextTrackCueList(r.activeCues_),l=!1;r.timeupdateHandler=bind$7(r,(function(e){void 0===e&&(e={}),this.tech_.isDisposed()||(this.tech_.isReady_?(this.activeCues=this.activeCues,l&&(this.trigger("cuechange"),l=!1),"timeupdate"!==e.type&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))):"timeupdate"!==e.type&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler)))}));return r.tech_.one("dispose",(function(){r.stopTracking()})),"disabled"!==i&&r.startTracking(),Object.defineProperties(r,{default:{get:function(){return o},set:function(){}},mode:{get:function(){return i},set:function(e){TextTrackMode[e]&&i!==e&&(i=e,this.preload_||"disabled"===i||0!==this.cues.length||loadTrack(this.src,this),this.stopTracking(),"disabled"!==i&&this.startTracking(),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?s:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return a;for(var e=this.tech_.currentTime(),t=[],r=0,n=this.cues.length;r<n;r++){var i=this.cues[r];(i.startTime<=e&&i.endTime>=e||i.startTime===i.endTime&&i.startTime<=e&&i.startTime+.5>=e)&&t.push(i)}if(l=!1,t.length!==this.activeCues_.length)l=!0;else for(var o=0;o<t.length;o++)-1===this.activeCues_.indexOf(t[o])&&(l=!0);return this.activeCues_=t,a.setCues_(this.activeCues_),a},set:function(){}}}),n.src?(r.src=n.src,r.preload_||(r.loaded_=!0),(r.preload_||"subtitles"!==n.kind&&"captions"!==n.kind)&&loadTrack(r.src,r)):r.loaded_=!0,r}_inheritsLoose(t,e);var r=t.prototype;return r.startTracking=function(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)},r.stopTracking=function(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)},r.addCue=function(e){var t=e;if(t.constructor&&"VTTCue"!==t.constructor.name){for(var r in t=new window$4.vttjs.VTTCue(e.startTime,e.endTime,e.text),e)r in t||(t[r]=e[r]);t.id=e.id,t.originalCue_=e}for(var n=this.tech_.textTracks(),i=0;i<n.length;i++)n[i]!==this&&n[i].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},r.removeCue=function(e){for(var t=this.cues_.length;t--;){var r=this.cues_[t];if(r===e||r.originalCue_&&r.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}},t}(Track);TextTrack.prototype.allowedEvents_={cuechange:"cuechange"};var AudioTrack=function(e){function t(t){var r;void 0===t&&(t={});var n=mergeOptions(t,{kind:AudioTrackKind[t.kind]||""});r=e.call(this,n)||this;var i=!1;return Object.defineProperty(r,"enabled",{get:function(){return i},set:function(e){"boolean"==typeof e&&e!==i&&(i=e,this.trigger("enabledchange"))}}),n.enabled&&(r.enabled=n.enabled),r.loaded_=!0,r}return _inheritsLoose(t,e),t}(Track),VideoTrack=function(e){function t(t){var r;void 0===t&&(t={});var n=mergeOptions(t,{kind:VideoTrackKind[t.kind]||""});r=e.call(this,n)||this;var i=!1;return Object.defineProperty(r,"selected",{get:function(){return i},set:function(e){"boolean"==typeof e&&e!==i&&(i=e,this.trigger("selectedchange"))}}),n.selected&&(r.selected=n.selected),r}return _inheritsLoose(t,e),t}(Track),NONE=0,LOADING=1,LOADED=2,ERROR=3,HTMLTrackElement=function(e){function t(t){var r,n;void 0===t&&(t={}),r=e.call(this)||this;var i=new TextTrack(t);return r.kind=i.kind,r.src=i.src,r.srclang=i.language,r.label=i.label,r.default=i.default,Object.defineProperties(r,{readyState:{get:function(){return n}},track:{get:function(){return i}}}),n=NONE,i.addEventListener("loadeddata",(function(){n=LOADED,r.trigger({type:"load",target:r})})),r}return _inheritsLoose(t,e),t}(EventTarget);HTMLTrackElement.prototype.allowedEvents_={load:"load"},HTMLTrackElement.NONE=NONE,HTMLTrackElement.LOADING=LOADING,HTMLTrackElement.LOADED=LOADED,HTMLTrackElement.ERROR=ERROR;var NORMAL={audio:{ListClass:AudioTrackList,TrackClass:AudioTrack,capitalName:"Audio"},video:{ListClass:VideoTrackList,TrackClass:VideoTrack,capitalName:"Video"},text:{ListClass:TextTrackList,TrackClass:TextTrack,capitalName:"Text"}};Object.keys(NORMAL).forEach((function(e){NORMAL[e].getterName=e+"Tracks",NORMAL[e].privateName=e+"Tracks_"}));var REMOTE={remoteText:{ListClass:TextTrackList,TrackClass:TextTrack,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:HtmlTrackElementList,TrackClass:HTMLTrackElement,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},ALL=_extends$1({},NORMAL,REMOTE);function createTrackHelper(e,t,r,n,i){void 0===i&&(i={});var o=e.textTracks();i.kind=t,r&&(i.label=r),n&&(i.language=n),i.tech=e;var s=new ALL.text.TrackClass(i);return o.addTrack(s),s}REMOTE.names=Object.keys(REMOTE),NORMAL.names=Object.keys(NORMAL),ALL.names=[].concat(REMOTE.names).concat(NORMAL.names);var Tech$1=function(e){function t(t,r){var n;return void 0===t&&(t={}),void 0===r&&(r=function(){}),t.reportTouchActivity=!1,(n=e.call(this,null,t,r)||this).onDurationChange_=function(e){return n.onDurationChange(e)},n.trackProgress_=function(e){return n.trackProgress(e)},n.trackCurrentTime_=function(e){return n.trackCurrentTime(e)},n.stopTrackingCurrentTime_=function(e){return n.stopTrackingCurrentTime(e)},n.disposeSourceHandler_=function(e){return n.disposeSourceHandler(e)},n.queuedHanders_=new Set,n.hasStarted_=!1,n.on("playing",(function(){this.hasStarted_=!0})),n.on("loadstart",(function(){this.hasStarted_=!1})),ALL.names.forEach((function(e){var r=ALL[e];t&&t[r.getterName]&&(n[r.privateName]=t[r.getterName])})),n.featuresProgressEvents||n.manualProgressOn(),n.featuresTimeupdateEvents||n.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach((function(e){!1===t["native"+e+"Tracks"]&&(n["featuresNative"+e+"Tracks"]=!1)})),!1===t.nativeCaptions||!1===t.nativeTextTracks?n.featuresNativeTextTracks=!1:!0!==t.nativeCaptions&&!0!==t.nativeTextTracks||(n.featuresNativeTextTracks=!0),n.featuresNativeTextTracks||n.emulateTextTracks(),n.preloadTextTracks=!1!==t.preloadTextTracks,n.autoRemoteTextTracks_=new ALL.text.ListClass,n.initTrackListeners(),t.nativeControlsForTouch||n.emitTapEvents(),n.constructor&&(n.name_=n.constructor.name||"Unknown Tech"),n}_inheritsLoose(t,e);var r=t.prototype;return r.triggerSourceset=function(e){var t=this;this.isReady_||this.one("ready",(function(){return t.setTimeout((function(){return t.triggerSourceset(e)}),1)})),this.trigger({src:e,type:"sourceset"})},r.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},r.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},r.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(bind$7(this,(function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()})),500)},r.onDurationChange=function(e){this.duration_=this.duration()},r.buffered=function(){return createTimeRanges(0,0)},r.bufferedPercent=function(){return bufferedPercent(this.buffered(),this.duration_)},r.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},r.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},r.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},r.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval((function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}),250)},r.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},r.dispose=function(){this.clearTracks(NORMAL.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},r.clearTracks=function(e){var t=this;(e=[].concat(e)).forEach((function(e){for(var r=t[e+"Tracks"]()||[],n=r.length;n--;){var i=r[n];"text"===e&&t.removeRemoteTextTrack(i),r.removeTrack(i)}}))},r.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var r=e[t];this.removeRemoteTextTrack(r)}},r.reset=function(){},r.crossOrigin=function(){},r.setCrossOrigin=function(){},r.error=function(e){return void 0!==e&&(this.error_=new MediaError(e),this.trigger("error")),this.error_},r.played=function(){return this.hasStarted_?createTimeRanges(0,0):createTimeRanges()},r.play=function(){},r.setScrubbing=function(){},r.scrubbing=function(){},r.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},r.initTrackListeners=function(){var e=this;NORMAL.names.forEach((function(t){var r=NORMAL[t],n=function(){e.trigger(t+"trackchange")},i=e[r.getterName]();i.addEventListener("removetrack",n),i.addEventListener("addtrack",n),e.on("dispose",(function(){i.removeEventListener("removetrack",n),i.removeEventListener("addtrack",n)}))}))},r.addWebVttScript_=function(){var e=this;if(!window$4.WebVTT)if(document$2.body.contains(this.el())){if(!this.options_["vtt.js"]&&isPlain(vtt)&&Object.keys(vtt).length>0)return void this.trigger("vttjsloaded");var t=document$2.createElement("script");t.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},this.on("dispose",(function(){t.onload=null,t.onerror=null})),window$4.WebVTT=!0,this.el().parentNode.appendChild(t)}else this.ready(this.addWebVttScript_)},r.emulateTextTracks=function(){var e=this,t=this.textTracks(),r=this.remoteTextTracks(),n=function(e){return t.addTrack(e.track)},i=function(e){return t.removeTrack(e.track)};r.on("addtrack",n),r.on("removetrack",i),this.addWebVttScript_();var o=function(){return e.trigger("texttrackchange")},s=function(){o();for(var e=0;e<t.length;e++){var r=t[e];r.removeEventListener("cuechange",o),"showing"===r.mode&&r.addEventListener("cuechange",o)}};s(),t.addEventListener("change",s),t.addEventListener("addtrack",s),t.addEventListener("removetrack",s),this.on("dispose",(function(){r.off("addtrack",n),r.off("removetrack",i),t.removeEventListener("change",s),t.removeEventListener("addtrack",s),t.removeEventListener("removetrack",s);for(var e=0;e<t.length;e++){t[e].removeEventListener("cuechange",o)}}))},r.addTextTrack=function(e,t,r){if(!e)throw new Error("TextTrack kind is required but was not provided");return createTrackHelper(this,e,t,r)},r.createRemoteTextTrack=function(e){var t=mergeOptions(e,{tech:this});return new REMOTE.remoteTextEl.TrackClass(t)},r.addRemoteTextTrack=function(e,t){var r=this;void 0===e&&(e={});var n=this.createRemoteTextTrack(e);return!0!==t&&!1!==t&&(log$1.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),t=!0),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack(n.track),!0!==t&&this.ready((function(){return r.autoRemoteTextTracks_.addTrack(n.track)})),n},r.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},r.getVideoPlaybackQuality=function(){return{}},r.requestPictureInPicture=function(){var e=this.options_.Promise||window$4.Promise;if(e)return e.reject()},r.disablePictureInPicture=function(){return!0},r.setDisablePictureInPicture=function(){},r.requestVideoFrameCallback=function(e){var t=this,r=newGUID();return!this.isReady_||this.paused()?(this.queuedHanders_.add(r),this.one("playing",(function(){t.queuedHanders_.has(r)&&(t.queuedHanders_.delete(r),e())}))):this.requestNamedAnimationFrame(r,e),r},r.cancelVideoFrameCallback=function(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)},r.setPoster=function(){},r.playsinline=function(){},r.setPlaysinline=function(){},r.overrideNativeAudioTracks=function(){},r.overrideNativeVideoTracks=function(){},r.canPlayType=function(){return""},t.canPlayType=function(){return""},t.canPlaySource=function(e,r){return t.canPlayType(e.type)},t.isTech=function(e){return e.prototype instanceof t||e instanceof t||e===t},t.registerTech=function(e,r){if(t.techs_||(t.techs_={}),!t.isTech(r))throw new Error("Tech "+e+" must be a Tech");if(!t.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!t.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=toTitleCase(e),t.techs_[e]=r,t.techs_[toLowerCase$2(e)]=r,"Tech"!==e&&t.defaultTechOrder_.push(e),r},t.getTech=function(e){if(e)return t.techs_&&t.techs_[e]?t.techs_[e]:(e=toTitleCase(e),window$4&&window$4.videojs&&window$4.videojs[e]?(log$1.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),window$4.videojs[e]):void 0)},t}(Component$q);ALL.names.forEach((function(e){var t=ALL[e];Tech$1.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}})),Tech$1.prototype.featuresVolumeControl=!0,Tech$1.prototype.featuresMuteControl=!0,Tech$1.prototype.featuresFullscreenResize=!1,Tech$1.prototype.featuresPlaybackRate=!1,Tech$1.prototype.featuresProgressEvents=!1,Tech$1.prototype.featuresSourceset=!1,Tech$1.prototype.featuresTimeupdateEvents=!1,Tech$1.prototype.featuresNativeTextTracks=!1,Tech$1.prototype.featuresVideoFrameCallback=!1,Tech$1.withSourceHandlers=function(e){e.registerSourceHandler=function(t,r){var n=e.sourceHandlers;n||(n=e.sourceHandlers=[]),void 0===r&&(r=n.length),n.splice(r,0,t)},e.canPlayType=function(t){for(var r,n=e.sourceHandlers||[],i=0;i<n.length;i++)if(r=n[i].canPlayType(t))return r;return""},e.selectSourceHandler=function(t,r){for(var n=e.sourceHandlers||[],i=0;i<n.length;i++)if(n[i].canHandleSource(t,r))return n[i];return null},e.canPlaySource=function(t,r){var n=e.selectSourceHandler(t,r);return n?n.canHandleSource(t,r):""};["seekable","seeking","duration"].forEach((function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})}),e.prototype),e.prototype.setSource=function(t){var r=e.selectSourceHandler(t,this.options_);r||(e.nativeSourceHandler?r=e.nativeSourceHandler:log$1.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),r!==e.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=r.handleSource(t,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},Component$q.registerComponent("Tech",Tech$1),Tech$1.registerTech("Tech",Tech$1),Tech$1.defaultTechOrder_=[];var middlewares={},middlewareInstances={},TERMINATOR={};function use(e,t){middlewares[e]=middlewares[e]||[],middlewares[e].push(t)}function setSource(e,t,r){e.setTimeout((function(){return setSourceHelper(t,middlewares[t.type],r,e)}),1)}function setTech(e,t){e.forEach((function(e){return e.setTech&&e.setTech(t)}))}function get$1(e,t,r){return e.reduceRight(middlewareIterator(r),t[r]())}function set$1(e,t,r,n){return t[r](e.reduce(middlewareIterator(r),n))}function mediate(e,t,r,n){void 0===n&&(n=null);var i="call"+toTitleCase(r),o=e.reduce(middlewareIterator(i),n),s=o===TERMINATOR,a=s?null:t[r](o);return executeRight(e,r,a,s),a}var allowedGetters={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},allowedSetters={setCurrentTime:1,setMuted:1,setVolume:1},allowedMediators={play:1,pause:1};function middlewareIterator(e){return function(t,r){return t===TERMINATOR?TERMINATOR:r[e]?r[e](t):t}}function executeRight(e,t,r,n){for(var i=e.length-1;i>=0;i--){var o=e[i];o[t]&&o[t](n,r)}}function clearCacheForPlayer(e){middlewareInstances[e.id()]=null}function getOrCreateFactory(e,t){var r=middlewareInstances[e.id()],n=null;if(null==r)return n=t(e),middlewareInstances[e.id()]=[[t,n]],n;for(var i=0;i<r.length;i++){var o=r[i],s=o[0],a=o[1];s===t&&(n=a)}return null===n&&(n=t(e),r.push([t,n])),n}function setSourceHelper(e,t,r,n,i,o){void 0===e&&(e={}),void 0===t&&(t=[]),void 0===i&&(i=[]),void 0===o&&(o=!1);var s=t,a=s[0],l=s.slice(1);if("string"==typeof a)setSourceHelper(e,middlewares[a],r,n,i,o);else if(a){var c=getOrCreateFactory(n,a);if(!c.setSource)return i.push(c),setSourceHelper(e,l,r,n,i,o);c.setSource(assign$2({},e),(function(t,s){if(t)return setSourceHelper(e,l,r,n,i,o);i.push(c),setSourceHelper(s,e.type===s.type?l:middlewares[s.type],r,n,i,o)}))}else l.length?setSourceHelper(e,l,r,n,i,o):o?r(e,i):setSourceHelper(e,middlewares["*"],r,n,i,!0)}var MimetypesKind={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},getMimetype=function(e){void 0===e&&(e="");var t=getFileExtension(e);return MimetypesKind[t.toLowerCase()]||""},findMimetype=function(e,t){if(!t)return"";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;var r=e.cache_.sources.filter((function(e){return e.src===t}));if(r.length)return r[0].type;for(var n=e.$$("source"),i=0;i<n.length;i++){var o=n[i];if(o.type&&o.src&&o.src===t)return o.type}return getMimetype(t)},_filterSource=function(e){if(Array.isArray(e)){var t=[];e.forEach((function(e){e=_filterSource(e),Array.isArray(e)?t=t.concat(e):isObject$7(e)&&t.push(e)})),e=t}else e="string"==typeof e&&e.trim()?[fixSource({src:e})]:isObject$7(e)&&"string"==typeof e.src&&e.src&&e.src.trim()?[fixSource(e)]:[];return e};function fixSource(e){if(!e.type){var t=getMimetype(e.src);t&&(e.type=t)}return e}var MediaLoader=function(e){function t(t,r,n){var i,o=mergeOptions({createEl:!1},r);if(i=e.call(this,t,o,n)||this,r.playerOptions.sources&&0!==r.playerOptions.sources.length)t.src(r.playerOptions.sources);else for(var s=0,a=r.playerOptions.techOrder;s<a.length;s++){var l=toTitleCase(a[s]),c=Tech$1.getTech(l);if(l||(c=Component$q.getComponent(l)),c&&c.isSupported()){t.loadTech_(l);break}}return i}return _inheritsLoose(t,e),t}(Component$q);Component$q.registerComponent("MediaLoader",MediaLoader);var ClickableComponent=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).options_.controlText&&n.controlText(n.options_.controlText),n.handleMouseOver_=function(e){return n.handleMouseOver(e)},n.handleMouseOut_=function(e){return n.handleMouseOut(e)},n.handleClick_=function(e){return n.handleClick(e)},n.handleKeyDown_=function(e){return n.handleKeyDown(e)},n.emitTapEvents(),n.enable(),n}_inheritsLoose(t,e);var r=t.prototype;return r.createEl=function(e,t,r){void 0===e&&(e="div"),void 0===t&&(t={}),void 0===r&&(r={}),t=assign$2({className:this.buildCSSClass(),tabIndex:0},t),"button"===e&&log$1.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),r=assign$2({role:"button"},r),this.tabIndex_=t.tabIndex;var n=createEl(e,t,r);return n.appendChild(createEl("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(n),n},r.dispose=function(){this.controlTextEl_=null,e.prototype.dispose.call(this)},r.createControlTextEl=function(e){return this.controlTextEl_=createEl("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},r.controlText=function(e,t){if(void 0===t&&(t=this.el()),void 0===e)return this.controlText_||"Need Text";var r=this.localize(e);this.controlText_=e,textContent(this.controlTextEl_,r),this.nonIconControl||this.player_.options_.noUITitleAttributes||t.setAttribute("title",r)},r.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},r.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},r.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},r.handleLanguagechange=function(){this.controlText(this.controlText_)},r.handleClick=function(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},r.handleKeyDown=function(t){keycode.isEventKey(t,"Space")||keycode.isEventKey(t,"Left")||keycode.isEventKey(t,"Right")?t.preventDefault():keycode.isEventKey(t,"Enter")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):e.prototype.handleKeyDown.call(this,t)},t}(Component$q);Component$q.registerComponent("ClickableComponent",ClickableComponent);var PosterImage=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).update(),n.update_=function(e){return n.update(e)},t.on("posterchange",n.update_),n}_inheritsLoose(t,e);var r=t.prototype;return r.dispose=function(){this.player().off("posterchange",this.update_),e.prototype.dispose.call(this)},r.createEl=function(){return createEl("div",{className:"vjs-poster",tabIndex:-1})},r.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},r.setSrc=function(e){var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t},r.handleClick=function(e){if(this.player_.controls()){var t=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;!this.player_.tech(!0)||(IE_VERSION||IS_EDGE)&&t||this.player_.tech(!0).focus(),this.player_.paused()?silencePromise(this.player_.play()):this.player_.pause()}},t}(ClickableComponent);Component$q.registerComponent("PosterImage",PosterImage);var darkGray$1="#222",lightGray="#ccc",fontMap={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function constructColor(e,t){var r;if(4===e.length)r=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else{if(7!==e.length)throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");r=e.slice(1)}return"rgba("+parseInt(r.slice(0,2),16)+","+parseInt(r.slice(2,4),16)+","+parseInt(r.slice(4,6),16)+","+t+")"}function tryUpdateStyle(e,t,r){try{e.style[t]=r}catch(n){return}}var TextTrackDisplay$1=function(e){function t(t,r,n){var i;i=e.call(this,t,r,n)||this;var o=function(e){return i.updateDisplay(e)};return t.on("loadstart",(function(e){return i.toggleDisplay(e)})),t.on("texttrackchange",o),t.on("loadedmetadata",(function(e){return i.preselectTrack(e)})),t.ready(bind$7(i,(function(){if(t.tech_&&t.tech_.featuresNativeTextTracks)this.hide();else{t.on("fullscreenchange",o),t.on("playerresize",o),window$4.addEventListener("orientationchange",o),t.on("dispose",(function(){return window$4.removeEventListener("orientationchange",o)}));for(var e=this.options_.playerOptions.tracks||[],r=0;r<e.length;r++)this.player_.addRemoteTextTrack(e[r],!0);this.preselectTrack()}}))),i}_inheritsLoose(t,e);var r=t.prototype;return r.preselectTrack=function(){for(var e,t,r,n={captions:1,subtitles:1},i=this.player_.textTracks(),o=this.player_.cache_.selectedLanguage,s=0;s<i.length;s++){var a=i[s];o&&o.enabled&&o.language&&o.language===a.language&&a.kind in n?a.kind===o.kind?r=a:r||(r=a):o&&!o.enabled?(r=null,e=null,t=null):a.default&&("descriptions"!==a.kind||e?a.kind in n&&!t&&(t=a):e=a)}r?r.mode="showing":t?t.mode="showing":e&&(e.mode="showing")},r.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})},r.clearDisplay=function(){"function"==typeof window$4.WebVTT&&window$4.WebVTT.processCues(window$4,[],this.el_)},r.updateDisplay=function(){var e=this.player_.textTracks(),t=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),t){for(var r=[],n=0;n<e.length;++n){var i=e[n];"showing"===i.mode&&r.push(i)}this.updateForTrack(r)}else{for(var o=null,s=null,a=e.length;a--;){var l=e[a];"showing"===l.mode&&("descriptions"===l.kind?o=l:s=l)}s?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(s)):o&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(o))}},r.updateDisplayState=function(e){for(var t=this.player_.textTrackSettings.getValues(),r=e.activeCues,n=r.length;n--;){var i=r[n];if(i){var o=i.displayState;if(t.color&&(o.firstChild.style.color=t.color),t.textOpacity&&tryUpdateStyle(o.firstChild,"color",constructColor(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(o.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&tryUpdateStyle(o.firstChild,"backgroundColor",constructColor(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?tryUpdateStyle(o,"backgroundColor",constructColor(t.windowColor,t.windowOpacity)):o.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?o.firstChild.style.textShadow="2px 2px 3px "+darkGray$1+", 2px 2px 4px "+darkGray$1+", 2px 2px 5px "+darkGray$1:"raised"===t.edgeStyle?o.firstChild.style.textShadow="1px 1px "+darkGray$1+", 2px 2px "+darkGray$1+", 3px 3px "+darkGray$1:"depressed"===t.edgeStyle?o.firstChild.style.textShadow="1px 1px "+lightGray+", 0 1px "+lightGray+", -1px -1px "+darkGray$1+", 0 -1px "+darkGray$1:"uniform"===t.edgeStyle&&(o.firstChild.style.textShadow="0 0 4px "+darkGray$1+", 0 0 4px "+darkGray$1+", 0 0 4px "+darkGray$1+", 0 0 4px "+darkGray$1)),t.fontPercent&&1!==t.fontPercent){var s=window$4.parseFloat(o.style.fontSize);o.style.fontSize=s*t.fontPercent+"px",o.style.height="auto",o.style.top="auto"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?o.firstChild.style.fontVariant="small-caps":o.firstChild.style.fontFamily=fontMap[t.fontFamily])}}},r.updateForTrack=function(e){if(Array.isArray(e)||(e=[e]),"function"==typeof window$4.WebVTT&&!e.every((function(e){return!e.activeCues}))){for(var t=[],r=0;r<e.length;++r)for(var n=e[r],i=0;i<n.activeCues.length;++i)t.push(n.activeCues[i]);window$4.WebVTT.processCues(window$4,t,this.el_);for(var o=0;o<e.length;++o){for(var s=e[o],a=0;a<s.activeCues.length;++a){var l=s.activeCues[a].displayState;addClass(l,"vjs-text-track-cue"),addClass(l,"vjs-text-track-cue-"+(s.language?s.language:o)),s.language&&setAttribute(l,"lang",s.language)}this.player_.textTrackSettings&&this.updateDisplayState(s)}}},t}(Component$q);Component$q.registerComponent("TextTrackDisplay",TextTrackDisplay$1);var LoadingSpinner=function(e){function t(){return e.apply(this,arguments)||this}return _inheritsLoose(t,e),t.prototype.createEl=function(){var t=this.player_.isAudio(),r=this.localize(t?"Audio Player":"Video Player"),n=createEl("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[r])}),i=e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return i.appendChild(n),i},t}(Component$q);Component$q.registerComponent("LoadingSpinner",LoadingSpinner);var Button=function(e){function t(){return e.apply(this,arguments)||this}_inheritsLoose(t,e);var r=t.prototype;return r.createEl=function(e,t,r){void 0===t&&(t={}),void 0===r&&(r={});var n=createEl("button",t=assign$2({className:this.buildCSSClass()},t),r=assign$2({type:"button"},r));return n.appendChild(createEl("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(n),n},r.addChild=function(e,t){void 0===t&&(t={});var r=this.constructor.name;return log$1.warn("Adding an actionable (user controllable) child to a Button ("+r+") is not supported; use a ClickableComponent instead."),Component$q.prototype.addChild.call(this,e,t)},r.enable=function(){e.prototype.enable.call(this),this.el_.removeAttribute("disabled")},r.disable=function(){e.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},r.handleKeyDown=function(t){keycode.isEventKey(t,"Enter")?t.stopPropagation():e.prototype.handleKeyDown.call(this,t)},t}(ClickableComponent);Component$q.registerComponent("Button",Button);var BigPlayButton=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).mouseused_=!1,n.on("mousedown",(function(e){return n.handleMouseDown(e)})),n}_inheritsLoose(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-big-play-button"},r.handleClick=function(e){var t=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY){var r=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;return silencePromise(t),void(!this.player_.tech(!0)||(IE_VERSION||IS_EDGE)&&r||this.player_.tech(!0).focus())}var n=this.player_.getChild("controlBar"),i=n&&n.getChild("playToggle");if(i){var o=function(){return i.focus()};isPromise(t)?t.then(o,(function(){})):this.setTimeout(o,1)}else this.player_.tech(!0).focus()},r.handleKeyDown=function(t){this.mouseused_=!1,e.prototype.handleKeyDown.call(this,t)},r.handleMouseDown=function(e){this.mouseused_=!0},t}(Button);BigPlayButton.prototype.controlText_="Play Video",Component$q.registerComponent("BigPlayButton",BigPlayButton);var CloseButton=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).controlText(r&&r.controlText||n.localize("Close")),n}_inheritsLoose(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)},r.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},r.handleKeyDown=function(t){keycode.isEventKey(t,"Esc")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):e.prototype.handleKeyDown.call(this,t)},t}(Button);Component$q.registerComponent("CloseButton",CloseButton);var PlayToggle=function(e){function t(t,r){var n;return void 0===r&&(r={}),n=e.call(this,t,r)||this,r.replay=void 0===r.replay||r.replay,n.on(t,"play",(function(e){return n.handlePlay(e)})),n.on(t,"pause",(function(e){return n.handlePause(e)})),r.replay&&n.on(t,"ended",(function(e){return n.handleEnded(e)})),n}_inheritsLoose(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)},r.handleClick=function(e){this.player_.paused()?silencePromise(this.player_.play()):this.player_.pause()},r.handleSeeked=function(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)},r.handlePlay=function(e){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},r.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},r.handleEnded=function(e){var t=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",(function(e){return t.handleSeeked(e)}))},t}(Button);PlayToggle.prototype.controlText_="Play",Component$q.registerComponent("PlayToggle",PlayToggle);var defaultImplementation=function(e,t){e=e<0?0:e;var r=Math.floor(e%60),n=Math.floor(e/60%60),i=Math.floor(e/3600),o=Math.floor(t/60%60),s=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(i=n=r="-"),(i=i>0||s>0?i+":":"")+(n=((i||o>=10)&&n<10?"0"+n:n)+":")+(r=r<10?"0"+r:r)},implementation=defaultImplementation;function setFormatTime(e){implementation=e}function resetFormatTime(){implementation=defaultImplementation}function formatTime(e,t){return void 0===t&&(t=e),implementation(e,t)}var TimeDisplay=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).on(t,["timeupdate","ended"],(function(e){return n.updateContent(e)})),n.updateTextNode_(),n}_inheritsLoose(t,e);var r=t.prototype;return r.createEl=function(){var t=this.buildCSSClass(),r=e.prototype.createEl.call(this,"div",{className:t+" vjs-time-control vjs-control"}),n=createEl("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+" "},{role:"presentation"});return r.appendChild(n),this.contentEl_=createEl("span",{className:t+"-display"},{"aria-live":"off",role:"presentation"}),r.appendChild(this.contentEl_),r},r.dispose=function(){this.contentEl_=null,this.textNode_=null,e.prototype.dispose.call(this)},r.updateTextNode_=function(e){var t=this;void 0===e&&(e=0),e=formatTime(e,600),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",(function(){if(t.contentEl_){var e=t.textNode_;e&&t.contentEl_.firstChild!==e&&(e=null,log$1.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),t.textNode_=document$2.createTextNode(t.formattedTime_),t.textNode_&&(e?t.contentEl_.replaceChild(t.textNode_,e):t.contentEl_.appendChild(t.textNode_))}})))},r.updateContent=function(e){},t}(Component$q);TimeDisplay.prototype.labelText_="Time",TimeDisplay.prototype.controlText_="Time",Component$q.registerComponent("TimeDisplay",TimeDisplay);var CurrentTimeDisplay=function(e){function t(){return e.apply(this,arguments)||this}_inheritsLoose(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-current-time"},r.updateContent=function(e){var t;t=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(t)},t}(TimeDisplay);CurrentTimeDisplay.prototype.labelText_="Current Time",CurrentTimeDisplay.prototype.controlText_="Current Time",Component$q.registerComponent("CurrentTimeDisplay",CurrentTimeDisplay);var DurationDisplay=function(e){function t(t,r){var n,i=function(e){return n.updateContent(e)};return(n=e.call(this,t,r)||this).on(t,"durationchange",i),n.on(t,"loadstart",i),n.on(t,"loadedmetadata",i),n}_inheritsLoose(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-duration"},r.updateContent=function(e){var t=this.player_.duration();this.updateTextNode_(t)},t}(TimeDisplay);DurationDisplay.prototype.labelText_="Duration",DurationDisplay.prototype.controlText_="Duration",Component$q.registerComponent("DurationDisplay",DurationDisplay);var TimeDivider=function(e){function t(){return e.apply(this,arguments)||this}return _inheritsLoose(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),r=e.prototype.createEl.call(this,"div"),n=e.prototype.createEl.call(this,"span",{textContent:"/"});return r.appendChild(n),t.appendChild(r),t},t}(Component$q);Component$q.registerComponent("TimeDivider",TimeDivider);var RemainingTimeDisplay=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).on(t,"durationchange",(function(e){return n.updateContent(e)})),n}_inheritsLoose(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-remaining-time"},r.createEl=function(){var t=e.prototype.createEl.call(this);return!1!==this.options_.displayNegative&&t.insertBefore(createEl("span",{},{"aria-hidden":!0},"-"),this.contentEl_),t},r.updateContent=function(e){var t;"number"==typeof this.player_.duration()&&(t=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(t))},t}(TimeDisplay);RemainingTimeDisplay.prototype.labelText_="Remaining Time",RemainingTimeDisplay.prototype.controlText_="Remaining Time",Component$q.registerComponent("RemainingTimeDisplay",RemainingTimeDisplay);var LiveDisplay=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).updateShowing(),n.on(n.player(),"durationchange",(function(e){return n.updateShowing(e)})),n}_inheritsLoose(t,e);var r=t.prototype;return r.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=createEl("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(createEl("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+" "})),this.contentEl_.appendChild(document$2.createTextNode(this.localize("LIVE"))),t.appendChild(this.contentEl_),t},r.dispose=function(){this.contentEl_=null,e.prototype.dispose.call(this)},r.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},t}(Component$q);Component$q.registerComponent("LiveDisplay",LiveDisplay);var SeekToLive=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).updateLiveEdgeStatus(),n.player_.liveTracker&&(n.updateLiveEdgeStatusHandler_=function(e){return n.updateLiveEdgeStatus(e)},n.on(n.player_.liveTracker,"liveedgechange",n.updateLiveEdgeStatusHandler_)),n}_inheritsLoose(t,e);var r=t.prototype;return r.createEl=function(){var t=e.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=createEl("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),t.appendChild(this.textEl_),t},r.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},r.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},r.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,e.prototype.dispose.call(this)},t}(Button);SeekToLive.prototype.controlText_="Seek to live, currently playing live",Component$q.registerComponent("SeekToLive",SeekToLive);var clamp=function(e,t,r){return e=Number(e),Math.min(r,Math.max(t,isNaN(e)?t:e))},Slider=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).handleMouseDown_=function(e){return n.handleMouseDown(e)},n.handleMouseUp_=function(e){return n.handleMouseUp(e)},n.handleKeyDown_=function(e){return n.handleKeyDown(e)},n.handleClick_=function(e){return n.handleClick(e)},n.handleMouseMove_=function(e){return n.handleMouseMove(e)},n.update_=function(e){return n.update(e)},n.bar=n.getChild(n.options_.barName),n.vertical(!!n.options_.vertical),n.enable(),n}_inheritsLoose(t,e);var r=t.prototype;return r.enabled=function(){return this.enabled_},r.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},r.disable=function(){if(this.enabled()){var e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},r.createEl=function(t,r,n){return void 0===r&&(r={}),void 0===n&&(n={}),r.className=r.className+" vjs-slider",r=assign$2({tabIndex:0},r),n=assign$2({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},n),e.prototype.createEl.call(this,t,r,n)},r.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;"mousedown"===e.type&&e.preventDefault(),"touchstart"!==e.type||IS_CHROME||e.preventDefault(),blockTextSelection(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove_),this.on(t,"mouseup",this.handleMouseUp_),this.on(t,"touchmove",this.handleMouseMove_),this.on(t,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)},r.handleMouseMove=function(e){},r.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;unblockTextSelection(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.update()},r.update=function(){var e=this;if(this.el_&&this.bar){var t=this.getProgress();return t===this.progress_||(this.progress_=t,this.requestNamedAnimationFrame("Slider#update",(function(){var r=e.vertical()?"height":"width";e.bar.el().style[r]=(100*t).toFixed(2)+"%"}))),t}},r.getProgress=function(){return Number(clamp(this.getPercent(),0,1).toFixed(4))},r.calculateDistance=function(e){var t=getPointerPosition(this.el_,e);return this.vertical()?t.y:t.x},r.handleKeyDown=function(t){keycode.isEventKey(t,"Left")||keycode.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepBack()):keycode.isEventKey(t,"Right")||keycode.isEventKey(t,"Up")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):e.prototype.handleKeyDown.call(this,t)},r.handleClick=function(e){e.stopPropagation(),e.preventDefault()},r.vertical=function(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},t}(Component$q);Component$q.registerComponent("Slider",Slider);var percentify=function(e,t){return clamp(e/t*100,0,100).toFixed(2)+"%"},LoadProgressBar=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).partEls_=[],n.on(t,"progress",(function(e){return n.update(e)})),n}_inheritsLoose(t,e);var r=t.prototype;return r.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),r=createEl("span",{className:"vjs-control-text"}),n=createEl("span",{textContent:this.localize("Loaded")}),i=document$2.createTextNode(": ");return this.percentageEl_=createEl("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),t.appendChild(r),r.appendChild(n),r.appendChild(i),r.appendChild(this.percentageEl_),t},r.dispose=function(){this.partEls_=null,this.percentageEl_=null,e.prototype.dispose.call(this)},r.update=function(e){var t=this;this.requestNamedAnimationFrame("LoadProgressBar#update",(function(){var e=t.player_.liveTracker,r=t.player_.buffered(),n=e&&e.isLive()?e.seekableEnd():t.player_.duration(),i=t.player_.bufferedEnd(),o=t.partEls_,s=percentify(i,n);t.percent_!==s&&(t.el_.style.width=s,textContent(t.percentageEl_,s),t.percent_=s);for(var a=0;a<r.length;a++){var l=r.start(a),c=r.end(a),u=o[a];u||(u=t.el_.appendChild(createEl()),o[a]=u),u.dataset.start===l&&u.dataset.end===c||(u.dataset.start=l,u.dataset.end=c,u.style.left=percentify(l,i),u.style.width=percentify(c-l,i))}for(var h=o.length;h>r.length;h--)t.el_.removeChild(o[h-1]);o.length=r.length}))},t}(Component$q);Component$q.registerComponent("LoadProgressBar",LoadProgressBar);var TimeTooltip=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).update=throttle$1(bind$7(n,n.update),UPDATE_REFRESH_INTERVAL),n}_inheritsLoose(t,e);var r=t.prototype;return r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},r.update=function(e,t,r){var n=findPosition(this.el_),i=getBoundingClientRect(this.player_.el()),o=e.width*t;if(i&&n){var s=e.left-i.left+o,a=e.width-o+(i.right-(e.left+e.width)),l=n.width/2;s<l?l+=l-s:a<l&&(l=a),l<0?l=0:l>n.width&&(l=n.width),l=Math.round(l),this.el_.style.right="-"+l+"px",this.write(r)}},r.write=function(e){textContent(this.el_,e)},r.updateTime=function(e,t,r,n){var i=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",(function(){var o;if(i.player_.liveTracker&&i.player_.liveTracker.isLive()){var s=i.player_.liveTracker.liveWindow(),a=s-t*s;o=(a<1?"":"-")+formatTime(a,s)}else o=formatTime(r,600);i.update(e,t,o),n&&n()}))},t}(Component$q);Component$q.registerComponent("TimeTooltip",TimeTooltip);var PlayProgressBar=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).update=throttle$1(bind$7(n,n.update),UPDATE_REFRESH_INTERVAL),n}_inheritsLoose(t,e);var r=t.prototype;return r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},r.update=function(e,t){var r=this.getChild("timeTooltip");if(r){var n=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();r.updateTime(e,t,n)}},t}(Component$q);PlayProgressBar.prototype.options_={children:[]},IS_IOS||IS_ANDROID||PlayProgressBar.prototype.options_.children.push("timeTooltip"),Component$q.registerComponent("PlayProgressBar",PlayProgressBar);var MouseTimeDisplay=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).update=throttle$1(bind$7(n,n.update),UPDATE_REFRESH_INTERVAL),n}_inheritsLoose(t,e);var r=t.prototype;return r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},r.update=function(e,t){var r=this,n=t*this.player_.duration();this.getChild("timeTooltip").updateTime(e,t,n,(function(){r.el_.style.left=e.width*t+"px"}))},t}(Component$q);MouseTimeDisplay.prototype.options_={children:["timeTooltip"]},Component$q.registerComponent("MouseTimeDisplay",MouseTimeDisplay);var STEP_SECONDS=5,PAGE_KEY_MULTIPLIER=12,SeekBar$1=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).setEventHandlers_(),n}_inheritsLoose(t,e);var r=t.prototype;return r.setEventHandlers_=function(){var e=this;this.update_=bind$7(this,this.update),this.update=throttle$1(this.update_,UPDATE_REFRESH_INTERVAL),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(t){return e.enableInterval_(t)},this.disableIntervalHandler_=function(t){return e.disableInterval_(t)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in document$2&&"visibilityState"in document$2&&this.on(document$2,"visibilitychange",this.toggleVisibility_)},r.toggleVisibility_=function(e){"hidden"===document$2.visibilityState?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(this.player_.ended()||this.player_.paused()||this.enableInterval_(),this.update())},r.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,UPDATE_REFRESH_INTERVAL))},r.disableInterval_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&"ended"!==e.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)},r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},r.update=function(t){var r=this;if("hidden"!==document$2.visibilityState){var n=e.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",(function(){var e=r.player_.ended()?r.player_.duration():r.getCurrentTime_(),t=r.player_.liveTracker,i=r.player_.duration();t&&t.isLive()&&(i=r.player_.liveTracker.liveCurrentTime()),r.percent_!==n&&(r.el_.setAttribute("aria-valuenow",(100*n).toFixed(2)),r.percent_=n),r.currentTime_===e&&r.duration_===i||(r.el_.setAttribute("aria-valuetext",r.localize("progress bar timing: currentTime={1} duration={2}",[formatTime(e,i),formatTime(i,i)],"{1} of {2}")),r.currentTime_=e,r.duration_=i),r.bar&&r.bar.update(getBoundingClientRect(r.el()),r.getProgress())})),n}},r.userSeek_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)},r.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},r.getPercent=function(){var e,t=this.getCurrentTime_(),r=this.player_.liveTracker;return r&&r.isLive()?(e=(t-r.seekableStart())/r.liveWindow(),r.atLiveEdge()&&(e=1)):e=t/this.player_.duration(),e},r.handleMouseDown=function(t){isSingleLeftClick(t)&&(t.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),e.prototype.handleMouseDown.call(this,t))},r.handleMouseMove=function(e,t){if(void 0===t&&(t=!1),isSingleLeftClick(e)){var r;t||this.player_.scrubbing()||this.player_.scrubbing(!0);var n=this.calculateDistance(e),i=this.player_.liveTracker;if(i&&i.isLive()){if(n>=.99)return void i.seekToLiveEdge();var o=i.seekableStart(),s=i.liveCurrentTime();if((r=o+n*i.liveWindow())>=s&&(r=s),r<=o&&(r=o+.1),r===1/0)return}else(r=n*this.player_.duration())===this.player_.duration()&&(r-=.1);this.userSeek_(r)}},r.enable=function(){e.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.show()},r.disable=function(){e.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.hide()},r.handleMouseUp=function(t){e.prototype.handleMouseUp.call(this,t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?silencePromise(this.player_.play()):this.update_()},r.stepForward=function(){this.userSeek_(this.player_.currentTime()+STEP_SECONDS)},r.stepBack=function(){this.userSeek_(this.player_.currentTime()-STEP_SECONDS)},r.handleAction=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},r.handleKeyDown=function(t){var r=this.player_.liveTracker;if(keycode.isEventKey(t,"Enter"))t.preventDefault(),t.stopPropagation(),this.handleAction(t);else if(keycode.isEventKey(t,"Home"))t.preventDefault(),t.stopPropagation(),this.userSeek_(0);else if(keycode.isEventKey(t,"End"))t.preventDefault(),t.stopPropagation(),r&&r.isLive()?this.userSeek_(r.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(keycode(t))){t.preventDefault(),t.stopPropagation();var n=10*(keycode.codes[keycode(t)]-keycode.codes[0])/100;r&&r.isLive()?this.userSeek_(r.seekableStart()+r.liveWindow()*n):this.userSeek_(this.player_.duration()*n)}else keycode.isEventKey(t,"PgDn")?(t.preventDefault(),t.stopPropagation(),this.userSeek_(this.player_.currentTime()-STEP_SECONDS*PAGE_KEY_MULTIPLIER)):keycode.isEventKey(t,"PgUp")?(t.preventDefault(),t.stopPropagation(),this.userSeek_(this.player_.currentTime()+STEP_SECONDS*PAGE_KEY_MULTIPLIER)):e.prototype.handleKeyDown.call(this,t)},r.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in document$2&&"visibilityState"in document$2&&this.off(document$2,"visibilitychange",this.toggleVisibility_),e.prototype.dispose.call(this)},t}(Slider);SeekBar$1.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},IS_IOS||IS_ANDROID||SeekBar$1.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),Component$q.registerComponent("SeekBar",SeekBar$1);var ProgressControl$1=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).handleMouseMove=throttle$1(bind$7(n,n.handleMouseMove),UPDATE_REFRESH_INTERVAL),n.throttledHandleMouseSeek=throttle$1(bind$7(n,n.handleMouseSeek),UPDATE_REFRESH_INTERVAL),n.handleMouseUpHandler_=function(e){return n.handleMouseUp(e)},n.handleMouseDownHandler_=function(e){return n.handleMouseDown(e)},n.enable(),n}_inheritsLoose(t,e);var r=t.prototype;return r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},r.handleMouseMove=function(e){var t=this.getChild("seekBar");if(t){var r=t.getChild("playProgressBar"),n=t.getChild("mouseTimeDisplay");if(r||n){var i=t.el(),o=findPosition(i),s=getPointerPosition(i,e).x;s=clamp(s,0,1),n&&n.update(o,s),r&&r.update(o,t.getProgress())}}},r.handleMouseSeek=function(e){var t=this.getChild("seekBar");t&&t.handleMouseMove(e)},r.enabled=function(){return this.enabled_},r.disable=function(){if(this.children().forEach((function(e){return e.disable&&e.disable()})),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&silencePromise(this.player_.play())}},r.enable=function(){this.children().forEach((function(e){return e.enable&&e.enable()})),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},r.removeListenersAddedOnMousedownAndTouchstart=function(){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)},r.handleMouseDown=function(e){var t=this.el_.ownerDocument,r=this.getChild("seekBar");r&&r.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)},r.handleMouseUp=function(e){var t=this.getChild("seekBar");t&&t.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()},t}(Component$q);ProgressControl$1.prototype.options_={children:["seekBar"]},Component$q.registerComponent("ProgressControl",ProgressControl$1);var PictureInPictureToggle=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).on(t,["enterpictureinpicture","leavepictureinpicture"],(function(e){return n.handlePictureInPictureChange(e)})),n.on(t,["disablepictureinpicturechanged","loadedmetadata"],(function(e){return n.handlePictureInPictureEnabledChange(e)})),n.on(t,["loadedmetadata","audioonlymodechange","audiopostermodechange"],(function(){"audio"===t.currentType().substring(0,5)||t.audioPosterMode()||t.audioOnlyMode()?(t.isInPictureInPicture()&&t.exitPictureInPicture(),n.hide()):n.show()})),n.disable(),n}_inheritsLoose(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-picture-in-picture-control "+e.prototype.buildCSSClass.call(this)},r.handlePictureInPictureEnabledChange=function(){document$2.pictureInPictureEnabled&&!1===this.player_.disablePictureInPicture()?this.enable():this.disable()},r.handlePictureInPictureChange=function(e){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},r.handleClick=function(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},t}(Button);PictureInPictureToggle.prototype.controlText_="Picture-in-Picture",Component$q.registerComponent("PictureInPictureToggle",PictureInPictureToggle);var FullscreenToggle$1=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).on(t,"fullscreenchange",(function(e){return n.handleFullscreenChange(e)})),!1===document$2[t.fsApi_.fullscreenEnabled]&&n.disable(),n}_inheritsLoose(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)},r.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},r.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}(Button);FullscreenToggle$1.prototype.controlText_="Fullscreen",Component$q.registerComponent("FullscreenToggle",FullscreenToggle$1);var checkVolumeSupport=function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}))},VolumeLevel=function(e){function t(){return e.apply(this,arguments)||this}return _inheritsLoose(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return t.appendChild(e.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),t},t}(Component$q);Component$q.registerComponent("VolumeLevel",VolumeLevel);var VolumeLevelTooltip=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).update=throttle$1(bind$7(n,n.update),UPDATE_REFRESH_INTERVAL),n}_inheritsLoose(t,e);var r=t.prototype;return r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},r.update=function(e,t,r,n){if(!r){var i=getBoundingClientRect(this.el_),o=getBoundingClientRect(this.player_.el()),s=e.width*t;if(!o||!i)return;var a=e.left-o.left+s,l=e.width-s+(o.right-e.right),c=i.width/2;a<c?c+=c-a:l<c&&(c=l),c<0?c=0:c>i.width&&(c=i.width),this.el_.style.right="-"+c+"px"}this.write(n+"%")},r.write=function(e){textContent(this.el_,e)},r.updateVolume=function(e,t,r,n,i){var o=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",(function(){o.update(e,t,r,n.toFixed(0)),i&&i()}))},t}(Component$q);Component$q.registerComponent("VolumeLevelTooltip",VolumeLevelTooltip);var MouseVolumeLevelDisplay=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).update=throttle$1(bind$7(n,n.update),UPDATE_REFRESH_INTERVAL),n}_inheritsLoose(t,e);var r=t.prototype;return r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},r.update=function(e,t,r){var n=this,i=100*t;this.getChild("volumeLevelTooltip").updateVolume(e,t,r,i,(function(){r?n.el_.style.bottom=e.height*t+"px":n.el_.style.left=e.width*t+"px"}))},t}(Component$q);MouseVolumeLevelDisplay.prototype.options_={children:["volumeLevelTooltip"]},Component$q.registerComponent("MouseVolumeLevelDisplay",MouseVolumeLevelDisplay);var VolumeBar=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).on("slideractive",(function(e){return n.updateLastVolume_(e)})),n.on(t,"volumechange",(function(e){return n.updateARIAAttributes(e)})),t.ready((function(){return n.updateARIAAttributes()})),n}_inheritsLoose(t,e);var r=t.prototype;return r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},r.handleMouseDown=function(t){isSingleLeftClick(t)&&e.prototype.handleMouseDown.call(this,t)},r.handleMouseMove=function(e){var t=this.getChild("mouseVolumeLevelDisplay");if(t){var r=this.el(),n=getBoundingClientRect(r),i=this.vertical(),o=getPointerPosition(r,e);o=i?o.y:o.x,o=clamp(o,0,1),t.update(n,o,i)}isSingleLeftClick(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))},r.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},r.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},r.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},r.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},r.updateARIAAttributes=function(e){var t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},r.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},r.updateLastVolume_=function(){var e=this,t=this.player_.volume();this.one("sliderinactive",(function(){0===e.player_.volume()&&e.player_.lastVolume_(t)}))},t}(Slider);VolumeBar.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},IS_IOS||IS_ANDROID||VolumeBar.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay"),VolumeBar.prototype.playerEvent="volumechange",Component$q.registerComponent("VolumeBar",VolumeBar);var VolumeControl$1=function(e){function t(t,r){var n;return void 0===r&&(r={}),r.vertical=r.vertical||!1,(void 0===r.volumeBar||isPlain(r.volumeBar))&&(r.volumeBar=r.volumeBar||{},r.volumeBar.vertical=r.vertical),n=e.call(this,t,r)||this,checkVolumeSupport(n,t),n.throttledHandleMouseMove=throttle$1(bind$7(n,n.handleMouseMove),UPDATE_REFRESH_INTERVAL),n.handleMouseUpHandler_=function(e){return n.handleMouseUp(e)},n.on("mousedown",(function(e){return n.handleMouseDown(e)})),n.on("touchstart",(function(e){return n.handleMouseDown(e)})),n.on("mousemove",(function(e){return n.handleMouseMove(e)})),n.on(n.volumeBar,["focus","slideractive"],(function(){n.volumeBar.addClass("vjs-slider-active"),n.addClass("vjs-slider-active"),n.trigger("slideractive")})),n.on(n.volumeBar,["blur","sliderinactive"],(function(){n.volumeBar.removeClass("vjs-slider-active"),n.removeClass("vjs-slider-active"),n.trigger("sliderinactive")})),n}_inheritsLoose(t,e);var r=t.prototype;return r.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},r.handleMouseDown=function(e){var t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)},r.handleMouseUp=function(e){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUpHandler_),this.off(t,"touchend",this.handleMouseUpHandler_)},r.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)},t}(Component$q);VolumeControl$1.prototype.options_={children:["volumeBar"]},Component$q.registerComponent("VolumeControl",VolumeControl$1);var checkMuteSupport=function(e,t){t.tech_&&!t.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}))},MuteToggle=function(e){function t(t,r){var n;return n=e.call(this,t,r)||this,checkMuteSupport(n,t),n.on(t,["loadstart","volumechange"],(function(e){return n.update(e)})),n}_inheritsLoose(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)},r.handleClick=function(e){var t=this.player_.volume(),r=this.player_.lastVolume_();if(0===t){var n=r<.1?.1:r;this.player_.volume(n),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},r.update=function(e){this.updateIcon_(),this.updateControlText_()},r.updateIcon_=function(){var e=this.player_.volume(),t=3;IS_IOS&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);for(var r=0;r<4;r++)removeClass(this.el_,"vjs-vol-"+r);addClass(this.el_,"vjs-vol-"+t)},r.updateControlText_=function(){var e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)},t}(Button);MuteToggle.prototype.controlText_="Mute",Component$q.registerComponent("MuteToggle",MuteToggle);var VolumePanel$1=function(e){function t(t,r){var n;return void 0===r&&(r={}),void 0!==r.inline?r.inline=r.inline:r.inline=!0,(void 0===r.volumeControl||isPlain(r.volumeControl))&&(r.volumeControl=r.volumeControl||{},r.volumeControl.vertical=!r.inline),(n=e.call(this,t,r)||this).handleKeyPressHandler_=function(e){return n.handleKeyPress(e)},n.on(t,["loadstart"],(function(e){return n.volumePanelState_(e)})),n.on(n.muteToggle,"keyup",(function(e){return n.handleKeyPress(e)})),n.on(n.volumeControl,"keyup",(function(e){return n.handleVolumeControlKeyUp(e)})),n.on("keydown",(function(e){return n.handleKeyPress(e)})),n.on("mouseover",(function(e){return n.handleMouseOver(e)})),n.on("mouseout",(function(e){return n.handleMouseOut(e)})),n.on(n.volumeControl,["slideractive"],n.sliderActive_),n.on(n.volumeControl,["sliderinactive"],n.sliderInactive_),n}_inheritsLoose(t,e);var r=t.prototype;return r.sliderActive_=function(){this.addClass("vjs-slider-active")},r.sliderInactive_=function(){this.removeClass("vjs-slider-active")},r.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},r.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},r.dispose=function(){this.handleMouseOut(),e.prototype.dispose.call(this)},r.handleVolumeControlKeyUp=function(e){keycode.isEventKey(e,"Esc")&&this.muteToggle.focus()},r.handleMouseOver=function(e){this.addClass("vjs-hover"),on$1(document$2,"keyup",this.handleKeyPressHandler_)},r.handleMouseOut=function(e){this.removeClass("vjs-hover"),off(document$2,"keyup",this.handleKeyPressHandler_)},r.handleKeyPress=function(e){keycode.isEventKey(e,"Esc")&&this.handleMouseOut()},t}(Component$q);VolumePanel$1.prototype.options_={children:["muteToggle","volumeControl"]},Component$q.registerComponent("VolumePanel",VolumePanel$1);var Menu=function(e){function t(t,r){var n;return n=e.call(this,t,r)||this,r&&(n.menuButton_=r.menuButton),n.focusedChild_=-1,n.on("keydown",(function(e){return n.handleKeyDown(e)})),n.boundHandleBlur_=function(e){return n.handleBlur(e)},n.boundHandleTapClick_=function(e){return n.handleTapClick(e)},n}_inheritsLoose(t,e);var r=t.prototype;return r.addEventListenerForItem=function(e){e instanceof Component$q&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))},r.removeEventListenerForItem=function(e){e instanceof Component$q&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))},r.removeChild=function(t){"string"==typeof t&&(t=this.getChild(t)),this.removeEventListenerForItem(t),e.prototype.removeChild.call(this,t)},r.addItem=function(e){var t=this.addChild(e);t&&this.addEventListenerForItem(t)},r.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=createEl(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var r=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return r.appendChild(this.contentEl_),on$1(r,"click",(function(e){e.preventDefault(),e.stopImmediatePropagation()})),r},r.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,e.prototype.dispose.call(this)},r.handleBlur=function(e){var t=e.relatedTarget||document$2.activeElement;if(!this.children().some((function(e){return e.el()===t}))){var r=this.menuButton_;r&&r.buttonPressed_&&t!==r.el().firstChild&&r.unpressButton()}},r.handleTapClick=function(e){if(this.menuButton_){this.menuButton_.unpressButton();var t=this.children();if(!Array.isArray(t))return;var r=t.filter((function(t){return t.el()===e.target}))[0];if(!r)return;"CaptionSettingsMenuItem"!==r.name()&&this.menuButton_.focus()}},r.handleKeyDown=function(e){keycode.isEventKey(e,"Left")||keycode.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(keycode.isEventKey(e,"Right")||keycode.isEventKey(e,"Up"))&&(e.preventDefault(),e.stopPropagation(),this.stepBack())},r.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},r.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},r.focus=function(e){void 0===e&&(e=0);var t=this.children().slice();t.length&&t[0].hasClass("vjs-menu-title")&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())},t}(Component$q);Component$q.registerComponent("Menu",Menu);var MenuButton$2=function(e){function t(t,r){var n;void 0===r&&(r={}),(n=e.call(this,t,r)||this).menuButton_=new Button(t,r),n.menuButton_.controlText(n.controlText_),n.menuButton_.el_.setAttribute("aria-haspopup","true");var i=Button.prototype.buildCSSClass();n.menuButton_.el_.className=n.buildCSSClass()+" "+i,n.menuButton_.removeClass("vjs-control"),n.addChild(n.menuButton_),n.update(),n.enabled_=!0;var o=function(e){return n.handleClick(e)};return n.handleMenuKeyUp_=function(e){return n.handleMenuKeyUp(e)},n.on(n.menuButton_,"tap",o),n.on(n.menuButton_,"click",o),n.on(n.menuButton_,"keydown",(function(e){return n.handleKeyDown(e)})),n.on(n.menuButton_,"mouseenter",(function(){n.addClass("vjs-hover"),n.menu.show(),on$1(document$2,"keyup",n.handleMenuKeyUp_)})),n.on("mouseleave",(function(e){return n.handleMouseLeave(e)})),n.on("keydown",(function(e){return n.handleSubmenuKeyDown(e)})),n}_inheritsLoose(t,e);var r=t.prototype;return r.update=function(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))},r.createMenu=function(){var e=new Menu(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var t=createEl("li",{className:"vjs-menu-title",textContent:toTitleCase(this.options_.title),tabIndex:-1}),r=new Component$q(this.player_,{el:t});e.addItem(r)}if(this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)e.addItem(this.items[n]);return e},r.createItems=function(){},r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},r.buildWrapperCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+Button.prototype.buildCSSClass()+" "+e.prototype.buildCSSClass.call(this)},r.buildCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},r.controlText=function(e,t){return void 0===t&&(t=this.menuButton_.el()),this.menuButton_.controlText(e,t)},r.dispose=function(){this.handleMouseLeave(),e.prototype.dispose.call(this)},r.handleClick=function(e){this.buttonPressed_?this.unpressButton():this.pressButton()},r.handleMouseLeave=function(e){this.removeClass("vjs-hover"),off(document$2,"keyup",this.handleMenuKeyUp_)},r.focus=function(){this.menuButton_.focus()},r.blur=function(){this.menuButton_.blur()},r.handleKeyDown=function(e){keycode.isEventKey(e,"Esc")||keycode.isEventKey(e,"Tab")?(this.buttonPressed_&&this.unpressButton(),keycode.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus())):(keycode.isEventKey(e,"Up")||keycode.isEventKey(e,"Down"))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))},r.handleMenuKeyUp=function(e){(keycode.isEventKey(e,"Esc")||keycode.isEventKey(e,"Tab"))&&this.removeClass("vjs-hover")},r.handleSubmenuKeyPress=function(e){this.handleSubmenuKeyDown(e)},r.handleSubmenuKeyDown=function(e){(keycode.isEventKey(e,"Esc")||keycode.isEventKey(e,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),keycode.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus()))},r.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),IS_IOS&&isInFrame())return;this.menu.focus()}},r.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},r.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},r.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},t}(Component$q);Component$q.registerComponent("MenuButton",MenuButton$2);var TrackButton=function(e){function t(t,r){var n,i=r.tracks;if((n=e.call(this,t,r)||this).items.length<=1&&n.hide(),!i)return _assertThisInitialized(n);var o=bind$7(n,n.update);return i.addEventListener("removetrack",o),i.addEventListener("addtrack",o),i.addEventListener("labelchange",o),n.player_.on("ready",o),n.player_.on("dispose",(function(){i.removeEventListener("removetrack",o),i.removeEventListener("addtrack",o),i.removeEventListener("labelchange",o)})),n}return _inheritsLoose(t,e),t}(MenuButton$2);Component$q.registerComponent("TrackButton",TrackButton);var MenuKeys=["Tab","Esc","Up","Down","Right","Left"],MenuItem$2=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).selectable=r.selectable,n.isSelected_=r.selected||!1,n.multiSelectable=r.multiSelectable,n.selected(n.isSelected_),n.selectable?n.multiSelectable?n.el_.setAttribute("role","menuitemcheckbox"):n.el_.setAttribute("role","menuitemradio"):n.el_.setAttribute("role","menuitem"),n}_inheritsLoose(t,e);var r=t.prototype;return r.createEl=function(t,r,n){this.nonIconControl=!0;var i=e.prototype.createEl.call(this,"li",assign$2({className:"vjs-menu-item",tabIndex:-1},r),n);return i.replaceChild(createEl("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),i.querySelector(".vjs-icon-placeholder")),i},r.handleKeyDown=function(t){MenuKeys.some((function(e){return keycode.isEventKey(t,e)}))||e.prototype.handleKeyDown.call(this,t)},r.handleClick=function(e){this.selected(!0)},r.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},t}(ClickableComponent);Component$q.registerComponent("MenuItem",MenuItem$2);var TextTrackMenuItem=function(e){function t(t,r){var n,i=r.track,o=t.textTracks();r.label=i.label||i.language||"Unknown",r.selected="showing"===i.mode,(n=e.call(this,t,r)||this).track=i,n.kinds=(r.kinds||[r.kind||n.track.kind]).filter(Boolean);var s,a=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.handleTracksChange.apply(n,t)},l=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.handleSelectedLanguageChange.apply(n,t)};(t.on(["loadstart","texttrackchange"],a),o.addEventListener("change",a),o.addEventListener("selectedlanguagechange",l),n.on("dispose",(function(){t.off(["loadstart","texttrackchange"],a),o.removeEventListener("change",a),o.removeEventListener("selectedlanguagechange",l)})),void 0===o.onchange)&&n.on(["tap","click"],(function(){if("object"!=typeof window$4.Event)try{s=new window$4.Event("change")}catch(e){}s||(s=document$2.createEvent("Event")).initEvent("change",!0,!0),o.dispatchEvent(s)}));return n.handleTracksChange(),n}_inheritsLoose(t,e);var r=t.prototype;return r.handleClick=function(t){var r=this.track,n=this.player_.textTracks();if(e.prototype.handleClick.call(this,t),n)for(var i=0;i<n.length;i++){var o=n[i];-1!==this.kinds.indexOf(o.kind)&&(o===r?"showing"!==o.mode&&(o.mode="showing"):"disabled"!==o.mode&&(o.mode="disabled"))}},r.handleTracksChange=function(e){var t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)},r.handleSelectedLanguageChange=function(e){if("showing"===this.track.mode){var t=this.player_.cache_.selectedLanguage;if(t&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},r.dispose=function(){this.track=null,e.prototype.dispose.call(this)},t}(MenuItem$2);Component$q.registerComponent("TextTrackMenuItem",TextTrackMenuItem);var OffTextTrackMenuItem=function(e){function t(t,r){return r.track={player:t,kind:r.kind,kinds:r.kinds,default:!1,mode:"disabled"},r.kinds||(r.kinds=[r.kind]),r.label?r.track.label=r.label:r.track.label=r.kinds.join(" and ")+" off",r.selectable=!0,r.multiSelectable=!1,e.call(this,t,r)||this}_inheritsLoose(t,e);var r=t.prototype;return r.handleTracksChange=function(e){for(var t=this.player().textTracks(),r=!0,n=0,i=t.length;n<i;n++){var o=t[n];if(this.options_.kinds.indexOf(o.kind)>-1&&"showing"===o.mode){r=!1;break}}r!==this.isSelected_&&this.selected(r)},r.handleSelectedLanguageChange=function(e){for(var t=this.player().textTracks(),r=!0,n=0,i=t.length;n<i;n++){var o=t[n];if(["captions","descriptions","subtitles"].indexOf(o.kind)>-1&&"showing"===o.mode){r=!1;break}}r&&(this.player_.cache_.selectedLanguage={enabled:!1})},t}(TextTrackMenuItem);Component$q.registerComponent("OffTextTrackMenuItem",OffTextTrackMenuItem);var TextTrackButton=function(e){function t(t,r){return void 0===r&&(r={}),r.tracks=t.textTracks(),e.call(this,t,r)||this}return _inheritsLoose(t,e),t.prototype.createItems=function(e,t){var r;void 0===e&&(e=[]),void 0===t&&(t=TextTrackMenuItem),this.label_&&(r=this.label_+" off"),e.push(new OffTextTrackMenuItem(this.player_,{kinds:this.kinds_,kind:this.kind_,label:r})),this.hideThreshold_+=1;var n=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var i=0;i<n.length;i++){var o=n[i];if(this.kinds_.indexOf(o.kind)>-1){var s=new t(this.player_,{track:o,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});s.addClass("vjs-"+o.kind+"-menu-item"),e.push(s)}}return e},t}(TrackButton);Component$q.registerComponent("TextTrackButton",TextTrackButton);var ChaptersTrackMenuItem=function(e){function t(t,r){var n,i=r.track,o=r.cue,s=t.currentTime();return r.selectable=!0,r.multiSelectable=!1,r.label=o.text,r.selected=o.startTime<=s&&s<o.endTime,(n=e.call(this,t,r)||this).track=i,n.cue=o,n}return _inheritsLoose(t,e),t.prototype.handleClick=function(t){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime)},t}(MenuItem$2);Component$q.registerComponent("ChaptersTrackMenuItem",ChaptersTrackMenuItem);var ChaptersButton=function(e){function t(t,r,n){var i;return(i=e.call(this,t,r,n)||this).selectCurrentItem_=function(){i.items.forEach((function(e){e.selected(i.track_.activeCues[0]===e.cue)}))},i}_inheritsLoose(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildWrapperCSSClass.call(this)},r.update=function(t){if(!t||!t.track||"chapters"===t.track.kind){var r=this.findChaptersTrack();r!==this.track_?(this.setTrack(r),e.prototype.update.call(this)):(!this.items||r&&r.cues&&r.cues.length!==this.items.length)&&e.prototype.update.call(this)}},r.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var r=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);r&&r.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}},r.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;t>=0;t--){var r=e[t];if(r.kind===this.kind_)return r}},r.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(toTitleCase(this.kind_))},r.createMenu=function(){return this.options_.title=this.getMenuCaption(),e.prototype.createMenu.call(this)},r.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var r=0,n=t.length;r<n;r++){var i=t[r],o=new ChaptersTrackMenuItem(this.player_,{track:this.track_,cue:i});e.push(o)}return e},t}(TextTrackButton);ChaptersButton.prototype.kind_="chapters",ChaptersButton.prototype.controlText_="Chapters",Component$q.registerComponent("ChaptersButton",ChaptersButton);var DescriptionsButton=function(e){function t(t,r,n){var i;i=e.call(this,t,r,n)||this;var o=t.textTracks(),s=bind$7(i,i.handleTracksChange);return o.addEventListener("change",s),i.on("dispose",(function(){o.removeEventListener("change",s)})),i}_inheritsLoose(t,e);var r=t.prototype;return r.handleTracksChange=function(e){for(var t=this.player().textTracks(),r=!1,n=0,i=t.length;n<i;n++){var o=t[n];if(o.kind!==this.kind_&&"showing"===o.mode){r=!0;break}}r?this.disable():this.enable()},r.buildCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(TextTrackButton);DescriptionsButton.prototype.kind_="descriptions",DescriptionsButton.prototype.controlText_="Descriptions",Component$q.registerComponent("DescriptionsButton",DescriptionsButton);var SubtitlesButton=function(e){function t(t,r,n){return e.call(this,t,r,n)||this}_inheritsLoose(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(TextTrackButton);SubtitlesButton.prototype.kind_="subtitles",SubtitlesButton.prototype.controlText_="Subtitles",Component$q.registerComponent("SubtitlesButton",SubtitlesButton);var CaptionSettingsMenuItem=function(e){function t(t,r){var n;return r.track={player:t,kind:r.kind,label:r.kind+" settings",selectable:!1,default:!1,mode:"disabled"},r.selectable=!1,r.name="CaptionSettingsMenuItem",(n=e.call(this,t,r)||this).addClass("vjs-texttrack-settings"),n.controlText(", opens "+r.kind+" settings dialog"),n}return _inheritsLoose(t,e),t.prototype.handleClick=function(e){this.player().getChild("textTrackSettings").open()},t}(TextTrackMenuItem);Component$q.registerComponent("CaptionSettingsMenuItem",CaptionSettingsMenuItem);var CaptionsButton=function(e){function t(t,r,n){return e.call(this,t,r,n)||this}_inheritsLoose(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-captions-button "+e.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new CaptionSettingsMenuItem(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),e.prototype.createItems.call(this,t)},t}(TextTrackButton);CaptionsButton.prototype.kind_="captions",CaptionsButton.prototype.controlText_="Captions",Component$q.registerComponent("CaptionsButton",CaptionsButton);var SubsCapsMenuItem=function(e){function t(){return e.apply(this,arguments)||this}return _inheritsLoose(t,e),t.prototype.createEl=function(t,r,n){var i=e.prototype.createEl.call(this,t,r,n),o=i.querySelector(".vjs-menu-item-text");return"captions"===this.options_.track.kind&&(o.appendChild(createEl("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),o.appendChild(createEl("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),i},t}(TextTrackMenuItem);Component$q.registerComponent("SubsCapsMenuItem",SubsCapsMenuItem);var SubsCapsButton=function(e){function t(t,r){var n;return void 0===r&&(r={}),(n=e.call(this,t,r)||this).label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(n.player_.language_)>-1&&(n.label_="captions"),n.menuButton_.controlText(toTitleCase(n.label_)),n}_inheritsLoose(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new CaptionSettingsMenuItem(this.player_,{kind:this.label_})),this.hideThreshold_+=1),t=e.prototype.createItems.call(this,t,SubsCapsMenuItem)},t}(TextTrackButton);SubsCapsButton.prototype.kinds_=["captions","subtitles"],SubsCapsButton.prototype.controlText_="Subtitles",Component$q.registerComponent("SubsCapsButton",SubsCapsButton);var AudioTrackMenuItem=function(e){function t(t,r){var n,i=r.track,o=t.audioTracks();r.label=i.label||i.language||"Unknown",r.selected=i.enabled,(n=e.call(this,t,r)||this).track=i,n.addClass("vjs-"+i.kind+"-menu-item");var s=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.handleTracksChange.apply(n,t)};return o.addEventListener("change",s),n.on("dispose",(function(){o.removeEventListener("change",s)})),n}_inheritsLoose(t,e);var r=t.prototype;return r.createEl=function(t,r,n){var i=e.prototype.createEl.call(this,t,r,n),o=i.querySelector(".vjs-menu-item-text");return"main-desc"===this.options_.track.kind&&(o.appendChild(createEl("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),o.appendChild(createEl("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),i},r.handleClick=function(t){if(e.prototype.handleClick.call(this,t),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks)for(var r=this.player_.audioTracks(),n=0;n<r.length;n++){var i=r[n];i!==this.track&&(i.enabled=i===this.track)}},r.handleTracksChange=function(e){this.selected(this.track.enabled)},t}(MenuItem$2);Component$q.registerComponent("AudioTrackMenuItem",AudioTrackMenuItem);var AudioTrackButton=function(e){function t(t,r){return void 0===r&&(r={}),r.tracks=t.audioTracks(),e.call(this,t,r)||this}_inheritsLoose(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-audio-button "+e.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(e){void 0===e&&(e=[]),this.hideThreshold_=1;for(var t=this.player_.audioTracks(),r=0;r<t.length;r++){var n=t[r];e.push(new AudioTrackMenuItem(this.player_,{track:n,selectable:!0,multiSelectable:!1}))}return e},t}(TrackButton);AudioTrackButton.prototype.controlText_="Audio Track",Component$q.registerComponent("AudioTrackButton",AudioTrackButton);var PlaybackRateMenuItem$1=function(e){function t(t,r){var n,i=r.rate,o=parseFloat(i,10);return r.label=i,r.selected=o===t.playbackRate(),r.selectable=!0,r.multiSelectable=!1,(n=e.call(this,t,r)||this).label=i,n.rate=o,n.on(t,"ratechange",(function(e){return n.update(e)})),n}_inheritsLoose(t,e);var r=t.prototype;return r.handleClick=function(t){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},r.update=function(e){this.selected(this.player().playbackRate()===this.rate)},t}(MenuItem$2);PlaybackRateMenuItem$1.prototype.contentElType="button",Component$q.registerComponent("PlaybackRateMenuItem",PlaybackRateMenuItem$1);var PlaybackRateMenuButton$1=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).menuButton_.el_.setAttribute("aria-describedby",n.labelElId_),n.updateVisibility(),n.updateLabel(),n.on(t,"loadstart",(function(e){return n.updateVisibility(e)})),n.on(t,"ratechange",(function(e){return n.updateLabel(e)})),n.on(t,"playbackrateschange",(function(e){return n.handlePlaybackRateschange(e)})),n}_inheritsLoose(t,e);var r=t.prototype;return r.createEl=function(){var t=e.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=createEl("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"倍速"}),t.appendChild(this.labelEl_),t},r.dispose=function(){this.labelEl_=null,e.prototype.dispose.call(this)},r.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(){for(var e=this.playbackRates(),t=[],r=e.length-1;r>=0;r--)t.push(new PlaybackRateMenuItem$1(this.player(),{rate:e[r]+"x"}));return t},r.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},r.handleClick=function(e){var t=this.player().playbackRate(),r=this.playbackRates(),n=r.indexOf(t),i=r[(n+1)%r.length];return this.player().playbackRate(i),i},r.handlePlaybackRateschange=function(e){this.update()},r.playbackRates=function(){var e=this.player();return e.playbackRates&&e.playbackRates()||[]},r.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},r.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},r.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},t}(MenuButton$2);PlaybackRateMenuButton$1.prototype.controlText_="Playback Rate",Component$q.registerComponent("PlaybackRateMenuButton",PlaybackRateMenuButton$1);var Spacer=function(e){function t(){return e.apply(this,arguments)||this}_inheritsLoose(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},r.createEl=function(t,r,n){return void 0===t&&(t="div"),void 0===r&&(r={}),void 0===n&&(n={}),r.className||(r.className=this.buildCSSClass()),e.prototype.createEl.call(this,t,r,n)},t}(Component$q);Component$q.registerComponent("Spacer",Spacer);var CustomControlSpacer=function(e){function t(){return e.apply(this,arguments)||this}_inheritsLoose(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:" "})},t}(Spacer);Component$q.registerComponent("CustomControlSpacer",CustomControlSpacer);var ControlBar=function(e){function t(){return e.apply(this,arguments)||this}return _inheritsLoose(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},t}(Component$q);ControlBar.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in document$2&&ControlBar.prototype.options_.children.splice(ControlBar.prototype.options_.children.length-1,0,"pictureInPictureToggle"),Component$q.registerComponent("ControlBar",ControlBar);var TopBar=function(e){function t(){return e.apply(this,arguments)||this}return _inheritsLoose(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-top-bar",dir:"ltr"})},t}(Component$q);Component$q.registerComponent("TopBar",TopBar);var ErrorDisplay=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).on(t,"error",(function(e){return n.open(e)})),n}_inheritsLoose(t,e);var r=t.prototype;return r.buildCSSClass=function(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)},r.content=function(){var e=this.player().error();return e?this.localize(e.message):""},t}(ModalDialog);ErrorDisplay.prototype.options_=_extends$1({},ModalDialog.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),Component$q.registerComponent("ErrorDisplay",ErrorDisplay);var LOCAL_STORAGE_KEY="vjs-text-track-settings",COLOR_BLACK=["#000","Black"],COLOR_BLUE=["#00F","Blue"],COLOR_CYAN=["#0FF","Cyan"],COLOR_GREEN=["#0F0","Green"],COLOR_MAGENTA=["#F0F","Magenta"],COLOR_RED=["#F00","Red"],COLOR_WHITE=["#FFF","White"],COLOR_YELLOW=["#FF0","Yellow"],OPACITY_OPAQUE=["1","Opaque"],OPACITY_SEMI=["0.5","Semi-Transparent"],OPACITY_TRANS=["0","Transparent"],selectConfigs={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[COLOR_BLACK,COLOR_WHITE,COLOR_RED,COLOR_GREEN,COLOR_BLUE,COLOR_YELLOW,COLOR_MAGENTA,COLOR_CYAN]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[OPACITY_OPAQUE,OPACITY_SEMI,OPACITY_TRANS]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[COLOR_WHITE,COLOR_BLACK,COLOR_RED,COLOR_GREEN,COLOR_BLUE,COLOR_YELLOW,COLOR_MAGENTA,COLOR_CYAN]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[OPACITY_OPAQUE,OPACITY_SEMI]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[OPACITY_TRANS,OPACITY_SEMI,OPACITY_OPAQUE]}};function parseOptionValue(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}function getSelectedOptionValue(e,t){return parseOptionValue(e.options[e.options.selectedIndex].value,t)}function setSelectedOption(e,t,r){if(t)for(var n=0;n<e.options.length;n++)if(parseOptionValue(e.options[n].value,r)===t){e.selectedIndex=n;break}}selectConfigs.windowColor.options=selectConfigs.backgroundColor.options;var TextTrackSettings=function(e){function t(t,r){var n;return r.temporary=!1,(n=e.call(this,t,r)||this).updateDisplay=n.updateDisplay.bind(n),n.fill(),n.hasBeenOpened_=n.hasBeenFilled_=!0,n.endDialog=createEl("p",{className:"vjs-control-text",textContent:n.localize("End of dialog window.")}),n.el().appendChild(n.endDialog),n.setDefaults(),void 0===r.persistTextTrackSettings&&(n.options_.persistTextTrackSettings=n.options_.playerOptions.persistTextTrackSettings),n.on(n.$(".vjs-done-button"),"click",(function(){n.saveSettings(),n.close()})),n.on(n.$(".vjs-default-button"),"click",(function(){n.setDefaults(),n.updateDisplay()})),each(selectConfigs,(function(e){n.on(n.$(e.selector),"change",n.updateDisplay)})),n.options_.persistTextTrackSettings&&n.restoreSettings(),n}_inheritsLoose(t,e);var r=t.prototype;return r.dispose=function(){this.endDialog=null,e.prototype.dispose.call(this)},r.createElSelect_=function(e,t,r){var n=this;void 0===t&&(t=""),void 0===r&&(r="label");var i=selectConfigs[e],o=i.id.replace("%s",this.id_),s=[t,o].join(" ").trim();return["<"+r+' id="'+o+'" class="'+("label"===r?"vjs-label":"")+'">',this.localize(i.label),"</"+r+">",'<select aria-labelledby="'+s+'">'].concat(i.options.map((function(e){var t=o+"-"+e[1].replace(/\W+/g,"");return['<option id="'+t+'" value="'+e[0]+'" ','aria-labelledby="'+s+" "+t+'">',n.localize(e[1]),"</option>"].join("")}))).concat("</select>").join("")},r.createElFgColor_=function(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},r.createElBgColor_=function(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},r.createElWinColor_=function(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},r.createElColors_=function(){return createEl("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},r.createElFont_=function(){return createEl("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},r.createElControls_=function(){var e=this.localize("restore all settings to the default values");return createEl("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},r.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},r.label=function(){return this.localize("Caption Settings Dialog")},r.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},r.buildCSSClass=function(){return e.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},r.getValues=function(){var e=this;return reduce(selectConfigs,(function(t,r,n){var i=getSelectedOptionValue(e.$(r.selector),r.parser);return void 0!==i&&(t[n]=i),t}),{})},r.setValues=function(e){var t=this;each(selectConfigs,(function(r,n){setSelectedOption(t.$(r.selector),e[n],r.parser)}))},r.setDefaults=function(){var e=this;each(selectConfigs,(function(t){var r=t.hasOwnProperty("default")?t.default:0;e.$(t.selector).selectedIndex=r}))},r.restoreSettings=function(){var e;try{e=JSON.parse(window$4.localStorage.getItem(LOCAL_STORAGE_KEY))}catch(t){log$1.warn(t)}e&&this.setValues(e)},r.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?window$4.localStorage.setItem(LOCAL_STORAGE_KEY,JSON.stringify(e)):window$4.localStorage.removeItem(LOCAL_STORAGE_KEY)}catch(t){log$1.warn(t)}}},r.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},r.conditionalBlur_=function(){this.previouslyActiveEl_=null;var e=this.player_.controlBar,t=e&&e.subsCapsButton,r=e&&e.captionsButton;t?t.focus():r&&r.focus()},t}(ModalDialog);Component$q.registerComponent("TextTrackSettings",TextTrackSettings);var ResizeManager=function(e){function t(t,r){var n,i=r.ResizeObserver||window$4.ResizeObserver;null===r.ResizeObserver&&(i=!1);var o=mergeOptions({createEl:!i,reportTouchActivity:!1},r);return(n=e.call(this,t,o)||this).ResizeObserver=r.ResizeObserver||window$4.ResizeObserver,n.loadListener_=null,n.resizeObserver_=null,n.debouncedHandler_=debounce((function(){n.resizeHandler()}),100,!1,n),i?(n.resizeObserver_=new n.ResizeObserver(n.debouncedHandler_),n.resizeObserver_.observe(t.el())):(n.loadListener_=function(){if(n.el_&&n.el_.contentWindow){var e=n.debouncedHandler_,t=n.unloadListener_=function(){off(this,"resize",e),off(this,"unload",t),t=null};on$1(n.el_.contentWindow,"unload",t),on$1(n.el_.contentWindow,"resize",e)}},n.one("load",n.loadListener_)),n}_inheritsLoose(t,e);var r=t.prototype;return r.createEl=function(){return e.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})},r.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},r.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,e.prototype.dispose.call(this)},t}(Component$q);Component$q.registerComponent("ResizeManager",ResizeManager);var defaults$2={trackingThreshold:20,liveTolerance:15},LiveTracker=function(e){function t(t,r){var n,i=mergeOptions(defaults$2,r,{createEl:!1});return(n=e.call(this,t,i)||this).handleVisibilityChange_=function(e){return n.handleVisibilityChange(e)},n.trackLiveHandler_=function(){return n.trackLive_()},n.handlePlay_=function(e){return n.handlePlay(e)},n.handleFirstTimeupdate_=function(e){return n.handleFirstTimeupdate(e)},n.handleSeeked_=function(e){return n.handleSeeked(e)},n.seekToLiveEdge_=function(e){return n.seekToLiveEdge(e)},n.reset_(),n.on(n.player_,"durationchange",(function(e){return n.handleDurationchange(e)})),n.on(n.player_,"canplay",(function(){return n.toggleTracking()})),IE_VERSION&&"hidden"in document$2&&"visibilityState"in document$2&&n.on(document$2,"visibilitychange",n.handleVisibilityChange_),n}_inheritsLoose(t,e);var r=t.prototype;return r.handleVisibilityChange=function(){this.player_.duration()===1/0&&(document$2.hidden?this.stopTracking():this.startTracking())},r.trackLive_=function(){var e=this.player_.seekable();if(e&&e.length){var t=Number(window$4.performance.now().toFixed(4)),r=-1===this.lastTime_?0:(t-this.lastTime_)/1e3;this.lastTime_=t,this.pastSeekEnd_=this.pastSeekEnd()+r;var n=this.liveCurrentTime(),i=this.player_.currentTime(),o=this.player_.paused()||this.seekedBehindLive_||Math.abs(n-i)>this.options_.liveTolerance;this.timeupdateSeen_&&n!==1/0||(o=!1),o!==this.behindLiveEdge_&&(this.behindLiveEdge_=o,this.trigger("liveedgechange"))}},r.handleDurationchange=function(){this.toggleTracking()},r.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},r.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,UPDATE_REFRESH_INTERVAL),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},r.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},r.handleSeeked=function(){var e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()},r.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},r.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},r.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},r.stopTracking=function(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))},r.seekableEnd=function(){for(var e=this.player_.seekable(),t=[],r=e?e.length:0;r--;)t.push(e.end(r));return t.length?t.sort()[t.length-1]:1/0},r.seekableStart=function(){for(var e=this.player_.seekable(),t=[],r=e?e.length:0;r--;)t.push(e.start(r));return t.length?t.sort()[0]:0},r.liveWindow=function(){var e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()},r.isLive=function(){return this.isTracking()},r.atLiveEdge=function(){return!this.behindLiveEdge()},r.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},r.pastSeekEnd=function(){var e=this.seekableEnd();return-1!==this.lastSeekEnd_&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_},r.behindLiveEdge=function(){return this.behindLiveEdge_},r.isTracking=function(){return"number"==typeof this.trackingInterval_},r.seekToLiveEdge=function(){this.seekedBehindLive_=!1,this.atLiveEdge()||(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},r.dispose=function(){this.off(document$2,"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),e.prototype.dispose.call(this)},t}(Component$q);Component$q.registerComponent("LiveTracker",LiveTracker);var sourcesetLoad=function(e){var t=e.el();if(t.hasAttribute("src"))return e.triggerSourceset(t.src),!0;var r=e.$$("source"),n=[],i="";if(!r.length)return!1;for(var o=0;o<r.length;o++){var s=r[o].src;s&&-1===n.indexOf(s)&&n.push(s)}return!!n.length&&(1===n.length&&(i=n[0]),e.triggerSourceset(i),!0)},innerHTMLDescriptorPolyfill=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var t=document$2.createElement(this.nodeName.toLowerCase());t.innerHTML=e;for(var r=document$2.createDocumentFragment();t.childNodes.length;)r.appendChild(t.childNodes[0]);return this.innerText="",window$4.Element.prototype.appendChild.call(this,r),this.innerHTML}}),getDescriptor=function(e,t){for(var r={},n=0;n<e.length&&!((r=Object.getOwnPropertyDescriptor(e[n],t))&&r.set&&r.get);n++);return r.enumerable=!0,r.configurable=!0,r},getInnerHTMLDescriptor=function(e){return getDescriptor([e.el(),window$4.HTMLMediaElement.prototype,window$4.Element.prototype,innerHTMLDescriptorPolyfill],"innerHTML")},firstSourceWatch=function(e){var t=e.el();if(!t.resetSourceWatch_){var r={},n=getInnerHTMLDescriptor(e),i=function(r){return function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var s=r.apply(t,i);return sourcesetLoad(e),s}};["append","appendChild","insertAdjacentHTML"].forEach((function(e){t[e]&&(r[e]=t[e],t[e]=i(r[e]))})),Object.defineProperty(t,"innerHTML",mergeOptions(n,{set:i(n.set)})),t.resetSourceWatch_=function(){t.resetSourceWatch_=null,Object.keys(r).forEach((function(e){t[e]=r[e]})),Object.defineProperty(t,"innerHTML",n)},e.one("sourceset",t.resetSourceWatch_)}},srcDescriptorPolyfill=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?getAbsoluteURL(window$4.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return window$4.Element.prototype.setAttribute.call(this,"src",e),e}}),getSrcDescriptor=function(e){return getDescriptor([e.el(),window$4.HTMLMediaElement.prototype,srcDescriptorPolyfill],"src")},setupSourceset=function(e){if(e.featuresSourceset){var t=e.el();if(!t.resetSourceset_){var r=getSrcDescriptor(e),n=t.setAttribute,i=t.load;Object.defineProperty(t,"src",mergeOptions(r,{set:function(n){var i=r.set.call(t,n);return e.triggerSourceset(t.src),i}})),t.setAttribute=function(r,i){var o=n.call(t,r,i);return/src/i.test(r)&&e.triggerSourceset(t.src),o},t.load=function(){var r=i.call(t);return sourcesetLoad(e)||(e.triggerSourceset(""),firstSourceWatch(e)),r},t.currentSrc?e.triggerSourceset(t.currentSrc):sourcesetLoad(e)||firstSourceWatch(e),t.resetSourceset_=function(){t.resetSourceset_=null,t.load=i,t.setAttribute=n,Object.defineProperty(t,"src",r),t.resetSourceWatch_&&t.resetSourceWatch_()}}}},defineLazyProperty=function(e,t,r,n){void 0===n&&(n=!0);var i=function(r){return Object.defineProperty(e,t,{value:r,enumerable:!0,writable:!0})},o={configurable:!0,enumerable:!0,get:function(){var e=r();return i(e),e}};return n&&(o.set=i),Object.defineProperty(e,t,o)},Html5=function(e){function t(t,r){var n;n=e.call(this,t,r)||this;var i=t.source,o=!1;if(n.featuresVideoFrameCallback=n.featuresVideoFrameCallback&&"VIDEO"===n.el_.tagName,i&&(n.el_.currentSrc!==i.src||t.tag&&3===t.tag.initNetworkState_)?n.setSource(i):n.handleLateInit_(n.el_),t.enableSourceset&&n.setupSourcesetHandling_(),n.isScrubbing_=!1,n.el_.hasChildNodes()){for(var s=n.el_.childNodes,a=s.length,l=[];a--;){var c=s[a];"track"===c.nodeName.toLowerCase()&&(n.featuresNativeTextTracks?(n.remoteTextTrackEls().addTrackElement_(c),n.remoteTextTracks().addTrack(c.track),n.textTracks().addTrack(c.track),o||n.el_.hasAttribute("crossorigin")||!isCrossOrigin(c.src)||(o=!0)):l.push(c))}for(var u=0;u<l.length;u++)n.el_.removeChild(l[u])}return n.proxyNativeTracks_(),n.featuresNativeTextTracks&&o&&log$1.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),n.restoreMetadataTracksInIOSNativePlayer_(),(TOUCH_ENABLED||IS_IPHONE||IS_NATIVE_ANDROID)&&!0===t.nativeControlsForTouch&&n.setControls(!0),n.proxyWebkitFullscreen_(),n.triggerReady(),n}_inheritsLoose(t,e);var r=t.prototype;return r.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),t.disposeMediaElement(this.el_),this.options_=null,e.prototype.dispose.call(this)},r.setupSourcesetHandling_=function(){setupSourceset(this)},r.restoreMetadataTracksInIOSNativePlayer_=function(){var e,t=this.textTracks(),r=function(){e=[];for(var r=0;r<t.length;r++){var n=t[r];"metadata"===n.kind&&e.push({track:n,storedMode:n.mode})}};r(),t.addEventListener("change",r),this.on("dispose",(function(){return t.removeEventListener("change",r)}));var n=function(){for(var r=0;r<e.length;r++){var i=e[r];"disabled"===i.track.mode&&i.track.mode!==i.storedMode&&(i.track.mode=i.storedMode)}t.removeEventListener("change",n)};this.on("webkitbeginfullscreen",(function(){t.removeEventListener("change",r),t.removeEventListener("change",n),t.addEventListener("change",n)})),this.on("webkitendfullscreen",(function(){t.removeEventListener("change",r),t.addEventListener("change",r),t.removeEventListener("change",n)}))},r.overrideNative_=function(e,t){var r=this;if(t===this["featuresNative"+e+"Tracks"]){var n=e.toLowerCase();this[n+"TracksListeners_"]&&Object.keys(this[n+"TracksListeners_"]).forEach((function(e){r.el()[n+"Tracks"].removeEventListener(e,r[n+"TracksListeners_"][e])})),this["featuresNative"+e+"Tracks"]=!t,this[n+"TracksListeners_"]=null,this.proxyNativeTracksForType_(n)}},r.overrideNativeAudioTracks=function(e){this.overrideNative_("Audio",e)},r.overrideNativeVideoTracks=function(e){this.overrideNative_("Video",e)},r.proxyNativeTracksForType_=function(e){var t=this,r=NORMAL[e],n=this.el()[r.getterName],i=this[r.getterName]();if(this["featuresNative"+r.capitalName+"Tracks"]&&n&&n.addEventListener){var o={change:function(r){var n={type:"change",target:i,currentTarget:i,srcElement:i};i.trigger(n),"text"===e&&t[REMOTE.remoteText.getterName]().trigger(n)},addtrack:function(e){i.addTrack(e.track)},removetrack:function(e){i.removeTrack(e.track)}},s=function(){for(var e=[],t=0;t<i.length;t++){for(var r=!1,o=0;o<n.length;o++)if(n[o]===i[t]){r=!0;break}r||e.push(i[t])}for(;e.length;)i.removeTrack(e.shift())};this[r.getterName+"Listeners_"]=o,Object.keys(o).forEach((function(e){var r=o[e];n.addEventListener(e,r),t.on("dispose",(function(t){return n.removeEventListener(e,r)}))})),this.on("loadstart",s),this.on("dispose",(function(e){return t.off("loadstart",s)}))}},r.proxyNativeTracks_=function(){var e=this;NORMAL.names.forEach((function(t){e.proxyNativeTracksForType_(t)}))},r.createEl=function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var r=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(r,e),t.disposeMediaElement(e),e=r}else{e=document$2.createElement("video");var n=mergeOptions({},this.options_.tag&&getAttributes(this.options_.tag));TOUCH_ENABLED&&!0===this.options_.nativeControlsForTouch||delete n.controls,setAttributes(e,assign$2(n,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}void 0!==this.options_.preload&&setAttribute(e,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);for(var i=["loop","muted","playsinline","autoplay"],o=0;o<i.length;o++){var s=i[o],a=this.options_[s];void 0!==a&&(a?setAttribute(e,s,s):removeAttribute(e,s),e[s]=a)}return e},r.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var t=!1,r=function(){t=!0};this.on("loadstart",r);var n=function(){t||this.trigger("loadstart")};return this.on("loadedmetadata",n),void this.ready((function(){this.off("loadstart",r),this.off("loadedmetadata",n),t||this.trigger("loadstart")}))}var i=["loadstart"];i.push("loadedmetadata"),e.readyState>=2&&i.push("loadeddata"),e.readyState>=3&&i.push("canplay"),e.readyState>=4&&i.push("canplaythrough"),this.ready((function(){i.forEach((function(e){this.trigger(e)}),this)}))}},r.setScrubbing=function(e){this.isScrubbing_=e},r.scrubbing=function(){return this.isScrubbing_},r.setCurrentTime=function(e){try{this.isScrubbing_&&this.el_.fastSeek&&IS_ANY_SAFARI?this.el_.fastSeek(e):this.el_.currentTime=e}catch(t){log$1(t,"Video is not ready. (Video.js)")}},r.duration=function(){var e=this;if(this.el_.duration===1/0&&IS_ANDROID&&IS_CHROME&&0===this.el_.currentTime){var t=function(){e.el_.currentTime>0&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",t))};return this.on("timeupdate",t),NaN}return this.el_.duration||NaN},r.width=function(){return this.el_.offsetWidth},r.height=function(){return this.el_.offsetHeight},r.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},r=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",r),this.on("dispose",(function(){e.off("webkitbeginfullscreen",r),e.off("webkitendfullscreen",t)}))}},r.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=window$4.navigator&&window$4.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},r.enterFullScreen=function(){var e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)silencePromise(this.el_.play()),this.setTimeout((function(){e.pause();try{e.webkitEnterFullScreen()}catch(t){this.trigger("fullscreenerror",t)}}),0);else try{e.webkitEnterFullScreen()}catch(t){this.trigger("fullscreenerror",t)}},r.exitFullScreen=function(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen"))},r.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},r.requestVideoFrameCallback=function(t){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(t):e.prototype.requestVideoFrameCallback.call(this,t)},r.cancelVideoFrameCallback=function(t){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(t):e.prototype.cancelVideoFrameCallback.call(this,t)},r.src=function(e){if(void 0===e)return this.el_.src;this.setSrc(e)},r.reset=function(){t.resetMediaElement(this.el_)},r.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},r.setControls=function(e){this.el_.controls=!!e},r.addTextTrack=function(t,r,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,r,n):e.prototype.addTextTrack.call(this,t,r,n)},r.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return e.prototype.createRemoteTextTrack.call(this,t);var r=document$2.createElement("track");return t.kind&&(r.kind=t.kind),t.label&&(r.label=t.label),(t.language||t.srclang)&&(r.srclang=t.language||t.srclang),t.default&&(r.default=t.default),t.id&&(r.id=t.id),t.src&&(r.src=t.src),r},r.addRemoteTextTrack=function(t,r){var n=e.prototype.addRemoteTextTrack.call(this,t,r);return this.featuresNativeTextTracks&&this.el().appendChild(n),n},r.removeRemoteTextTrack=function(t){if(e.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var r=this.$$("track"),n=r.length;n--;)t!==r[n]&&t!==r[n].track||this.el().removeChild(r[n])},r.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),window$4.performance&&"function"==typeof window$4.performance.now?e.creationTime=window$4.performance.now():window$4.performance&&window$4.performance.timing&&"number"==typeof window$4.performance.timing.navigationStart&&(e.creationTime=window$4.Date.now()-window$4.performance.timing.navigationStart),e},t}(Tech$1),canPlayType;defineLazyProperty(Html5,"TEST_VID",(function(){if(isReal()){var e=document$2.createElement("video"),t=document$2.createElement("track");return t.kind="captions",t.srclang="en",t.label="English",e.appendChild(t),e}})),Html5.isSupported=function(){try{Html5.TEST_VID.volume=.5}catch(e){return!1}return!(!Html5.TEST_VID||!Html5.TEST_VID.canPlayType)},Html5.canPlayType=function(e){return Html5.TEST_VID.canPlayType(e)},Html5.canPlaySource=function(e,t){return Html5.canPlayType(e.type)},Html5.canControlVolume=function(){try{var e=Html5.TEST_VID.volume;Html5.TEST_VID.volume=e/2+.1;var t=e!==Html5.TEST_VID.volume;return t&&IS_IOS?(window$4.setTimeout((function(){Html5&&Html5.prototype&&(Html5.prototype.featuresVolumeControl=e!==Html5.TEST_VID.volume)})),!1):t}catch(r){return!1}},Html5.canMuteVolume=function(){try{var e=Html5.TEST_VID.muted;return Html5.TEST_VID.muted=!e,Html5.TEST_VID.muted?setAttribute(Html5.TEST_VID,"muted","muted"):removeAttribute(Html5.TEST_VID,"muted","muted"),e!==Html5.TEST_VID.muted}catch(t){return!1}},Html5.canControlPlaybackRate=function(){if(IS_ANDROID&&IS_CHROME&&CHROME_VERSION$1<58)return!1;try{var e=Html5.TEST_VID.playbackRate;return Html5.TEST_VID.playbackRate=e/2+.1,e!==Html5.TEST_VID.playbackRate}catch(t){return!1}},Html5.canOverrideAttributes=function(){try{var e=function(){};Object.defineProperty(document$2.createElement("video"),"src",{get:e,set:e}),Object.defineProperty(document$2.createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(document$2.createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(document$2.createElement("audio"),"innerHTML",{get:e,set:e})}catch(t){return!1}return!0},Html5.supportsNativeTextTracks=function(){return IS_ANY_SAFARI||IS_IOS&&IS_CHROME},Html5.supportsNativeVideoTracks=function(){return!(!Html5.TEST_VID||!Html5.TEST_VID.videoTracks)},Html5.supportsNativeAudioTracks=function(){return!(!Html5.TEST_VID||!Html5.TEST_VID.audioTracks)},Html5.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach((function(e){var t=e[0],r=e[1];defineLazyProperty(Html5.prototype,t,(function(){return Html5[r]()}),!0)})),Html5.prototype.featuresVolumeControl=Html5.canControlVolume(),Html5.prototype.movingMediaElementInDOM=!IS_IOS,Html5.prototype.featuresFullscreenResize=!0,Html5.prototype.featuresProgressEvents=!0,Html5.prototype.featuresTimeupdateEvents=!0,Html5.prototype.featuresVideoFrameCallback=!(!Html5.TEST_VID||!Html5.TEST_VID.requestVideoFrameCallback),Html5.patchCanPlayType=function(){ANDROID_VERSION>=4&&!IS_FIREFOX&&!IS_CHROME&&(canPlayType=Html5.TEST_VID&&Html5.TEST_VID.constructor.prototype.canPlayType,Html5.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&/^application\/(?:x-|vnd\.apple\.)mpegurl/i.test(e)?"maybe":canPlayType.call(this,e)})},Html5.unpatchCanPlayType=function(){var e=Html5.TEST_VID.constructor.prototype.canPlayType;return canPlayType&&(Html5.TEST_VID.constructor.prototype.canPlayType=canPlayType),e},Html5.patchCanPlayType(),Html5.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(t){}}()}},Html5.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),r=t.length;r--;)e.removeChild(t[r]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(t){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach((function(e){Html5.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}})),["muted","defaultMuted","autoplay","loop","playsinline"].forEach((function(e){Html5.prototype["set"+toTitleCase(e)]=function(t){this.el_[e]=t,t?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach((function(e){Html5.prototype[e]=function(){return this.el_[e]}})),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach((function(e){Html5.prototype["set"+toTitleCase(e)]=function(t){this.el_[e]=t}})),["pause","load","play"].forEach((function(e){Html5.prototype[e]=function(){return this.el_[e]()}})),Tech$1.withSourceHandlers(Html5),Html5.nativeSourceHandler={},Html5.nativeSourceHandler.canPlayType=function(e){try{return Html5.TEST_VID.canPlayType(e)}catch(t){return""}},Html5.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return Html5.nativeSourceHandler.canPlayType(e.type);if(e.src){var r=getFileExtension(e.src);return Html5.nativeSourceHandler.canPlayType("video/"+r)}return""},Html5.nativeSourceHandler.handleSource=function(e,t,r){t.setSrc(e.src)},Html5.nativeSourceHandler.dispose=function(){},Html5.registerSourceHandler(Html5.nativeSourceHandler),Tech$1.registerTech("Html5",Html5);var TECH_EVENTS_RETRIGGER=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],TECH_EVENTS_QUEUE={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},BREAKPOINT_ORDER=["tiny","xsmall","small","medium","large","xlarge","huge"],BREAKPOINT_CLASSES={};BREAKPOINT_ORDER.forEach((function(e){var t="x"===e.charAt(0)?"x-"+e.substring(1):e;BREAKPOINT_CLASSES[e]="vjs-layout-"+t}));var DEFAULT_BREAKPOINTS={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Player=function(e){function t(r,n,i){var o;if(r.id=r.id||n.id||"vjs_video_"+newGUID(),(n=assign$2(t.getTagSettings(r),n)).initChildren=!1,n.createEl=!1,n.evented=!1,n.reportTouchActivity=!1,!n.language)if("function"==typeof r.closest){var s=r.closest("[lang]");s&&s.getAttribute&&(n.language=s.getAttribute("lang"))}else for(var a=r;a&&1===a.nodeType;){if(getAttributes(a).hasOwnProperty("lang")){n.language=a.getAttribute("lang");break}a=a.parentNode}if((o=e.call(this,null,n,i)||this).boundDocumentFullscreenChange_=function(e){return o.documentFullscreenChange_(e)},o.boundFullWindowOnEscKey_=function(e){return o.fullWindowOnEscKey(e)},o.boundUpdateStyleEl_=function(e){return o.updateStyleEl_(e)},o.boundApplyInitTime_=function(e){return o.applyInitTime_(e)},o.boundUpdateCurrentBreakpoint_=function(e){return o.updateCurrentBreakpoint_(e)},o.boundHandleTechClick_=function(e){return o.handleTechClick_(e)},o.boundHandleTechDoubleClick_=function(e){return o.handleTechDoubleClick_(e)},o.boundHandleTechTouchStart_=function(e){return o.handleTechTouchStart_(e)},o.boundHandleTechTouchMove_=function(e){return o.handleTechTouchMove_(e)},o.boundHandleTechTouchEnd_=function(e){return o.handleTechTouchEnd_(e)},o.boundHandleTechTap_=function(e){return o.handleTechTap_(e)},o.isFullscreen_=!1,o.log=createLogger(o.id_),o.fsApi_=FullscreenApi,o.isPosterFromTech_=!1,o.queuedCallbacks_=[],o.isReady_=!1,o.hasStarted_=!1,o.userActive_=!1,o.debugEnabled_=!1,o.audioOnlyMode_=!1,o.audioPosterMode_=!1,o.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!o.options_||!o.options_.techOrder||!o.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(o.tag=r,o.tagAttributes=r&&getAttributes(r),o.language(o.options_.language),n.languages){var l={};Object.getOwnPropertyNames(n.languages).forEach((function(e){l[e.toLowerCase()]=n.languages[e]})),o.languages_=l}else o.languages_=t.prototype.options_.languages;o.resetCache_(),o.poster_=n.poster||"",o.controls_=!!n.controls,r.controls=!1,r.removeAttribute("controls"),o.changingSrc_=!1,o.playCallbacks_=[],o.playTerminatedQueue_=[],r.hasAttribute("autoplay")?o.autoplay(!0):o.autoplay(o.options_.autoplay),n.plugins&&Object.keys(n.plugins).forEach((function(e){if("function"!=typeof o[e])throw new Error('plugin "'+e+'" does not exist')})),o.scrubbing_=!1,o.el_=o.createEl(),evented(o,{eventBusKey:"el_"}),o.fsApi_.requestFullscreen&&(on$1(document$2,o.fsApi_.fullscreenchange,o.boundDocumentFullscreenChange_),o.on(o.fsApi_.fullscreenchange,o.boundDocumentFullscreenChange_),n.fullscreenByParent&&on$1(o.el_.parentNode,o.fsApi_.fullscreenchange,o.boundDocumentFullscreenChange_)),o.fluid_&&o.on(["playerreset","resize"],o.boundUpdateStyleEl_);var c=mergeOptions(o.options_);n.plugins&&Object.keys(n.plugins).forEach((function(e){o[e](n.plugins[e])})),n.debug&&o.debug(!0),o.options_.playerOptions=c,o.middleware_=[],o.playbackRates(n.playbackRates),o.initChildren(),o.isAudio("audio"===r.nodeName.toLowerCase()),o.controls()?o.addClass("vjs-controls-enabled"):o.addClass("vjs-controls-disabled"),o.el_.setAttribute("role","region"),o.isAudio()?o.el_.setAttribute("aria-label",o.localize("Audio Player")):o.el_.setAttribute("aria-label",o.localize("Video Player")),o.isAudio()&&o.addClass("vjs-audio"),o.flexNotSupported_()&&o.addClass("vjs-no-flex"),TOUCH_ENABLED&&o.addClass("vjs-touch-enabled"),IS_IOS||o.addClass("vjs-workinghover"),t.players[o.id_]=o;var u=version$1.split(".")[0];return o.addClass("vjs-v"+u),o.userActive(!0),o.reportUserActivity(),o.one("play",(function(e){return o.listenForUserActivity_(e)})),o.on("stageclick",(function(e){return o.handleStageClick_(e)})),o.on("keydown",(function(e){return o.handleKeyDown(e)})),o.on("languagechange",(function(e){return o.handleLanguagechange(e)})),o.breakpoints(o.options_.breakpoints),o.responsive(o.options_.responsive),o.on("ready",(function(){o.audioPosterMode(o.options_.audioPosterMode),o.audioOnlyMode(o.options_.audioOnlyMode)})),n.fullscreenByParent&&n.defaultFullscreen&&o.setTimeout((function(){o.isFullscreen(!0)}),0),o}_inheritsLoose(t,e);var r=t.prototype;return r.dispose=function(){var r=this;this.el_&&this.isFullscreen()&&this.isFullscreen(!1),this.trigger("dispose"),this.off("dispose"),off(document$2,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),off(document$2,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.el_&&this.el_.parentNode&&off(this.el_.parentNode,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),clearCacheForPlayer(this),ALL.names.forEach((function(e){var t=ALL[e],n=r[t.getterName]();n&&n.off&&n.off()})),e.prototype.dispose.call(this,{restoreEl:this.options_.restoreEl})},r.createEl=function(){var t,r=this.tag,n=this.playerElIngest_=r.parentNode&&r.parentNode.hasAttribute&&r.parentNode.hasAttribute("data-vjs-player"),i="video-js"===this.tag.tagName.toLowerCase();n?t=this.el_=r.parentNode:i||(t=this.el_=e.prototype.createEl.call(this,"div"));var o=getAttributes(r);if(i){for(t=this.el_=r,r=this.tag=document$2.createElement("video");t.children.length;)r.appendChild(t.firstChild);hasClass(t,"video-js")||addClass(t,"video-js"),t.appendChild(r),n=this.playerElIngest_=t,Object.keys(t).forEach((function(e){try{r[e]=t[e]}catch(n){}}))}if(r.setAttribute("tabindex","-1"),o.tabindex="-1",(IE_VERSION||IS_CHROME&&IS_WINDOWS)&&(r.setAttribute("role","application"),o.role="application"),r.removeAttribute("width"),r.removeAttribute("height"),"width"in o&&delete o.width,"height"in o&&delete o.height,Object.getOwnPropertyNames(o).forEach((function(e){i&&"class"===e||t.setAttribute(e,o[e]),i&&r.setAttribute(e,o[e])})),r.playerId=r.id,r.id+="_html5_api",r.className="vjs-tech",r.player=t.player=this,this.addClass("vjs-paused"),!0!==window$4.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=createStyleElement("vjs-styles-dimensions");var s=$$n(".vjs-styles-defaults"),a=$$n("head");a.insertBefore(this.styleEl_,s?s.nextSibling:a.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var l=r.getElementsByTagName("a"),c=0;c<l.length;c++){var u=l.item(c);addClass(u,"vjs-hidden"),u.setAttribute("hidden","hidden")}return r.initNetworkState_=r.networkState,r.parentNode&&!n&&r.parentNode.insertBefore(t,r),prependTo(r,t),this.children_.unshift(r),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=t,t},r.crossOrigin=function(e){if(!e)return this.techGet_("crossOrigin");"anonymous"===e||"use-credentials"===e?this.techCall_("setCrossOrigin",e):log$1.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+e+'"')},r.width=function(e){return this.dimension("width",e)},r.height=function(e){return this.dimension("height",e)},r.dimension=function(e,t){var r=e+"_";if(void 0===t)return this[r]||0;if(""===t||"auto"===t)return this[r]=void 0,void this.updateStyleEl_();var n=parseFloat(t);isNaN(n)?log$1.error('Improper value "'+t+'" supplied for for '+e):(this[r]=n,this.updateStyleEl_())},r.fluid=function(e){var t=this;if(void 0===e)return!!this.fluid_;this.fluid_=!!e,isEvented(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),addEventedCallback(this,(function(){t.on(["playerreset","resize"],t.boundUpdateStyleEl_)}))):this.removeClass("vjs-fluid"),this.updateStyleEl_()},r.fill=function(e){if(void 0===e)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},r.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},r.updateStyleEl_=function(){if(!0!==window$4.VIDEOJS_NO_DYNAMIC_STYLE){var e,t,r,n=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),i=n[1]/n[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/i:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*i,r=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(r),setTextContent(this.styleEl_,"\n      ."+r+" {\n        width: "+e+"px;\n        height: "+t+"px;\n      }\n\n      ."+r+".vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: "+100*i+"%;\n      }\n    ")}else{var o="number"==typeof this.width_?this.width_:this.options_.width,s="number"==typeof this.height_?this.height_:this.options_.height,a=this.tech_&&this.tech_.el();a&&(o>=0&&(a.width=o),s>=0&&(a.height=s))}},r.loadTech_=function(e,t){var r=this;this.tech_&&this.unloadTech_();var n=toTitleCase(e),i=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==n&&this.tag&&(Tech$1.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=n,this.isReady_=!1;var o=this.autoplay();("string"==typeof this.autoplay()||!0===this.autoplay()&&this.options_.normalizeAutoplay)&&(o=!1);var s={source:t,autoplay:o,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+i+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};ALL.names.forEach((function(e){var t=ALL[e];s[t.getterName]=r[t.privateName]})),assign$2(s,this.options_[n]),assign$2(s,this.options_[i]),assign$2(s,this.options_[e.toLowerCase()]),this.tag&&(s.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(s.startTime=this.cache_.currentTime);var a=Tech$1.getTech(e);if(!a)throw new Error("No Tech named '"+n+"' exists! '"+n+"' should be registered using videojs.registerTech()'");this.tech_=new a(s),this.tech_.ready(bind$7(this,this.handleTechReady_),!0),textTrackConverter.jsonToTextTracks(this.textTracksJson_||[],this.tech_),TECH_EVENTS_RETRIGGER.forEach((function(e){r.on(r.tech_,e,(function(t){return r["handleTech"+toTitleCase(e)+"_"](t)}))})),Object.keys(TECH_EVENTS_QUEUE).forEach((function(e){r.on(r.tech_,e,(function(t){0===r.tech_.playbackRate()&&r.tech_.seeking()?r.queuedCallbacks_.push({callback:r["handleTech"+TECH_EVENTS_QUEUE[e]+"_"].bind(r),event:t}):r["handleTech"+TECH_EVENTS_QUEUE[e]+"_"](t)}))})),this.on(this.tech_,"loadstart",(function(e){return r.handleTechLoadStart_(e)})),this.on(this.tech_,"sourceset",(function(e){return r.handleTechSourceset_(e)})),this.on(this.tech_,"waiting",(function(e){return r.handleTechWaiting_(e)})),this.on(this.tech_,"ended",(function(e){return r.handleTechEnded_(e)})),this.on(this.tech_,"seeking",(function(e){return r.handleTechSeeking_(e)})),this.on(this.tech_,"play",(function(e){return r.handleTechPlay_(e)})),this.on(this.tech_,"firstplay",(function(e){return r.handleTechFirstPlay_(e)})),this.on(this.tech_,"pause",(function(e){return r.handleTechPause_(e)})),this.on(this.tech_,"durationchange",(function(e){return r.handleTechDurationChange_(e)})),this.on(this.tech_,"fullscreenchange",(function(e,t){return r.handleTechFullscreenChange_(e,t)})),this.on(this.tech_,"fullscreenerror",(function(e,t){return r.handleTechFullscreenError_(e,t)})),this.on(this.tech_,"enterpictureinpicture",(function(e){return r.handleTechEnterPictureInPicture_(e)})),this.on(this.tech_,"leavepictureinpicture",(function(e){return r.handleTechLeavePictureInPicture_(e)})),this.on(this.tech_,"error",(function(e){return r.handleTechError_(e)})),this.on(this.tech_,"posterchange",(function(e){return r.handleTechPosterChange_(e)})),this.on(this.tech_,"textdata",(function(e){return r.handleTechTextData_(e)})),this.on(this.tech_,"ratechange",(function(e){return r.handleTechRateChange_(e)})),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===n&&this.tag||prependTo(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},r.unloadTech_=function(){var e=this;ALL.names.forEach((function(t){var r=ALL[t];e[r.privateName]=e[r.getterName]()})),this.textTracksJson_=textTrackConverter.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},r.tech=function(e){return void 0===e&&log$1.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},r.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},r.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},r.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},r.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(!0===this.autoplay()&&this.options_.normalizeAutoplay?"play":this.autoplay())},r.manualAutoplay_=function(e){var t=this;if(this.tech_&&"string"==typeof e){var r,n=function(){var e=t.muted();t.muted(!0);var r=function(){t.muted(e)};t.playTerminatedQueue_.push(r);var n=t.play();if(isPromise(n))return n.catch((function(e){throw r(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(e||""))}))};if("any"!==e||this.muted()?r="muted"!==e||this.muted()?this.play():n():isPromise(r=this.play())&&(r=r.catch(n)),isPromise(r))return r.then((function(){t.trigger({type:"autoplay-success",autoplay:e})})).catch((function(){t.trigger({type:"autoplay-failure",autoplay:e})}))}},r.updateSourceCaches_=function(e){void 0===e&&(e="");var t=e,r="";"string"!=typeof t&&(t=e.src,r=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!r&&(r=findMimetype(this,t)),this.cache_.source=mergeOptions({},e,{src:t,type:r});for(var n=this.cache_.sources.filter((function(e){return e.src&&e.src===t})),i=[],o=this.$$("source"),s=[],a=0;a<o.length;a++){var l=getAttributes(o[a]);i.push(l),l.src&&l.src===t&&s.push(l.src)}s.length&&!n.length?this.cache_.sources=i:n.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t},r.handleTechSourceset_=function(e){var t=this;if(!this.changingSrc_){var r=function(e){return t.updateSourceCaches_(e)},n=this.currentSource().src,i=e.src;n&&!/^blob:/.test(n)&&/^blob:/.test(i)&&(!this.lastSource_||this.lastSource_.tech!==i&&this.lastSource_.player!==n)&&(r=function(){}),r(i),e.src||this.tech_.any(["sourceset","loadstart"],(function(e){if("sourceset"!==e.type){var r=t.techGet("currentSrc");t.lastSource_.tech=r,t.updateSourceCaches_(r)}}))}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})},r.hasStarted=function(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},r.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},r.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach((function(e){return e.callback(e.event)})),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},r.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting");var t=this.currentTime(),r=function(){t!==e.currentTime()&&(e.removeClass("vjs-waiting"),e.off("timeupdate",r))};this.on("timeupdate",r)},r.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},r.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},r.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},r.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},r.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},r.handleTechFirstPlay_=function(){this.options_.starttime&&(log$1.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},r.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},r.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},r.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},r.handleTechClick_=function(e){this.controls_&&(void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.click&&!1===this.options_.userActions.click||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.click?this.options_.userActions.click.call(this,e):this.paused()?silencePromise(this.play()):this.pause()))},r.handleTechDoubleClick_=function(e){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),(function(t){return t.contains(e.target)}))||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},r.handleTechTap_=function(){this.userActive(!this.userActive())},r.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},r.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},r.handleTechTouchEnd_=function(e){e.cancelable&&e.preventDefault()},r.handleStageClick_=function(){this.reportUserActivity()},r.toggleFullscreenClass_=function(){if(this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen"),this.options_.fullscreenByParent){var e=this.el_&&this.el_.parentNode;e&&(this.isFullscreen()?addClass(e,"vjs-parent-fullscreen"):removeClass(e,"vjs-parent-fullscreen"))}},r.documentFullscreenChange_=function(e){var t=e.target.player,r=this.el();if(!(t&&t!==this||e.target!==r.parentNode)){var n=document$2[this.fsApi_.fullscreenElement],i=n===r||n===r.parentNode;!i&&r.matches?i=r.matches(":"+this.fsApi_.fullscreen):!i&&r.msMatchesSelector&&(i=r.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(i)}},r.handleTechFullscreenChange_=function(e,t){var r=this;t&&(t.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",(function(){r.removeClass("vjs-ios-native-fs")}))),this.isFullscreen(t.isFullscreen))},r.handleTechFullscreenError_=function(e,t){this.trigger("fullscreenerror",t)},r.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},r.handleTechEnterPictureInPicture_=function(e){this.isInPictureInPicture(!0)},r.handleTechLeavePictureInPicture_=function(e){this.isInPictureInPicture(!1)},r.handleTechError_=function(){var e=this.tech_.error();this.error(e)},r.handleTechTextData_=function(){var e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)},r.getCache=function(){return this.cache_},r.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},r.techCall_=function(e,t){this.ready((function(){if(e in allowedSetters)return set$1(this.middleware_,this.tech_,e,t);if(e in allowedMediators)return mediate(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(r){throw log$1(r),r}}),!0)},r.techGet_=function(e){if(this.tech_&&this.tech_.isReady_){if(e in allowedGetters)return get$1(this.middleware_,this.tech_,e);if(e in allowedMediators)return mediate(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(t){if(void 0===this.tech_[e])throw log$1("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t),t;if("TypeError"===t.name)throw log$1("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1,t;throw log$1(t),t}}},r.play=function(){var e=this,t=this.options_.Promise||window$4.Promise;return t?new t((function(t){e.play_(t)})):this.play_()},r.play_=function(e){var t=this;void 0===e&&(e=silencePromise),this.playCallbacks_.push(e);var r=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc())),n=Boolean(IS_ANY_SAFARI||IS_IOS);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!r)return this.waitToPlay_=function(e){t.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(!r&&n&&this.load());var i=this.techGet_("play");n&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),null===i?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(i)},r.runPlayTerminatedQueue_=function(){var e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach((function(e){e()}))},r.runPlayCallbacks_=function(e){var t=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],t.forEach((function(t){t(e)}))},r.pause=function(){this.techCall_("pause")},r.paused=function(){return!1!==this.techGet_("paused")},r.played=function(){return this.techGet_("played")||createTimeRanges(0,0)},r.scrubbing=function(e){if(void 0===e)return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},r.currentTime=function(e){return void 0!==e?(e<0&&(e=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",e),void(this.cache_.initTime=0)):(this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),void this.one("canplay",this.boundApplyInitTime_))):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},r.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},r.duration=function(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=parseFloat(e))<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))},r.remainingTime=function(){return this.duration()-this.currentTime()},r.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},r.buffered=function(){var e=this.techGet_("buffered");return e&&e.length||(e=createTimeRanges(0,0)),e},r.bufferedPercent=function(){return bufferedPercent(this.buffered(),this.duration())},r.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),r=e.end(e.length-1);return r>t&&(r=t),r},r.volume=function(e){var t;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),void(t>0&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},r.muted=function(e){if(void 0===e)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)},r.defaultMuted=function(e){return void 0!==e?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},r.lastVolume_=function(e){if(void 0===e||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e},r.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},r.isFullscreen=function(e){if(void 0!==e){var t=this.isFullscreen_;return this.isFullscreen_=Boolean(e),this.isFullscreen_!==t&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_(),void(this.isFullscreen_!==t&&this.trigger("hackfullscreenchange"))}return this.isFullscreen_},r.requestFullscreen=function(e){var t=this.options_.Promise||window$4.Promise;if(t){var r=this;return new t((function(t,n){function i(){r.off("fullscreenerror",s),r.off("fullscreenchange",o)}function o(){i(),t()}function s(e,t){i(),n(t)}r.one("fullscreenchange",o),r.one("fullscreenerror",s);var a=r.requestFullscreenHelper_(e);a&&(a.then(i,i),a.then(t,n))}))}return this.requestFullscreenHelper_()},r.requestFullscreenHelper_=function(e){var t,r=this;if(this.fsApi_.prefixed||(t=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==e&&(t=e)),this.fsApi_.requestFullscreen){var n=(this.options_.fullscreenByParent?this.el_.parentNode:this.el_)[this.fsApi_.requestFullscreen](t);return n&&n.then((function(){return r.isFullscreen(!0)}),(function(){return r.isFullscreen(!1)})),n}this.tech_.supportsFullScreen()&&!0==!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},r.exitFullscreen=function(){var e=this.options_.Promise||window$4.Promise;if(e){var t=this;return new e((function(e,r){function n(){t.off("fullscreenerror",o),t.off("fullscreenchange",i)}function i(){n(),e()}function o(e,t){n(),r(t)}t.one("fullscreenchange",i),t.one("fullscreenerror",o);var s=t.exitFullscreenHelper_();s&&(s.then(n,n),s.then(e,r))}))}return this.exitFullscreenHelper_()},r.exitFullscreenHelper_=function(){var e=this;if(this.fsApi_.requestFullscreen){var t=document$2[this.fsApi_.exitFullscreen]();return t&&silencePromise(t.then((function(){return e.isFullscreen(!1)}))),t}this.tech_.supportsFullScreen()&&!0==!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},r.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=document$2.documentElement.style.overflow,on$1(document$2,"keydown",this.boundFullWindowOnEscKey_),document$2.documentElement.style.overflow="hidden",addClass(document$2.body,"vjs-full-window"),this.trigger("enterFullWindow")},r.fullWindowOnEscKey=function(e){keycode.isEventKey(e,"Esc")&&!0===this.isFullscreen()&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},r.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,off(document$2,"keydown",this.boundFullWindowOnEscKey_),document$2.documentElement.style.overflow=this.docOrigOverflow,removeClass(document$2.body,"vjs-full-window"),this.trigger("exitFullWindow")},r.disablePictureInPicture=function(e){if(void 0===e)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")},r.isInPictureInPicture=function(e){return void 0!==e?(this.isInPictureInPicture_=!!e,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},r.requestPictureInPicture=function(){if("pictureInPictureEnabled"in document$2&&!1===this.disablePictureInPicture())return this.techGet_("requestPictureInPicture")},r.exitPictureInPicture=function(){if("pictureInPictureEnabled"in document$2)return document$2.exitPictureInPicture()},r.handleKeyDown=function(e){var t=this.options_.userActions;if(t&&t.hotkeys){(function(e){var t=e.tagName.toLowerCase();if(e.isContentEditable)return!0;if("input"===t)return-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(e.type);return-1!==["textarea"].indexOf(t)})(this.el_.ownerDocument.activeElement)||("function"==typeof t.hotkeys?t.hotkeys.call(this,e):this.handleHotkeys(e))}},r.handleHotkeys=function(e){var t=this.options_.userActions?this.options_.userActions.hotkeys:{},r=t.fullscreenKey,n=void 0===r?function(e){return keycode.isEventKey(e,"f")}:r,i=t.muteKey,o=void 0===i?function(e){return keycode.isEventKey(e,"m")}:i,s=t.playPauseKey,a=void 0===s?function(e){return keycode.isEventKey(e,"k")||keycode.isEventKey(e,"Space")}:s;if(n.call(this,e)){e.preventDefault(),e.stopPropagation();var l=Component$q.getComponent("FullscreenToggle");!1!==document$2[this.fsApi_.fullscreenEnabled]&&l.prototype.handleClick.call(this,e)}else if(o.call(this,e)){e.preventDefault(),e.stopPropagation(),Component$q.getComponent("MuteToggle").prototype.handleClick.call(this,e)}else if(a.call(this,e)){e.preventDefault(),e.stopPropagation(),Component$q.getComponent("PlayToggle").prototype.handleClick.call(this,e)}},r.canPlayType=function(e){for(var t,r=0,n=this.options_.techOrder;r<n.length;r++){var i=n[r],o=Tech$1.getTech(i);if(o||(o=Component$q.getComponent(i)),o){if(o.isSupported()&&(t=o.canPlayType(e)))return t}else log$1.error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.')}return""},r.selectSource=function(e){var t,r=this,n=this.options_.techOrder.map((function(e){return[e,Tech$1.getTech(e)]})).filter((function(e){var t=e[0],r=e[1];return r?r.isSupported():(log$1.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)})),i=function(e,t,r){var n;return e.some((function(e){return t.some((function(t){if(n=r(e,t))return!0}))})),n},o=function(e,t){var n=e[0];if(e[1].canPlaySource(t,r.options_[n.toLowerCase()]))return{source:t,tech:n}};return(this.options_.sourceOrder?i(e,n,(t=o,function(e,r){return t(r,e)})):i(n,e,o))||!1},r.handleSrc_=function(e,t){var r=this;if(void 0===e)return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var n=_filterSource(e);if(n.length){if(this.changingSrc_=!0,t||(this.cache_.sources=n),this.updateSourceCaches_(n[0]),setSource(this,n[0],(function(e,i){if(r.middleware_=i,t||(r.cache_.sources=n),r.updateSourceCaches_(e),r.src_(e))return n.length>1?r.handleSrc_(n.slice(1)):(r.changingSrc_=!1,r.setTimeout((function(){this.error({code:4,message:this.options_.notSupportedMessage})}),0),void r.triggerReady());setTech(i,r.tech_)})),this.options_.retryOnError&&n.length>1){var i=function(){r.error(null),r.handleSrc_(n.slice(1),!0)},o=function(){r.off("error",i)};this.one("error",i),this.one("playing",o),this.resetRetryOnError_=function(){r.off("error",i),r.off("playing",o)}}}else this.setTimeout((function(){this.error({code:4,message:this.options_.notSupportedMessage})}),0)},r.src=function(e){return this.handleSrc_(e,!1)},r.src_=function(e){var t=this,r=this.selectSource([e]);return!r||(titleCaseEquals(r.tech,this.techName_)?(this.ready((function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1}),!0),!1):(this.changingSrc_=!0,this.loadTech_(r.tech,r.source),this.tech_.ready((function(){t.changingSrc_=!1})),!1))},r.load=function(){this.techCall_("load")},r.reset=function(){var e=this,t=this.options_.Promise||window$4.Promise;this.paused()||!t?this.doReset_():silencePromise(this.play().then((function(){return e.doReset_()})))},r.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),isEvented(this)&&this.trigger("playerreset")},r.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},r.resetProgressBar_=function(){this.currentTime(0);var e=this.controlBar||{},t=e.durationDisplay,r=e.remainingTimeDisplay;t&&t.updateContent(),r&&r.updateContent()},r.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},r.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},r.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},r.currentSource=function(){return this.cache_.source||{}},r.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},r.currentType=function(){return this.currentSource()&&this.currentSource().type||""},r.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},r.autoplay=function(e){if(void 0===e)return this.options_.autoplay||!1;var t;"string"==typeof e&&/(any|play|muted)/.test(e)||!0===e&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_("string"==typeof e?e:"play"),t=!1):this.options_.autoplay=!!e,t=void 0===t?this.options_.autoplay:t,this.tech_&&this.techCall_("setAutoplay",t)},r.playsinline=function(e){return void 0!==e?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},r.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")},r.poster=function(e){if(void 0===e)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))},r.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},r.controls=function(e){if(void 0===e)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},r.usingNativeControls=function(e){if(void 0===e)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},r.error=function(e){var t=this;if(void 0===e)return this.error_||null;if(hooks("beforeerror").forEach((function(r){var n=r(t,e);isObject$7(n)&&!Array.isArray(n)||"string"==typeof n||"number"==typeof n||null===n?e=n:t.log.error("please return a value that MediaError expects in beforeerror hooks")})),this.options_.suppressNotSupportedError&&e&&4===e.code){var r=function(){this.error(e)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],r),void this.one("loadstart",(function(){this.off(["click","touchstart"],r)}))}if(null===e)return this.error_=e,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new MediaError(e),this.addClass("vjs-error"),log$1.error("(CODE:"+this.error_.code+" "+MediaError.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),hooks("error").forEach((function(e){return e(t,t.error_)}))},r.reportUserActivity=function(e){this.userActivity_=!0},r.userActive=function(e){if(void 0===e)return this.userActive_;if((e=!!e)!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",(function(e){e.stopPropagation(),e.preventDefault()})),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},r.listenForUserActivity_=function(){var e,t,r,n=!0,i=bind$7(this,this.reportUserActivity);this.on("mousedown",(function(){i(),this.clearInterval(e),e=this.setInterval(i,250)})),this.on("mousemove",(function(e){e.screenX===t&&e.screenY===r||(t=e.screenX,r=e.screenY,i())})),this.on("mouseup",(function(t){i(),this.clearInterval(e)})),this.on("mouseenter",(function(){n=!0})),this.on("mouseleave",(function(){n=!1,i(),this.clearInterval(e)}));var o=this.getChild("controlBar");!o||IS_IOS||IS_ANDROID||(o.on("mouseenter",(function(e){0!==this.player().options_.inactivityTimeout&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0})),o.on("mouseleave",(function(e){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})));var s,a=this.getChild("topBar");!a||IS_IOS||IS_ANDROID||(a.on("mouseenter",(function(e){0!==this.player().options_.inactivityTimeout&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0})),a.on("mouseleave",(function(e){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout}))),this.setInterval((function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(s);var e=n?this.options_.inactivityTimeout:10;e<=0||(s=this.setTimeout((function(){this.userActivity_||this.userActive(!1)}),e))}}),250)},r.playbackRate=function(e){if(void 0===e)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)},r.defaultPlaybackRate=function(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},r.isAudio=function(e){if(void 0===e)return!!this.isAudio_;this.isAudio_=!!e},r.enableAudioOnlyUI_=function(){var e=this;this.addClass("vjs-audio-only-mode");var t=this.children(),r=this.getChild("ControlBar"),n=r&&r.currentHeight();t.forEach((function(t){t!==r&&t.el_&&!t.hasClass("vjs-hidden")&&(t.hide(),e.audioOnlyCache_.hiddenChildren.push(t))})),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(n),this.trigger("audioonlymodechange")},r.disableAudioOnlyUI_=function(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach((function(e){return e.show()})),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")},r.audioOnlyMode=function(e){var t=this;if("boolean"!=typeof e||e===this.audioOnlyMode_)return this.audioOnlyMode_;this.audioOnlyMode_=e;var r=this.options_.Promise||window$4.Promise;if(r){if(e){var n=[];return this.isInPictureInPicture()&&n.push(this.exitPictureInPicture()),this.isFullscreen()&&n.push(this.exitFullscreen()),this.audioPosterMode()&&n.push(this.audioPosterMode(!1)),r.all(n).then((function(){return t.enableAudioOnlyUI_()}))}return r.resolve().then((function(){return t.disableAudioOnlyUI_()}))}e?(this.isInPictureInPicture()&&this.exitPictureInPicture(),this.isFullscreen()&&this.exitFullscreen(),this.enableAudioOnlyUI_()):this.disableAudioOnlyUI_()},r.enablePosterModeUI_=function(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},r.disablePosterModeUI_=function(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},r.audioPosterMode=function(e){var t=this;if("boolean"!=typeof e||e===this.audioPosterMode_)return this.audioPosterMode_;this.audioPosterMode_=e;var r=this.options_.Promise||window$4.Promise;return r?e?this.audioOnlyMode()?this.audioOnlyMode(!1).then((function(){t.enablePosterModeUI_()})):r.resolve().then((function(){t.enablePosterModeUI_()})):r.resolve().then((function(){t.disablePosterModeUI_()})):e?(this.audioOnlyMode()&&this.audioOnlyMode(!1),void this.enablePosterModeUI_()):void this.disablePosterModeUI_()},r.addTextTrack=function(e,t,r){if(this.tech_)return this.tech_.addTextTrack(e,t,r)},r.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},r.removeRemoteTextTrack=function(e){void 0===e&&(e={});var t=e.track;if(t||(t=e),this.tech_)return this.tech_.removeRemoteTextTrack(t)},r.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},r.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},r.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},r.language=function(e){if(void 0===e)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),isEvented(this)&&this.trigger("languagechange"))},r.languages=function(){return mergeOptions(t.prototype.options_.languages,this.languages_)},r.toJSON=function(){var e=mergeOptions(this.options_),t=e.tracks;e.tracks=[];for(var r=0;r<t.length;r++){var n=t[r];(n=mergeOptions(n)).player=void 0,e.tracks[r]=n}return e},r.createModal=function(e,t){var r=this;(t=t||{}).content=e||"";var n=new ModalDialog(this,t);return this.addChild(n),n.on("dispose",(function(){r.removeChild(n)})),n.open(),n},r.updateCurrentBreakpoint_=function(){if(this.responsive())for(var e=this.currentBreakpoint(),t=this.currentWidth(),r=0;r<BREAKPOINT_ORDER.length;r++){var n=BREAKPOINT_ORDER[r];if(t<=this.breakpoints_[n]){if(e===n)return;e&&this.removeClass(BREAKPOINT_CLASSES[e]),this.addClass(BREAKPOINT_CLASSES[n]),this.breakpoint_=n;break}}},r.removeCurrentBreakpoint_=function(){var e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)},r.breakpoints=function(e){return void 0===e||(this.breakpoint_="",this.breakpoints_=assign$2({},DEFAULT_BREAKPOINTS,e),this.updateCurrentBreakpoint_()),assign$2(this.breakpoints_)},r.responsive=function(e){return void 0===e?this.responsive_:(e=Boolean(e))!==this.responsive_?(this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e):void 0},r.currentBreakpoint=function(){return this.breakpoint_},r.currentBreakpointClass=function(){return BREAKPOINT_CLASSES[this.breakpoint_]||""},r.loadMedia=function(e,t){var r=this;if(e&&"object"==typeof e){this.reset(),this.cache_.media=mergeOptions(e);var n=this.cache_.media,i=n.artwork,o=n.poster,s=n.src,a=n.textTracks;!i&&o&&(this.cache_.media.artwork=[{src:o,type:getMimetype(o)}]),s&&this.src(s),o&&this.poster(o),Array.isArray(a)&&a.forEach((function(e){return r.addRemoteTextTrack(e,!1)})),this.ready(t)}},r.getMedia=function(){if(!this.cache_.media){var e=this.poster(),t={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),(function(e){return{kind:e.kind,label:e.label,language:e.language,src:e.src}}))};return e&&(t.poster=e,t.artwork=[{src:t.poster,type:getMimetype(t.poster)}]),t}return mergeOptions(this.cache_.media)},t.getTagSettings=function(e){var t={sources:[],tracks:[]},r=getAttributes(e),n=r["data-setup"];if(hasClass(e,"vjs-fill")&&(r.fill=!0),hasClass(e,"vjs-fluid")&&(r.fluid=!0),null!==n){var i=safeParseTuple(n||"{}"),o=i[0],s=i[1];o&&log$1.error(o),assign$2(r,s)}if(assign$2(t,r),e.hasChildNodes())for(var a=e.childNodes,l=0,c=a.length;l<c;l++){var u=a[l],h=u.nodeName.toLowerCase();"source"===h?t.sources.push(getAttributes(u)):"track"===h&&t.tracks.push(getAttributes(u))}return t},r.flexNotSupported_=function(){var e=document$2.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},r.debug=function(e){if(void 0===e)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},r.playbackRates=function(e){if(void 0===e)return this.cache_.playbackRates;Array.isArray(e)&&e.every((function(e){return"number"==typeof e}))&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))},t}(Component$q);ALL.names.forEach((function(e){var t=ALL[e];Player.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}})),Player.prototype.crossorigin=Player.prototype.crossOrigin,Player.players={};var navigator$1=window$4.navigator;Player.prototype.options_={techOrder:Tech$1.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","topBar","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:navigator$1&&(navigator$1.languages&&navigator$1.languages[0]||navigator$1.userLanguage||navigator$1.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1},["ended","seeking","seekable","networkState","readyState"].forEach((function(e){Player.prototype[e]=function(){return this.techGet_(e)}})),TECH_EVENTS_RETRIGGER.forEach((function(e){Player.prototype["handleTech"+toTitleCase(e)+"_"]=function(){return this.trigger(e)}})),Component$q.registerComponent("Player",Player);var BASE_PLUGIN_NAME="plugin",PLUGIN_CACHE_KEY="activePlugins_",pluginStorage={},pluginExists=function(e){return pluginStorage.hasOwnProperty(e)},getPlugin=function(e){return pluginExists(e)?pluginStorage[e]:void 0},markPluginAsActive=function(e,t){e[PLUGIN_CACHE_KEY]=e[PLUGIN_CACHE_KEY]||{},e[PLUGIN_CACHE_KEY][t]=!0},triggerSetupEvent=function(e,t,r){var n=(r?"before":"")+"pluginsetup";e.trigger(n,t),e.trigger(n+":"+t.name,t)},createBasicPlugin=function(e,t){var r=function(){triggerSetupEvent(this,{name:e,plugin:t,instance:null},!0);var r=t.apply(this,arguments);return markPluginAsActive(this,e),triggerSetupEvent(this,{name:e,plugin:t,instance:r}),r};return Object.keys(t).forEach((function(e){r[e]=t[e]})),r},createPluginFactory=function(e,t){return t.prototype.name=e,function(){triggerSetupEvent(this,{name:e,plugin:t,instance:null},!0);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var o=_construct(t,[this].concat(n));return this[e]=function(){return o},triggerSetupEvent(this,o.getEventHash()),o}},Plugin$g=function(){function e(t){if(this.constructor===e)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=t,this.log||(this.log=this.player.log.createLogger(this.name)),evented(this),delete this.trigger,stateful(this,this.constructor.defaultState),markPluginAsActive(t,this.name),this.dispose=this.dispose.bind(this),t.on("dispose",this.dispose)}var t=e.prototype;return t.version=function(){return this.constructor.VERSION},t.getEventHash=function(e){return void 0===e&&(e={}),e.name=this.name,e.plugin=this.constructor,e.instance=this,e},t.trigger=function(e,t){return void 0===t&&(t={}),trigger(this.eventBusEl_,e,this.getEventHash(t))},t.handleStateChanged=function(e){},t.dispose=function(){var e=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t[PLUGIN_CACHE_KEY][e]=!1,this.player=this.state=null,t[e]=createPluginFactory(e,pluginStorage[e])},e.isBasic=function(t){var r="string"==typeof t?getPlugin(t):t;return"function"==typeof r&&!e.prototype.isPrototypeOf(r.prototype)},e.registerPlugin=function(t,r){if("string"!=typeof t)throw new Error('Illegal plugin name, "'+t+'", must be a string, was '+typeof t+".");if(pluginExists(t))log$1.warn('A plugin named "'+t+'" already exists. You may want to avoid re-registering plugins!');else if(Player.prototype.hasOwnProperty(t))throw new Error('Illegal plugin name, "'+t+'", cannot share a name with an existing player method!');if("function"!=typeof r)throw new Error('Illegal plugin for "'+t+'", must be a function, was '+typeof r+".");return pluginStorage[t]=r,t!==BASE_PLUGIN_NAME&&(e.isBasic(r)?Player.prototype[t]=createBasicPlugin(t,r):Player.prototype[t]=createPluginFactory(t,r)),r},e.deregisterPlugin=function(e){if(e===BASE_PLUGIN_NAME)throw new Error("Cannot de-register base plugin.");pluginExists(e)&&(delete pluginStorage[e],delete Player.prototype[e])},e.getPlugins=function(e){var t;return void 0===e&&(e=Object.keys(pluginStorage)),e.forEach((function(e){var r=getPlugin(e);r&&((t=t||{})[e]=r)})),t},e.getPluginVersion=function(e){var t=getPlugin(e);return t&&t.VERSION||""},e}();Plugin$g.getPlugin=getPlugin,Plugin$g.BASE_PLUGIN_NAME=BASE_PLUGIN_NAME,Plugin$g.registerPlugin(BASE_PLUGIN_NAME,Plugin$g),Player.prototype.usingPlugin=function(e){return!!this[PLUGIN_CACHE_KEY]&&!0===this[PLUGIN_CACHE_KEY][e]},Player.prototype.hasPlugin=function(e){return!!pluginExists(e)};var hasLogged=!1,extend$1=function(e,t){void 0===t&&(t={}),hasLogged||(log$1.warn("videojs.extend is deprecated as of Video.js 7.22.0 and will be removed in Video.js 8.0.0"),hasLogged=!0);var r=function(){e.apply(this,arguments)},n={};for(var i in"object"==typeof t?(t.constructor!==Object.prototype.constructor&&(r=t.constructor),n=t):"function"==typeof t&&(r=t),_inherits(r,e),e&&(r.super_=e),n)n.hasOwnProperty(i)&&(r.prototype[i]=n[i]);return r},normalizeId$1=function(e){return 0===e.indexOf("#")?e.slice(1):e};function videojs(e,t,r){var n=videojs.getPlayer(e);if(n)return t&&log$1.warn('Player "'+e+'" is already initialised. Options will not be applied.'),r&&n.ready(r),n;var i="string"==typeof e?$$n("#"+normalizeId$1(e)):e;if(!isEl(i))throw new TypeError("The element or ID supplied is not valid. (videojs)");i.ownerDocument.defaultView&&i.ownerDocument.body.contains(i)||log$1.warn("The element supplied is not included in the DOM"),!0===(t=t||{}).restoreEl&&(t.restoreEl=(i.parentNode&&i.parentNode.hasAttribute("data-vjs-player")?i.parentNode:i).cloneNode(!0)),hooks("beforesetup").forEach((function(e){var r=e(i,mergeOptions(t));isObject$7(r)&&!Array.isArray(r)?t=mergeOptions(t,r):log$1.error("please return an object in beforesetup hooks")}));var o=Component$q.getComponent("Player");return n=new o(i,t,r),hooks("setup").forEach((function(e){return e(n)})),n}if(videojs.hooks_=hooks_,videojs.hooks=hooks,videojs.hook=hook,videojs.hookOnce=hookOnce,videojs.removeHook=removeHook,!0!==window$4.VIDEOJS_NO_DYNAMIC_STYLE&&isReal()){var style=$$n(".vjs-styles-defaults");if(!style){style=createStyleElement("vjs-styles-defaults");var head=$$n("head");head&&head.insertBefore(style,head.firstChild),setTextContent(style,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: 56.25%\n      }\n    ")}}autoSetupTimeout(1,videojs),videojs.VERSION=version$1,videojs.options=Player.prototype.options_,videojs.getPlayers=function(){return Player.players},videojs.getPlayer=function(e){var t,r=Player.players;if("string"==typeof e){var n=normalizeId$1(e),i=r[n];if(i)return i;t=$$n("#"+n)}else t=e;if(isEl(t)){var o=t,s=o.player,a=o.playerId;if(s||r[a])return s||r[a]}},videojs.getAllPlayers=function(){return Object.keys(Player.players).map((function(e){return Player.players[e]})).filter(Boolean)},videojs.players=Player.players,videojs.getComponent=Component$q.getComponent,videojs.registerComponent=function(e,t){Tech$1.isTech(t)&&log$1.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),Component$q.registerComponent.call(Component$q,e,t)},videojs.getTech=Tech$1.getTech,videojs.registerTech=Tech$1.registerTech,videojs.use=use,Object.defineProperty(videojs,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(videojs.middleware,"TERMINATOR",{value:TERMINATOR,writeable:!1,enumerable:!0}),videojs.browser=browser,videojs.TOUCH_ENABLED=TOUCH_ENABLED,videojs.extend=extend$1,videojs.mergeOptions=mergeOptions,videojs.bind=bind$7,videojs.registerPlugin=Plugin$g.registerPlugin,videojs.deregisterPlugin=Plugin$g.deregisterPlugin,videojs.plugin=function(e,t){return log$1.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Plugin$g.registerPlugin(e,t)},videojs.getPlugins=Plugin$g.getPlugins,videojs.getPlugin=Plugin$g.getPlugin,videojs.getPluginVersion=Plugin$g.getPluginVersion,videojs.addLanguage=function(e,t){var r;return e=(""+e).toLowerCase(),videojs.options.languages=mergeOptions(videojs.options.languages,((r={})[e]=t,r)),videojs.options.languages[e]},videojs.log=log$1,videojs.createLogger=createLogger,videojs.createTimeRange=videojs.createTimeRanges=createTimeRanges,videojs.formatTime=formatTime,videojs.setFormatTime=setFormatTime,videojs.resetFormatTime=resetFormatTime,videojs.parseUrl=parseUrl,videojs.isCrossOrigin=isCrossOrigin,videojs.EventTarget=EventTarget,videojs.on=on$1,videojs.one=one,videojs.off=off,videojs.trigger=trigger,videojs.xhr=XHR,videojs.TextTrack=TextTrack,videojs.AudioTrack=AudioTrack,videojs.VideoTrack=VideoTrack,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach((function(e){videojs[e]=function(){return log$1.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead"),Dom[e].apply(null,arguments)}})),videojs.computedStyle=computedStyle,videojs.dom=Dom,videojs.url=Url,videojs.defineLazyProperty=defineLazyProperty,videojs.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});var $$m=_export,$includes=arrayIncludes.includes,fails$l=fails$B,addToUnscopables=addToUnscopables$2,BROKEN_ON_SPARSE=fails$l((function(){return!Array(1).includes()}));$$m({target:"Array",proto:!0,forced:BROKEN_ON_SPARSE},{includes:function(e){return $includes(this,e,arguments.length>1?arguments[1]:void 0)}}),addToUnscopables("includes");var dist={exports:{}};(function(module,exports){var e2;self,e2=function(){return(()=>{var __webpack_modules__={727:module=>{function T(e,t,r,n,i,o,s,a){var l=!n;e=+e,t=t||[0],n=n||[[this],[{}]],i=i||{};var c,u=[],h=null;function d(){return function(e,t,r){return new(Function.bind.apply(e,t))}.apply(null,arguments)}Function.prototype.bind||(c=[].slice,Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("bind101");var t=c.call(arguments,1),r=t.length,n=this,i=function(){},o=function(){return t.length=r,t.push.apply(t,arguments),n.apply(i.prototype.isPrototypeOf(this)?this:e,t)};return this.prototype&&(i.prototype=this.prototype),o.prototype=new i,o});for(var p=[function(){var e=n[n.length-2];e[0][e[1]]=n[n.length-1]},function(){n.push(null)},function(){for(var o=t[e++],s=[],a=t[e++],l=t[e++],c=[],u=0;u<a;u++)s[t[e++]]=n[t[e++]];for(u=0;u<l;u++)c[u]=t[e++];n.push((function e(){var n=s.slice(0);n[0]=[this],n[1]=[arguments],n[2]=[e];for(var a=0;a<c.length&&a<arguments.length;a++)0<c[a]&&(n[c[a]]=[arguments[a]]);return T(o,t,r,n,i)}))},function(){var e=n.pop();i[e]||(r[e]=r[e](),i[e]=1),n.push(r[e])},function(){var r=t[e++];n[n.length-1]&&(e=r)},function(){n[n.length-2]=n[n.length-2]==n.pop()},function(){var e=n[n.length-2],t=Object.getOwnPropertyDescriptor(e[0],e[1])||{configurable:!0,enumerable:!0};t.get=n[n.length-1],Object.defineProperty(e[0],e[1],t)},function(){n[n.length-2]=n[n.length-2]>=n.pop()},function(){n[n.length-2]=n[n.length-2]in n.pop()},function(){var e,t=[];for(e in n.pop())t.push(e);n.push(t)},function(){var r=t[e++];n[r]=void 0===n[r]?[]:n[r]},function(){n.push(n[t[e++]][0])},function(){n.length-=t[e++]},function(){},function(){n.push([n.pop(),n.pop()].reverse())},function(){return!0},function(){n[n.length-2]=n[n.length-2]<=n.pop()},function(){return!!h},function(){n[n.length-2]=n[n.length-2]/n.pop()},function(){n.push(void 0)},function(){for(var o=n.pop(),s=t[e++],a=[],l=t[e++],c=t[e++],u=[],h=0;h<l;h++)a[t[e++]]=n[t[e++]];for(h=0;h<c;h++)u[h]=t[e++];var d=function(){var e=a.slice(0);e[0]=[this],e[1]=[arguments],e[2]=[d];for(var n=0;n<u.length&&n<arguments.length;n++)0<u[n]&&(e[u[n]]=[arguments[n]]);return T(s,t,r,e,i)};d.toString=function(){return o},n.push(d)},function(){var e=n[n.length-2],t=Object.getOwnPropertyDescriptor(e[0],e[1])||{configurable:!0,enumerable:!0};t.set=n[n.length-1],Object.defineProperty(e[0],e[1],t)},function(){n.push([r,n.pop()])},function(){n.push(typeof n.pop())},function(){n[n.length-1].length?n.push(n[n.length-1].shift(),!0):n.push(void 0,!1)},function(){var r=t[e++],i=r?n.slice(-r):[];n.length-=r,i.unshift(null),n.push(d(n.pop(),i))},function(){n[n[n.length-2][0]][0]=n[n.length-1]},function(){n.push(!0)},function(){n[n.length-2]=n[n.length-2]>>n.pop()},function(){n.push("")},function(){var e=n.pop();n.push(delete e[0][e[1]])},function(){n[n.length-2]=n[n.length-2]|n.pop()},function(){u.pop()},function(){n.push(!1)},function(){var e=n.pop();i[e]||(r[e]=r[e](),i[e]=1),n.push([r,e])},function(){n[n.length-2]=n[n.length-2]===n.pop()},function(){n.push(n[n.length-1])},function(){var e=n.pop();n.push([n[n.pop()][0],e])},function(){var r=t[e++],i=n[n.length-2-r];n[n.length-2-r]=n.pop(),n.push(i)},function(){n[n.length-2]=n[n.length-2]+n.pop()},function(){n[n.length-2]=n[n.length-2]%n.pop()},function(){n.push(n[n.pop()[0]][0])},function(){n.length=t[e++]},function(){n.pop()},function(){n.push([t[e++]])},function(){n[n.length-1]=r[n[n.length-1]]},function(){var r=t[e++],i=r?n.slice(-r):[];n.length-=r,r=n.pop(),n.push(r[0][r[1]].apply(r[0],i))},function(){n[n.length-2]=n[n.length-2]&n.pop()},function(){n.push(t[e++])},function(){throw n[n.length-1]},function(){e=t[e++]},function(){h=null},function(){var e=n.pop();n.push(e[0][e[1]])},function(){n[n.length-2]=n[n.length-2]^n.pop()},function(){var r=t[e++],i=r?n.slice(-r):[];n.length-=r,i.unshift(null),r=n.pop(),n.push(d(r[0][r[1]],i))},function(){n[n.length-2]=n[n.length-2]-n.pop()},function(){n[n.length-2]=n[n.length-2]>n.pop()},function(){u.push([t[e++],n.length,t[e++]])},function(){n[n.length-2]=n[n.length-2]<n.pop()},function(){n.push(!n.pop())},function(){n[n.length-2]=n[n.length-2]instanceof n.pop()},function(){n.push(~n.pop())},function(){var e=n.pop(),t=n.pop();n.push([t[0][t[1]],e])},function(){n[n.length-2]=n[n.length-2]>>>n.pop()},function(){var i=t[e++],o=i?n.slice(-i):[];n.length-=i,n.push(n.pop().apply(r,o))},function(){n[n[n.length-1][0]]=void 0===n[n[n.length-1][0]]?[]:n[n[n.length-1][0]]},function(){n[n.length-1]+=String.fromCharCode(t[e++])},function(){n[n.length-2]=n[n.length-2]*n.pop()},function(){n[n.length-1]=t[e++]},function(){n[n.length-2]=n[n.length-2]<<n.pop()}];;)try{for(var f=!1;!f;)f=p[t[e++]]();if(h)throw h;return l?(n.pop(),n.slice(3+T.v)):n.pop()}catch(g){var y=u.pop();if(void 0===y)throw g;h=g,e=y[0],n.length=y[1],y[2]&&(n[y[2]][0]=h)}}function arrayIndexOf(e,t,r){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t,r);var n,i=o.length;if(0===i)return-1;var s=0|r;if(s>=i)return-1;for(n=Math.max(s>=0?s:i-Math.abs(s),0);n<i;n++)if(n in o&&o[n]===t)return n;return-1}function base64Decode(e){for(var t,r,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split(""),i=String(e).replace(/[=]+$/,""),o=0,s=0,a="";r=i.charAt(s++);~r&&(t=o%4?64*t+r:r,o++%4)?a+=String.fromCharCode(255&t>>(-2*o&6)):0)r=arrayIndexOf(n,r);return a}T.v=0,module.exports.r=function(symbols){for(var result=[],i=0;i<symbols.length;i++)try{result.push(eval(symbols[i]))}catch(t2){result.push(void 0)}return result},module.exports.d=function(e){if("object"!=typeof e[1])return e;var t=e[0],r=e[1],n=[],i=base64Decode(t),o=r.shift(),s=r.shift(),a=0;function l(){for(;a===o;)n.push(s),a++,o=r.shift(),s=r.shift()}for(var c=0;c<i.length;c++){var u=i.charAt(c).charCodeAt(0);l(),n.push(u),a++}return l(),n},module.exports.g=function(e){return e.shift()[0]},module.exports.v=T},801:(e,t,r)=>{
/*! MIT License. Copyright 2015-2018 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */
function n(e){return parseInt(e)===e}function i(e){if(!n(e.length))return!1;for(var t=0;t<e.length;t++)if(!n(e[t])||e[t]<0||e[t]>255)return!1;return!0}function o(e,t){if(e.buffer&&"Uint8Array"===e.name)return t&&(e=e.slice?e.slice():Array.prototype.slice.call(e)),e;if(Array.isArray(e)){if(!i(e))throw new Error("Array contains invalid value: "+e);return new Uint8Array(e)}if(n(e.length)&&i(e))return new Uint8Array(e);throw new Error("unsupported array-like object")}function s(e){return new Uint8Array(e)}function a(e,t,r,n,i){null==n&&null==i||(e=e.slice?e.slice(n,i):Array.prototype.slice.call(e,n,i)),t.set(e,r)}r.r(t),r.d(t,{default:()=>R});var l,c={toBytes:function(e){var t=[],r=0;for(e=encodeURI(e);r<e.length;){var n=e.charCodeAt(r++);37===n?(t.push(parseInt(e.substr(r,2),16)),r+=2):t.push(n)}return o(t)},fromBytes:function(e){for(var t=[],r=0;r<e.length;){var n=e[r];n<128?(t.push(String.fromCharCode(n)),r++):n>191&&n<224?(t.push(String.fromCharCode((31&n)<<6|63&e[r+1])),r+=2):(t.push(String.fromCharCode((15&n)<<12|(63&e[r+1])<<6|63&e[r+2])),r+=3)}return t.join("")}},u=(l="0123456789abcdef",{toBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},fromBytes:function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push(l[(240&n)>>4]+l[15&n])}return t.join("")}}),h={16:10,24:12,32:14},d=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],p=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],f=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],y=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],g=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],v=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],m=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],_=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],b=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],E=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],T=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],$=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],S=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],w=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],C=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function P(e){for(var t=[],r=0;r<e.length;r+=4)t.push(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]);return t}var O=function e(t){if(!(this instanceof e))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:o(t,!0)}),this._prepare()};O.prototype._prepare=function(){var e=h[this.key.length];if(null==e)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var t=0;t<=e;t++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);var r,n=4*(e+1),i=this.key.length/4,o=P(this.key);for(t=0;t<i;t++)r=t>>2,this._Ke[r][t%4]=o[t],this._Kd[e-r][t%4]=o[t];for(var s,a=0,l=i;l<n;){if(s=o[i-1],o[0]^=p[s>>16&255]<<24^p[s>>8&255]<<16^p[255&s]<<8^p[s>>24&255]^d[a]<<24,a+=1,8!=i)for(t=1;t<i;t++)o[t]^=o[t-1];else{for(t=1;t<i/2;t++)o[t]^=o[t-1];for(s=o[i/2-1],o[i/2]^=p[255&s]^p[s>>8&255]<<8^p[s>>16&255]<<16^p[s>>24&255]<<24,t=i/2+1;t<i;t++)o[t]^=o[t-1]}for(t=0;t<i&&l<n;)c=l>>2,u=l%4,this._Ke[c][u]=o[t],this._Kd[e-c][u]=o[t++],l++}for(var c=1;c<e;c++)for(var u=0;u<4;u++)s=this._Kd[c][u],this._Kd[c][u]=$[s>>24&255]^S[s>>16&255]^w[s>>8&255]^C[255&s]},O.prototype.encrypt=function(e){if(16!=e.length)throw new Error("invalid plaintext size (must be 16 bytes)");for(var t=this._Ke.length-1,r=[0,0,0,0],n=P(e),i=0;i<4;i++)n[i]^=this._Ke[0][i];for(var o=1;o<t;o++){for(i=0;i<4;i++)r[i]=y[n[i]>>24&255]^g[n[(i+1)%4]>>16&255]^v[n[(i+2)%4]>>8&255]^m[255&n[(i+3)%4]]^this._Ke[o][i];n=r.slice()}var a,l=s(16);for(i=0;i<4;i++)a=this._Ke[t][i],l[4*i]=255&(p[n[i]>>24&255]^a>>24),l[4*i+1]=255&(p[n[(i+1)%4]>>16&255]^a>>16),l[4*i+2]=255&(p[n[(i+2)%4]>>8&255]^a>>8),l[4*i+3]=255&(p[255&n[(i+3)%4]]^a);return l},O.prototype.decrypt=function(e){if(16!=e.length)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var t=this._Kd.length-1,r=[0,0,0,0],n=P(e),i=0;i<4;i++)n[i]^=this._Kd[0][i];for(var o=1;o<t;o++){for(i=0;i<4;i++)r[i]=_[n[i]>>24&255]^b[n[(i+3)%4]>>16&255]^E[n[(i+2)%4]>>8&255]^T[255&n[(i+1)%4]]^this._Kd[o][i];n=r.slice()}var a,l=s(16);for(i=0;i<4;i++)a=this._Kd[t][i],l[4*i]=255&(f[n[i]>>24&255]^a>>24),l[4*i+1]=255&(f[n[(i+3)%4]>>16&255]^a>>16),l[4*i+2]=255&(f[n[(i+2)%4]>>8&255]^a>>8),l[4*i+3]=255&(f[255&n[(i+1)%4]]^a);return l};var A=function e(t,r){if(!(this instanceof e))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",r){if(16!=r.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else r=s(16);this._lastCipherblock=o(r,!0),this._aes=new O(t)};A.prototype.encrypt=function(e){if((e=o(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=s(e.length),r=s(16),n=0;n<e.length;n+=16){a(e,r,0,n,n+16);for(var i=0;i<16;i++)r[i]^=this._lastCipherblock[i];this._lastCipherblock=this._aes.encrypt(r),a(this._lastCipherblock,t,n)}return t},A.prototype.decrypt=function(e){if((e=o(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=s(e.length),r=s(16),n=0;n<e.length;n+=16){a(e,r,0,n,n+16),r=this._aes.decrypt(r);for(var i=0;i<16;i++)t[n+i]=r[i]^this._lastCipherblock[i];a(e,this._lastCipherblock,0,n,n+16)}return t};var I=function e(t){if(!(this instanceof e))throw Error("Counter must be instanitated with `new`");0===t||t||(t=1),"number"==typeof t?(this._counter=s(16),this.setValue(t)):this.setBytes(t)};I.prototype.setValue=function(e){if("number"!=typeof e||parseInt(e)!=e)throw new Error("invalid counter value (must be an integer)");if(e>Number.MAX_SAFE_INTEGER)throw new Error("integer value out of safe range");for(var t=15;t>=0;--t)this._counter[t]=e%256,e=parseInt(e/256)},I.prototype.setBytes=function(e){if(16!=(e=o(e,!0)).length)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=e},I.prototype.increment=function(){for(var e=15;e>=0;e--){if(255!==this._counter[e]){this._counter[e]++;break}this._counter[e]=0}};const R={AES:O,Counter:I,modeOfOperation:{cbc:A},utils:{hex:u,utf8:c},padding:{pkcs7:{pad:function(e){var t=16-(e=o(e,!0)).length%16,r=s(e.length+t);a(e,r);for(var n=e.length;n<r.length;n++)r[n]=t;return r},strip:function(e){if((e=o(e,!0)).length<16)throw new Error("PKCS#7 invalid length");var t=e[e.length-1];if(t>16)throw new Error("PKCS#7 padding byte out of range");for(var r=e.length-t,n=0;n<t;n++)if(e[r+n]!==t)throw new Error("PKCS#7 invalid padding byte");var i=s(r);return a(e,i,0,0,r),i}}},_arrayTest:{coerceArray:o,createArray:s,copyArray:a}}},672:(e,t,r)=>{r.r(t),r.d(t,{SERVER_PATH_V4:()=>n,TcAdapterEvents:()=>i,TcAdapterErrors:()=>o,EventsNotExposed:()=>s});var n="//playvideo.qcloud.com",i={LOADEDMETADATA:"loadedmetadata",HLSREADY:"hlsready",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",DESTROYING:"hlsDestroying",ERROR:"hlsError",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",INIT_PTS_FOUND:"hlsInitPtsFound",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_LOADING:"hlsLevelLoading",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_UPDATED:"hlsLevelUpdated",LIVE_BACK_BUFFER_REACHED:"hlsLiveBackBufferReached",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_PARSED:"hlsManifestParsed",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_DETACHED:"hlsMediaDetached",MEDIA_DETACHING:"hlsMediaDetaching",STREAM_STATE_TRANSITION:"hlsStreamStateTransition",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch"},o={0:"Playcgi request error",1:"TcAdapter can only support V4 playcgi",2:"No stream info",3:"An error occured when loading Hls.js"},s={BUFFER_APPENDED:"hlsBufferAppended",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHED:"hlsBufferFlushed",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_RESET:"hlsBufferReset",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_LOADED:"hlsFragLoaded",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_PARSED:"hlsFragParsed",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",KEY_LOADED:"hlsKeyLoaded",KEY_LOADING:"hlsKeyLoading"}},132:(e,t,r)=>{var n=r(727);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(r(333)),o=r(464),s=l(r(801)),a=l(r(409));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function u(e,t){var r=t.get(e);if(!r)throw new TypeError("attempted to get private field on non-instance");return r.get?r.get.call(e):r.value}function h(e,t,r){var n=t.get(e);if(!n)throw new TypeError("attempted to set private field on non-instance");if(n.set)n.set.call(e,r);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=r}return r}var d=-1!==window.navigator.userAgent.toLowerCase().indexOf("quark"),p=window.navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i),f=new WeakMap,y=new WeakMap,g=new WeakMap,v=new WeakMap,m=new WeakSet,_=new WeakSet,b=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),_.add(this),m.add(this),f.set(this,{writable:!0,value:void 0}),y.set(this,{writable:!0,value:void 0}),g.set(this,{writable:!0,value:void 0}),v.set(this,{writable:!0,value:void 0}),h(this,f,(0,o.genOverlay)()),h(this,y,(0,o.genOverlay)()),h(this,g,t),h(this,v,r)}var t;return(t=[{key:"generateOverlayKeyAndIv",value:function(){return n.g(n.v(0,n.d(["KgQKAgoDMoU2KgMKAjAAAxkAJB1Cb0J2QmVCckJsQmFCeUJLQmVCeQ4sAB1CZUJuQmNCckJ5QnBCdEJvJTABIgsAMAIDLgIuAQArKyQdQm9CdkJlQnJCbEJhQnlCSUJ2DiwAHUJlQm5CY0JyQnlCcEJ0Qm8lMAEiCwAwAwMuAi4BACsrDywDAgkAABorKxMP",[]]),[function(){return"undefined"==typeof Object?void 0:Object},function(){return u},function(){return void 0===f?void 0:f},function(){return void 0===y?void 0:y}])).call(this)}},{key:"encrypto",value:function(e){return n.g(n.v(0,n.d(["KgQKAgoDMiwqCgoCCgMKBAoFCgYKBwoICgkwAAMXHUJzQnRCckJpQm5CZyM7BDQrMjcwKxMPLAMwAQMZABorKywEMBkaKyssBTB7GisrLAYwABorKywGKTAAIh1CbEJlQm5CZ0J0Qmg+NAc7BHMrMugsKywHMAAiHUJjQmhCYUJyQkNCb0JkQmVCQUJ0PgsGLgEaKyssBwsHMAFDCwU1GisrLAcsBx1CdEJvQlNCdEJyQmlCbkJnJQsELgEaKyssAx1CcEJ1QnNCaCULBy4BKywGJCkkJgEmADABJxorRAAmAB8rMlZCLAgwAiIdQmZCckJvQm1CQ0JoQmFCckJDQm9CZEJlPgsEMGEnLgEaKyssCSwDHUJqQm9CaUJuJQsILgEaKysLCQ8sAwIJAAAaKysTDw==",[7,297]]),[function(){return void 0===e?void 0:e},function(){return"undefined"==typeof Array?void 0:Array},function(){return"undefined"==typeof String?void 0:String}])).call(this)}},{key:"generatePlayCgiUrl",value:function(e){return n.g(n.v(0,n.d(["KgQKAgoDMgQqBwoCCgMKBAoFCgYwACILADABAy4CBCQyLzArMAAiCwAwAgMuAgQ0MkI2KzAAIgsAMAMDLgIwAiMESCsyDCssAzAEIh1CZEJlQmZCYUJ1QmxCdD42ABorKywEHUJNQklCR0JmQk1CQUIwQkdCQ0JTQnFCR0JTQklCYkIzQkRCUUJFQkJCQUJRQlVCQUJBQjRCR0JOQkFCREJDQkJCaUJRQktCQkJnQlFCQ0IzQnBCREJBQjdCR0JUQnhCT0J2Qk5CYkJYQlJCR0JNQmlCOUJRQlNCSUJ6QlFCRUJJQitCRUJNQkRCMUJIQmNCVUJQQkpCU0JRQlNCRkJ1QlJCa0JaQmtCV0JvQjRCVkJRQkVCQ0J1QlBCUkJnQi9CeEJWQmpCcUJ3QlhCMUJ5QlVCckJIQlVCdkJHQlFCSkJzQkJCd0JUQlNCL0I2QkxCSUJjQlFCaUJTQndCWUJzQk9CcUJmQitCOEJUQldCeEJHQlFCT0JKQnlCV0I0QjZCZ0JQQlBCUUJWQnpCVEJqQk5CVEJpQlVCb0JxQjRCM0I1QlFCQkIwQnZCMUIxQmxCTkJ4QnZCS0JXQkJCUUJJQlpCTEJtQmFCY0JVQlpCMkJyQjFCQUJQQnRCYUI3QmlCL0JNQllCNEJMQnhCOUJYQmxCWkJWQk1CWkJOQlVCZEJVQnlCd0JJQkRCQUJRQkFCQhorKywDHUJzQmVCdEJQQnVCYkJsQmlCY0JLQmVCeSULBC4BKywFMAUiCwAwBgMwBwMuAx1CY0JhQmxCbA4LACwDHUJlQm5CY0JyQnlCcEJ0JTAAIgsAMAEDLgIuAS4CGisrLAYwBSILADAGAzAHAy4DHUJjQmFCbEJsDgsALAMdQmVCbkJjQnJCeUJwQnQlMAAiCwAwAgMuAi4BLgIaK0QIIiQ0HUImQmNCaUJwQmhCZUJyQmVCZEJPQnZCZUJyQmxCYUJ5QktCZUJ5Qj0dQmNCb0JuQmNCYUJ0DgsFHUImQmNCaUJwQmhCZUJyQmVCZEJPQnZCZUJyQmxCYUJ5QklCdkI9LgIdQmNCb0JuQmNCYUJ0DgsGHUImQmtCZUJ5QklCZEI9QjEuAicAKyswAEQJIh1CaUJzQlNCdUJwQnBCb0JyQnRCZUJkPjRAADsERAoDBDIqKzALAwRECAMPMiYrMAgiJDQdQiZCbUJzQmVCPUJvQmZCZicAJgArRAgiJDQdQiZCcUJzQmlCZ0JuQj0wAEQMIh1CZEJlQmZCYUJ1QmxCdD40HUJvQnZCZUJyQmxCYUJ5QktCZUJ5Qj0dQmNCb0JuQmNCYUJ0DjAAIgsAMAEDLgIdQiZCb0J2QmVCckJsQmFCeUJJQnZCPS4CHUJjQm9CbkJjQmFCdA4wACILADACAy4CHUImQm1Cc0JlQj1Cb0JmQmYuAkABJycAJgArRAgDDxMPLAMCCQAAGisrEw8=",[7,1090,70,835,869,882,874,878,876,882,883,891,889,1088]]),[function(){return u},function(){return void 0===f?void 0:f},function(){return void 0===y?void 0:y},function(){return void 0===g?void 0:g},function(){return void 0===i?void 0:i},function(){return c},function(){return void 0===m?void 0:m},function(){return void 0===E?void 0:E},function(){return void 0===e?void 0:e},function(){return void 0===o?void 0:o},function(){return void 0===p?void 0:p},function(){return void 0===d?void 0:d},function(){return void 0===a?void 0:a}])).call(this)}},{key:"generateKey",value:function(e){return n.g(n.v(0,n.d(["KgQKAgoDMkIqCwoCCgMKBAoFCgYKBwoICgkKCiwDMAAiMAEDNgEaK0QCIgsAMAMDLgI7BDkyREIrMAIiCwAwBAMuAgRJMlQEKzACIgsAMAUDLgIEWisyQissBTAGAxkAGisrLAYwBgMZABorKywHMAAaKyssBykwEAc7BIMrMkIrLAgwAiILADAEAy4CHUJzQnVCYkJzQnRCckJpQm5CZw4LBzACQwsHMAJDMAInLgIaKyssCTACIgsAMAUDLgIdQnNCdUJiQnNCdEJyQmlCbkJnDgsHMAJDCwcwAkMwAicuAhorKywFHUJwQnVCc0JoJTAHIgsIMBAuAi4BKywGHUJwQnVCc0JoJTAHIgsJMBAuAi4BKywHJCkkJgEmADABJxorRAAmAB8rMnYCLAowCCIdQmRCZUJmQmFCdUJsQnQ+HUJtQm9CZEJlQk9CZkJPQnBCZUJyQmFCdEJpQm9Cbj4dQmNCYkJjPgsFCwY2AhorKywELAodQmRCZUJjQnJCeUJwQnQlCwMuARorKywEKQQrCwMPLAMCCQAAGisrEw8=",[7,409,88,400,129,303,404,408]]),[function(){return"undefined"==typeof Uint8Array?void 0:Uint8Array},function(){return void 0===e?void 0:e},function(){return u},function(){return void 0===v?void 0:v},function(){return void 0===f?void 0:f},function(){return void 0===y?void 0:y},function(){return"undefined"==typeof Array?void 0:Array},function(){return"undefined"==typeof parseInt?void 0:parseInt},function(){return void 0===s?void 0:s}])).call(this)}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}(),E=function(e){for(var t=atob(e),r="",n=0;n<t.length;n++){var i=t.charCodeAt(n).toString(16);r+=2===i.length?i:"0"+i}return r},T=b;t.default=T},95:(e,t,r)=>{r.r(t),r.d(t,{fixEvent:()=>y,off:()=>_,on:()=>m,one:()=>E,trigger:()=>b});var n=1;function i(){return n++}var o={},s="vdata"+(new Date).getTime();function a(e){var t=e[s];return t||(t=e[s]=i()),o[t]||(o[t]={}),o[t]}function l(e){var t=e[s];return!!t&&!!Object.getOwnPropertyNames(o[t]).length}var c=r(579),u=r.n(c),h=r(200),d=r.n(h);function p(e,t){var r=a(e);0===r.handlers[t].length&&(delete r.handlers[t],e.removeEventListener?e.removeEventListener(t,r.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,r.dispatcher)),Object.getOwnPropertyNames(r.handlers).length<=0&&(delete r.handlers,delete r.dispatcher,delete r.disabled),0===Object.getOwnPropertyNames(r).length&&function(e){var t=e[s];if(t){delete o[t];try{delete e[s]}catch(r){e.removeAttribute?e.removeAttribute(s):e[s]=null}}}(e)}function f(e,t,r,n){r.forEach((function(r){e(t,r,n)}))}function y(e){function t(){return!0}function r(){return!1}if(!e||!e.isPropagationStopped){var n=e||u().event;for(var i in e={},n)"layerX"!==i&&"layerY"!==i&&"keyLocation"!==i&&"webkitMovementX"!==i&&"webkitMovementY"!==i&&("returnValue"===i&&n.preventDefault||(e[i]=n[i]));if(e.target||(e.target=e.srcElement||d()),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){n.preventDefault&&n.preventDefault(),e.returnValue=!1,n.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){n.stopPropagation&&n.stopPropagation(),e.cancelBubble=!0,n.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=r,e.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=r,null!==e.clientX&&void 0!==e.clientX){var o=d().documentElement,s=d().body;e.pageX=e.clientX+(o&&o.scrollLeft||s&&s.scrollLeft||0)-(o&&o.clientLeft||s&&s.clientLeft||0),e.pageY=e.clientY+(o&&o.scrollTop||s&&s.scrollTop||0)-(o&&o.clientTop||s&&s.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e}var g=!1;!function(){try{var e=Object.defineProperty({},"passive",{get:function(){g=!0}});u().addEventListener("test",null,e),u().removeEventListener("test",null,e)}catch(t){}}();var v=["touchstart","touchmove"];function m(e,t,r){if(Array.isArray(t))return f(m,e,t,r);var n=a(e);if(n.handlers||(n.handlers={}),n.handlers[t]||(n.handlers[t]=[]),r.guid||(r.guid=i()),n.handlers[t].push(r),n.dispatcher||(n.disabled=!1,n.dispatcher=function(t,r){if(!n.disabled){t=y(t);var i=n.handlers[t.type];if(i)for(var o=i.slice(0),s=0,a=o.length;s<a&&!t.isImmediatePropagationStopped();s++)try{o[s].call(e,t,r)}catch(l){console.error(l)}}}),1===n.handlers[t].length)if(e.addEventListener){var o=!1;g&&v.indexOf(t)>-1&&(o={passive:!0}),e.addEventListener(t,n.dispatcher,o)}else e.attachEvent&&e.attachEvent("on"+t,n.dispatcher)}function _(e,t,r){if(l(e)){var n=a(e);if(n.handlers){if(Array.isArray(t))return f(_,e,t,r);var i=function(e,t){n.handlers[t]=[],p(e,t)};if(void 0!==t){var o=n.handlers[t];if(o)if(r){if(r.guid)for(var s=0;s<o.length;s++)o[s].guid===r.guid&&o.splice(s--,1);p(e,t)}else i(e,t)}else for(var c in n.handlers)Object.prototype.hasOwnProperty.call(n.handlers||{},c)&&i(e,c)}}}function b(e,t,r){var n=l(e)?a(e):{},i=e.parentNode||e.ownerDocument;if("string"==typeof t&&(t={type:t,target:e}),t=y(t),n.dispatcher&&n.dispatcher.call(e,t,r),i&&!t.isPropagationStopped()&&!0===t.bubbles)b.call(null,i,t,r);else if(!i&&!t.defaultPrevented){var o=a(t.target);t.target[t.type]&&(o.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),o.disabled=!1)}return!t.defaultPrevented}function E(e,t,r){if(Array.isArray(t))return f(E,e,t,r);var n=function n(){_(e,t,n),r.apply(this,arguments)};n.guid=r.guid=r.guid||i(),m(e,t,n)}},464:(e,t,r)=>{var n=r(727);function i(e,t){return Math.floor(Math.random()*(t-e+1)+e)}Object.defineProperty(t,"__esModule",{value:!0}),t.base64ToHex=function(e){for(var t=atob(e),r="",n=0;n<t.length;n++){var i=t.charCodeAt(n).toString(16);r+=2===i.length?i:"0"+i}return r},t.genOverlay=function(){return n.g(n.v(0,n.d(["KgQKAgoDMjkqBwoCCgMKBAoFCgYsAx0aKyssBDAAAxkAJDAADh1CMAArKyQwAQ4dQjEAKyskMAIOHUIyACsrJDADDh1CMwArKyQwBA4dQjQAKyskMAUOHUI1ACsrJDAGDh1CNgArKyQwBw4dQjcAKyskMAgOHUI4ACsrJDAJDh1COQArKyQwCg4dQmEAKyskMAsOHUJiACsrJDAMDh1CYwArKyQwDQ4dQmQAKyskMA4OHUJlACsrJDAPDh1CZgArKxorKywFMAAaKyssBSkwIAc7BNkrMgIrLAYwASIwADAPLgIaKyssAyQpLAQLBiU0JxorKywFJCkkJgEmADABJxorRAAmAB8rMswCLAMpDywDAgkAABorKxMP",[7,273,215,269]]),[function(){return"undefined"==typeof Array?void 0:Array},function(){return i}])).call(this)},t.newGUID=s,t.loadScript=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=document.createElement("script");if(i.onload=i.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||("function"==typeof t&&t(),i.onload=i.onreadystatechange=null,i.parentNode&&!n&&i.parentNode.removeChild(i))},r)for(var o in r)if(r.hasOwnProperty(o)){var s=r[o];null===s?i.removeAttribute(s):i.setAttribute(o,s)}i.src=e,document.getElementsByTagName("head")[0].appendChild(i)},t.unifyProtocol=function(e){e=e.replace(/^(http|https):/,"");var t=window.location.protocol;return"http:"!=t&&"https:"!=t&&(t="https:"),t+e},t.getMediaSource=a,t.isSupported=function(){var e=a();if(!e)return!1;var t=window.SourceBuffer||window.WebKitSourceBuffer,r=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),n=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return!!r&&!!n},t.bind=void 0;var o=1;function s(){return o++}function a(){return window.MediaSource||window.WebKitMediaSource}t.bind=function(e,t,r){t.guid||(t.guid=s());var n=function(){return t.apply(e,arguments)};return n.guid=r?r+"_"+t.guid:t.guid,n}},216:e=>{var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t},bytesToString:function(e){for(var t=[],r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return t.join("")}}};e.exports=t},168:e=>{var t,r;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&r.rotl(e,8)|4278255360&r.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=r.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],r=0,n=0;r<e.length;r++,n+=8)t[n>>>5]|=e[r]<<24-n%32;return t},wordsToBytes:function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t},bytesToHex:function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((15&e[r]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},bytesToBase64:function(e){for(var r=[],n=0;n<e.length;n+=3)for(var i=e[n]<<16|e[n+1]<<8|e[n+2],o=0;o<4;o++)8*n+6*o<=8*e.length?r.push(t.charAt(i>>>6*(3-o)&63)):r.push("=");return r.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var r=[],n=0,i=0;n<e.length;i=++n%4)0!=i&&r.push((t.indexOf(e.charAt(n-1))&Math.pow(2,-2*i+8)-1)<<2*i|t.indexOf(e.charAt(n))>>>6-2*i);return r}},e.exports=r},200:(e,t,r)=>{var n,i=void 0!==r.g?r.g:"undefined"!=typeof window?window:{},o=r(533);"undefined"!=typeof document?n=document:(n=i["__GLOBAL_DOCUMENT_CACHE@4"])||(n=i["__GLOBAL_DOCUMENT_CACHE@4"]=o),e.exports=n},579:(e,t,r)=>{var n;n="undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{},e.exports=n},551:e=>{function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
           * Determine if an object is a Buffer
           *
           * @author   Feross Aboukhadijeh <https://feross.org>
           * @license  MIT
           */e.exports=function(e){return null!=e&&(t(e)||"function"==typeof(r=e).readFloatLE&&"function"==typeof r.slice&&t(r.slice(0,0))||!!e._isBuffer);var r}},135:e=>{e.exports=function(e){if(!e)return!1;var r=t.call(e);return"[object Function]"===r||"function"==typeof e&&"[object RegExp]"!==r||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var t=Object.prototype.toString},333:(e,t,r)=>{function n(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function i(e,t){return e&t}function o(e,t){return e|t}function s(e,t){return e^t}function a(e,t){return e&~t}function l(e){if(0==e)return-1;var t=0;return!(65535&e)&&(e>>=16,t+=16),!(255&e)&&(e>>=8,t+=8),!(15&e)&&(e>>=4,t+=4),!(3&e)&&(e>>=2,t+=2),!(1&e)&&++t,t}function c(e){for(var t=0;0!=e;)e&=e-1,++t;return t}r.r(t),r.d(t,{default:()=>ie});var u,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function d(e){var t,r,n="";for(t=0;t+3<=e.length;t+=3)r=parseInt(e.substring(t,t+3),16),n+=h.charAt(r>>6)+h.charAt(63&r);for(t+1==e.length?(r=parseInt(e.substring(t,t+1),16),n+=h.charAt(r<<2)):t+2==e.length&&(r=parseInt(e.substring(t,t+2),16),n+=h.charAt(r>>2)+h.charAt((3&r)<<4));(3&n.length)>0;)n+="=";return n}function p(e){var t,r="",i=0,o=0;for(t=0;t<e.length&&"="!=e.charAt(t);++t){var s=h.indexOf(e.charAt(t));s<0||(0==i?(r+=n(s>>2),o=3&s,i=1):1==i?(r+=n(o<<2|s>>4),o=15&s,i=2):2==i?(r+=n(o),r+=n(s>>2),o=3&s,i=3):(r+=n(o<<2|s>>4),r+=n(15&s),i=0))}return 1==i&&(r+=n(o<<2)),r}var f,y={decode:function(e){var t;if(void 0===f){var r="= \f\n\r\t \u2028\u2029";for(f=Object.create(null),t=0;t<64;++t)f["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t)]=t;for(f["-"]=62,f._=63,t=0;t<9;++t)f[r.charAt(t)]=-1}var n=[],i=0,o=0;for(t=0;t<e.length;++t){var s=e.charAt(t);if("="==s)break;if(-1!=(s=f[s])){if(void 0===s)throw new Error("Illegal character at offset "+t);i|=s,++o>=4?(n[n.length]=i>>16,n[n.length]=i>>8&255,n[n.length]=255&i,i=0,o=0):i<<=6}}switch(o){case 1:throw new Error("Base64 encoding incomplete: at least 2 bits missing");case 2:n[n.length]=i>>10;break;case 3:n[n.length]=i>>16,n[n.length]=i>>8&255}return n},re:/-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/,unarmor:function(e){var t=y.re.exec(e);if(t)if(t[1])e=t[1];else{if(!t[2])throw new Error("RegExp out of sync");e=t[2]}return y.decode(e)}},g=1e13,v=function(){function e(e){this.buf=[+e||0]}return e.prototype.mulAdd=function(e,t){var r,n,i=this.buf,o=i.length;for(r=0;r<o;++r)(n=i[r]*e+t)<g?t=0:n-=(t=0|n/g)*g,i[r]=n;t>0&&(i[r]=t)},e.prototype.sub=function(e){var t,r,n=this.buf,i=n.length;for(t=0;t<i;++t)(r=n[t]-e)<0?(r+=g,e=1):e=0,n[t]=r;for(;0===n[n.length-1];)n.pop()},e.prototype.toString=function(e){if(10!=(e||10))throw new Error("only base 10 is supported");for(var t=this.buf,r=t[t.length-1].toString(),n=t.length-2;n>=0;--n)r+=(g+t[n]).toString().substring(1);return r},e.prototype.valueOf=function(){for(var e=this.buf,t=0,r=e.length-1;r>=0;--r)t=t*g+e[r];return t},e.prototype.simplify=function(){var e=this.buf;return 1==e.length?e[0]:this},e}(),m=/^(\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,_=/^(\d\d\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/;function b(e,t){return e.length>t&&(e=e.substring(0,t)+"…"),e}var E,T=function(){function e(t,r){this.hexDigits="0123456789ABCDEF",t instanceof e?(this.enc=t.enc,this.pos=t.pos):(this.enc=t,this.pos=r)}return e.prototype.get=function(e){if(void 0===e&&(e=this.pos++),e>=this.enc.length)throw new Error("Requesting byte offset "+e+" on a stream of length "+this.enc.length);return"string"==typeof this.enc?this.enc.charCodeAt(e):this.enc[e]},e.prototype.hexByte=function(e){return this.hexDigits.charAt(e>>4&15)+this.hexDigits.charAt(15&e)},e.prototype.hexDump=function(e,t,r){for(var n="",i=e;i<t;++i)if(n+=this.hexByte(this.get(i)),!0!==r)switch(15&i){case 7:n+="  ";break;case 15:n+="\n";break;default:n+=" "}return n},e.prototype.isASCII=function(e,t){for(var r=e;r<t;++r){var n=this.get(r);if(n<32||n>176)return!1}return!0},e.prototype.parseStringISO=function(e,t){for(var r="",n=e;n<t;++n)r+=String.fromCharCode(this.get(n));return r},e.prototype.parseStringUTF=function(e,t){for(var r="",n=e;n<t;){var i=this.get(n++);r+=i<128?String.fromCharCode(i):i>191&&i<224?String.fromCharCode((31&i)<<6|63&this.get(n++)):String.fromCharCode((15&i)<<12|(63&this.get(n++))<<6|63&this.get(n++))}return r},e.prototype.parseStringBMP=function(e,t){for(var r,n,i="",o=e;o<t;)r=this.get(o++),n=this.get(o++),i+=String.fromCharCode(r<<8|n);return i},e.prototype.parseTime=function(e,t,r){var n=this.parseStringISO(e,t),i=(r?m:_).exec(n);return i?(r&&(i[1]=+i[1],i[1]+=+i[1]<70?2e3:1900),n=i[1]+"-"+i[2]+"-"+i[3]+" "+i[4],i[5]&&(n+=":"+i[5],i[6]&&(n+=":"+i[6],i[7]&&(n+="."+i[7]))),i[8]&&(n+=" UTC","Z"!=i[8]&&(n+=i[8],i[9]&&(n+=":"+i[9]))),n):"Unrecognized time: "+n},e.prototype.parseInteger=function(e,t){for(var r,n=this.get(e),i=n>127,o=i?255:0,s="";n==o&&++e<t;)n=this.get(e);if(0==(r=t-e))return i?-1:0;if(r>4){for(s=n,r<<=3;!(128&(+s^o));)s=+s<<1,--r;s="("+r+" bit)\n"}i&&(n-=256);for(var a=new v(n),l=e+1;l<t;++l)a.mulAdd(256,this.get(l));return s+a.toString()},e.prototype.parseBitString=function(e,t,r){for(var n=this.get(e),i="("+((t-e-1<<3)-n)+" bit)\n",o="",s=e+1;s<t;++s){for(var a=this.get(s),l=s==t-1?n:0,c=7;c>=l;--c)o+=a>>c&1?"1":"0";if(o.length>r)return i+b(o,r)}return i+o},e.prototype.parseOctetString=function(e,t,r){if(this.isASCII(e,t))return b(this.parseStringISO(e,t),r);var n=t-e,i="("+n+" byte)\n";n>(r/=2)&&(t=e+r);for(var o=e;o<t;++o)i+=this.hexByte(this.get(o));return n>r&&(i+="…"),i},e.prototype.parseOID=function(e,t,r){for(var n="",i=new v,o=0,s=e;s<t;++s){var a=this.get(s);if(i.mulAdd(128,127&a),o+=7,!(128&a)){if(""===n)if((i=i.simplify())instanceof v)i.sub(80),n="2."+i.toString();else{var l=i<80?i<40?0:1:2;n=l+"."+(i-40*l)}else n+="."+i.toString();if(n.length>r)return b(n,r);i=new v,o=0}}return o>0&&(n+=".incomplete"),n},e}(),$=function(){function e(e,t,r,n,i){if(!(n instanceof S))throw new Error("Invalid tag value.");this.stream=e,this.header=t,this.length=r,this.tag=n,this.sub=i}return e.prototype.typeName=function(){switch(this.tag.tagClass){case 0:switch(this.tag.tagNumber){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString"}return"Universal_"+this.tag.tagNumber.toString();case 1:return"Application_"+this.tag.tagNumber.toString();case 2:return"["+this.tag.tagNumber.toString()+"]";case 3:return"Private_"+this.tag.tagNumber.toString()}},e.prototype.content=function(e){if(void 0===this.tag)return null;void 0===e&&(e=1/0);var t=this.posContent(),r=Math.abs(this.length);if(!this.tag.isUniversal())return null!==this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(t,t+r,e);switch(this.tag.tagNumber){case 1:return 0===this.stream.get(t)?"false":"true";case 2:return this.stream.parseInteger(t,t+r);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(t,t+r,e);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(t,t+r,e);case 6:return this.stream.parseOID(t,t+r,e);case 16:case 17:return null!==this.sub?"("+this.sub.length+" elem)":"(no elem)";case 12:return b(this.stream.parseStringUTF(t,t+r),e);case 18:case 19:case 20:case 21:case 22:case 26:return b(this.stream.parseStringISO(t,t+r),e);case 30:return b(this.stream.parseStringBMP(t,t+r),e);case 23:case 24:return this.stream.parseTime(t,t+r,23==this.tag.tagNumber)}return null},e.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null===this.sub?"null":this.sub.length)+"]"},e.prototype.toPrettyString=function(e){void 0===e&&(e="");var t=e+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(t+="+"),t+=this.length,this.tag.tagConstructed?t+=" (constructed)":!this.tag.isUniversal()||3!=this.tag.tagNumber&&4!=this.tag.tagNumber||null===this.sub||(t+=" (encapsulates)"),t+="\n",null!==this.sub){e+="  ";for(var r=0,n=this.sub.length;r<n;++r)t+=this.sub[r].toPrettyString(e)}return t},e.prototype.posStart=function(){return this.stream.pos},e.prototype.posContent=function(){return this.stream.pos+this.header},e.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},e.prototype.toHexString=function(){return this.stream.hexDump(this.posStart(),this.posEnd(),!0)},e.decodeLength=function(e){var t=e.get(),r=127&t;if(r==t)return r;if(r>6)throw new Error("Length over 48 bits not supported at position "+(e.pos-1));if(0===r)return null;t=0;for(var n=0;n<r;++n)t=256*t+e.get();return t},e.prototype.getHexStringValue=function(){var e=this.toHexString(),t=2*this.header,r=2*this.length;return e.substr(t,r)},e.decode=function(t){var r;r=t instanceof T?t:new T(t,0);var n=new T(r),i=new S(r),o=e.decodeLength(r),s=r.pos,a=s-n.pos,l=null,c=function(){var t=[];if(null!==o){for(var n=s+o;r.pos<n;)t[t.length]=e.decode(r);if(r.pos!=n)throw new Error("Content size is not correct for container starting at offset "+s)}else try{for(;;){var i=e.decode(r);if(i.tag.isEOC())break;t[t.length]=i}o=s-r.pos}catch(a){throw new Error("Exception while decoding undefined length content: "+a)}return t};if(i.tagConstructed)l=c();else if(i.isUniversal()&&(3==i.tagNumber||4==i.tagNumber))try{if(3==i.tagNumber&&0!=r.get())throw new Error("BIT STRINGs with unused bits cannot encapsulate.");l=c();for(var u=0;u<l.length;++u)if(l[u].tag.isEOC())throw new Error("EOC is not supposed to be actual content.")}catch(h){l=null}if(null===l){if(null===o)throw new Error("We can't skip over an invalid tag with undefined length at offset "+s);r.pos=s+Math.abs(o)}return new e(n,a,o,i,l)},e}(),S=function(){function e(e){var t=e.get();if(this.tagClass=t>>6,this.tagConstructed=!!(32&t),this.tagNumber=31&t,31==this.tagNumber){var r=new v;do{t=e.get(),r.mulAdd(128,127&t)}while(128&t);this.tagNumber=r.simplify()}}return e.prototype.isUniversal=function(){return 0===this.tagClass},e.prototype.isEOC=function(){return 0===this.tagClass&&0===this.tagNumber},e}(),w=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],C=(1<<26)/w[w.length-1],P=function(){function e(e,t,r){null!=e&&("number"==typeof e?this.fromNumber(e,t,r):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}return e.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var r,i=(1<<t)-1,o=!1,s="",a=this.t,l=this.DB-a*this.DB%t;if(a-- >0)for(l<this.DB&&(r=this[a]>>l)>0&&(o=!0,s=n(r));a>=0;)l<t?(r=(this[a]&(1<<l)-1)<<t-l,r|=this[--a]>>(l+=this.DB-t)):(r=this[a]>>(l-=t)&i,l<=0&&(l+=this.DB,--a)),r>0&&(o=!0),o&&(s+=n(r));return o?s:"0"},e.prototype.negate=function(){var t=k();return e.ZERO.subTo(this,t),t},e.prototype.abs=function(){return this.s<0?this.negate():this},e.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.s<0?-t:t;for(;--r>=0;)if(0!=(t=this[r]-e[r]))return t;return 0},e.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+U(this[this.t-1]^this.s&this.DM)},e.prototype.mod=function(t){var r=k();return this.abs().divRemTo(t,null,r),this.s<0&&r.compareTo(e.ZERO)>0&&t.subTo(r,r),r},e.prototype.modPowInt=function(e,t){var r;return r=e<256||t.isEven()?new A(t):new I(t),this.exp(e,r)},e.prototype.clone=function(){var e=k();return this.copyTo(e),e},e.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},e.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},e.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},e.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},e.prototype.toByteArray=function(){var e=this.t,t=[];t[0]=this.s;var r,n=this.DB-e*this.DB%8,i=0;if(e-- >0)for(n<this.DB&&(r=this[e]>>n)!=(this.s&this.DM)>>n&&(t[i++]=r|this.s<<this.DB-n);e>=0;)n<8?(r=(this[e]&(1<<n)-1)<<8-n,r|=this[--e]>>(n+=this.DB-8)):(r=this[e]>>(n-=8)&255,n<=0&&(n+=this.DB,--e)),!!(128&r)&&(r|=-256),0==i&&(128&this.s)!=(128&r)&&++i,(i>0||r!=this.s)&&(t[i++]=r);return t},e.prototype.equals=function(e){return 0==this.compareTo(e)},e.prototype.min=function(e){return this.compareTo(e)<0?this:e},e.prototype.max=function(e){return this.compareTo(e)>0?this:e},e.prototype.and=function(e){var t=k();return this.bitwiseTo(e,i,t),t},e.prototype.or=function(e){var t=k();return this.bitwiseTo(e,o,t),t},e.prototype.xor=function(e){var t=k();return this.bitwiseTo(e,s,t),t},e.prototype.andNot=function(e){var t=k();return this.bitwiseTo(e,a,t),t},e.prototype.not=function(){for(var e=k(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},e.prototype.shiftLeft=function(e){var t=k();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},e.prototype.shiftRight=function(e){var t=k();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},e.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+l(this[e]);return this.s<0?this.t*this.DB:-1},e.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=c(this[r]^t);return e},e.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:!!(this[t]&1<<e%this.DB)},e.prototype.setBit=function(e){return this.changeBit(e,o)},e.prototype.clearBit=function(e){return this.changeBit(e,a)},e.prototype.flipBit=function(e){return this.changeBit(e,s)},e.prototype.add=function(e){var t=k();return this.addTo(e,t),t},e.prototype.subtract=function(e){var t=k();return this.subTo(e,t),t},e.prototype.multiply=function(e){var t=k();return this.multiplyTo(e,t),t},e.prototype.divide=function(e){var t=k();return this.divRemTo(e,t,null),t},e.prototype.remainder=function(e){var t=k();return this.divRemTo(e,null,t),t},e.prototype.divideAndRemainder=function(e){var t=k(),r=k();return this.divRemTo(e,t,r),[t,r]},e.prototype.modPow=function(e,t){var r,n,i=e.bitLength(),o=M(1);if(i<=0)return o;r=i<18?1:i<48?3:i<144?4:i<768?5:6,n=i<8?new A(t):t.isEven()?new R(t):new I(t);var s=[],a=3,l=r-1,c=(1<<r)-1;if(s[1]=n.convert(this),r>1){var u=k();for(n.sqrTo(s[1],u);a<=c;)s[a]=k(),n.mulTo(u,s[a-2],s[a]),a+=2}var h,d,p=e.t-1,f=!0,y=k();for(i=U(e[p])-1;p>=0;){for(i>=l?h=e[p]>>i-l&c:(h=(e[p]&(1<<i+1)-1)<<l-i,p>0&&(h|=e[p-1]>>this.DB+i-l)),a=r;!(1&h);)h>>=1,--a;if((i-=a)<0&&(i+=this.DB,--p),f)s[h].copyTo(o),f=!1;else{for(;a>1;)n.sqrTo(o,y),n.sqrTo(y,o),a-=2;a>0?n.sqrTo(o,y):(d=o,o=y,y=d),n.mulTo(y,s[h],o)}for(;p>=0&&!(e[p]&1<<i);)n.sqrTo(o,y),d=o,o=y,y=d,--i<0&&(i=this.DB-1,--p)}return n.revert(o)},e.prototype.modInverse=function(t){var r=t.isEven();if(this.isEven()&&r||0==t.signum())return e.ZERO;for(var n=t.clone(),i=this.clone(),o=M(1),s=M(0),a=M(0),l=M(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),r?(o.isEven()&&s.isEven()||(o.addTo(this,o),s.subTo(t,s)),o.rShiftTo(1,o)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);for(;i.isEven();)i.rShiftTo(1,i),r?(a.isEven()&&l.isEven()||(a.addTo(this,a),l.subTo(t,l)),a.rShiftTo(1,a)):l.isEven()||l.subTo(t,l),l.rShiftTo(1,l);n.compareTo(i)>=0?(n.subTo(i,n),r&&o.subTo(a,o),s.subTo(l,s)):(i.subTo(n,i),r&&a.subTo(o,a),l.subTo(s,l))}return 0!=i.compareTo(e.ONE)?e.ZERO:l.compareTo(t)>=0?l.subtract(t):l.signum()<0?(l.addTo(t,l),l.signum()<0?l.add(t):l):l},e.prototype.pow=function(e){return this.exp(e,new O)},e.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var i=t.getLowestSetBit(),o=r.getLowestSetBit();if(o<0)return t;for(i<o&&(o=i),o>0&&(t.rShiftTo(o,t),r.rShiftTo(o,r));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return o>0&&r.lShiftTo(o,r),r},e.prototype.isProbablePrime=function(e){var t,r=this.abs();if(1==r.t&&r[0]<=w[w.length-1]){for(t=0;t<w.length;++t)if(r[0]==w[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<w.length;){for(var n=w[t],i=t+1;i<w.length&&n<C;)n*=w[i++];for(n=r.modInt(n);t<i;)if(n%w[t++]==0)return!1}return r.millerRabin(e)},e.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},e.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},e.prototype.fromString=function(t,r){var n;if(16==r)n=4;else if(8==r)n=3;else if(256==r)n=8;else if(2==r)n=1;else if(32==r)n=5;else{if(4!=r)return void this.fromRadix(t,r);n=2}this.t=0,this.s=0;for(var i=t.length,o=!1,s=0;--i>=0;){var a=8==n?255&+t[i]:B(t,i);a<0?"-"==t.charAt(i)&&(o=!0):(o=!1,0==s?this[this.t++]=a:s+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this[this.t++]=a>>this.DB-s):this[this.t-1]|=a<<s,(s+=n)>=this.DB&&(s-=this.DB))}8==n&&!!(128&+t[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),o&&e.ZERO.subTo(this,this)},e.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},e.prototype.dlShiftTo=function(e,t){var r;for(r=this.t-1;r>=0;--r)t[r+e]=this[r];for(r=e-1;r>=0;--r)t[r]=0;t.t=this.t+e,t.s=this.s},e.prototype.drShiftTo=function(e,t){for(var r=e;r<this.t;++r)t[r-e]=this[r];t.t=Math.max(this.t-e,0),t.s=this.s},e.prototype.lShiftTo=function(e,t){for(var r=e%this.DB,n=this.DB-r,i=(1<<n)-1,o=Math.floor(e/this.DB),s=this.s<<r&this.DM,a=this.t-1;a>=0;--a)t[a+o+1]=this[a]>>n|s,s=(this[a]&i)<<r;for(a=o-1;a>=0;--a)t[a]=0;t[o]=s,t.t=this.t+o+1,t.s=this.s,t.clamp()},e.prototype.rShiftTo=function(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t)t.t=0;else{var n=e%this.DB,i=this.DB-n,o=(1<<n)-1;t[0]=this[r]>>n;for(var s=r+1;s<this.t;++s)t[s-r-1]|=(this[s]&o)<<i,t[s-r]=this[s]>>n;n>0&&(t[this.t-r-1]|=(this.s&o)<<i),t.t=this.t-r,t.clamp()}},e.prototype.subTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]-e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e[r],t[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t[r++]=this.DV+n:n>0&&(t[r++]=n),t.t=r,t.clamp()},e.prototype.multiplyTo=function(t,r){var n=this.abs(),i=t.abs(),o=n.t;for(r.t=o+i.t;--o>=0;)r[o]=0;for(o=0;o<i.t;++o)r[o+n.t]=n.am(0,i[o],r,o,0,n.t);r.s=0,r.clamp(),this.s!=t.s&&e.ZERO.subTo(r,r)},e.prototype.squareTo=function(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t[r],e,2*r,0,1);(e[r+t.t]+=t.am(r+1,2*t[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e[r+t.t]-=t.DV,e[r+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(r,t[r],e,2*r,0,1)),e.s=0,e.clamp()},e.prototype.divRemTo=function(t,r,n){var i=t.abs();if(!(i.t<=0)){var o=this.abs();if(o.t<i.t)return null!=r&&r.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=k());var s=k(),a=this.s,l=t.s,c=this.DB-U(i[i.t-1]);c>0?(i.lShiftTo(c,s),o.lShiftTo(c,n)):(i.copyTo(s),o.copyTo(n));var u=s.t,h=s[u-1];if(0!=h){var d=h*(1<<this.F1)+(u>1?s[u-2]>>this.F2:0),p=this.FV/d,f=(1<<this.F1)/d,y=1<<this.F2,g=n.t,v=g-u,m=null==r?k():r;for(s.dlShiftTo(v,m),n.compareTo(m)>=0&&(n[n.t++]=1,n.subTo(m,n)),e.ONE.dlShiftTo(u,m),m.subTo(s,s);s.t<u;)s[s.t++]=0;for(;--v>=0;){var _=n[--g]==h?this.DM:Math.floor(n[g]*p+(n[g-1]+y)*f);if((n[g]+=s.am(0,_,n,v,0,u))<_)for(s.dlShiftTo(v,m),n.subTo(m,n);n[g]<--_;)n.subTo(m,n)}null!=r&&(n.drShiftTo(u,r),a!=l&&e.ZERO.subTo(r,r)),n.t=u,n.clamp(),c>0&&n.rShiftTo(c,n),a<0&&e.ZERO.subTo(n,n)}}},e.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(!(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},e.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},e.prototype.exp=function(t,r){if(t>4294967295||t<1)return e.ONE;var n=k(),i=k(),o=r.convert(this),s=U(t)-1;for(o.copyTo(n);--s>=0;)if(r.sqrTo(n,i),(t&1<<s)>0)r.mulTo(i,o,n);else{var a=n;n=i,i=a}return r.revert(n)},e.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},e.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=M(r),i=k(),o=k(),s="";for(this.divRemTo(n,i,o);i.signum()>0;)s=(r+o.intValue()).toString(e).substr(1)+s,i.divRemTo(n,i,o);return o.intValue().toString(e)+s},e.prototype.fromRadix=function(t,r){this.fromInt(0),null==r&&(r=10);for(var n=this.chunkSize(r),i=Math.pow(r,n),o=!1,s=0,a=0,l=0;l<t.length;++l){var c=B(t,l);c<0?"-"==t.charAt(l)&&0==this.signum()&&(o=!0):(a=r*a+c,++s>=n&&(this.dMultiply(i),this.dAddOffset(a,0),s=0,a=0))}s>0&&(this.dMultiply(Math.pow(r,s)),this.dAddOffset(a,0)),o&&e.ZERO.subTo(this,this)},e.prototype.fromNumber=function(t,r,n){if("number"==typeof r)if(t<2)this.fromInt(1);else for(this.fromNumber(t,n),this.testBit(t-1)||this.bitwiseTo(e.ONE.shiftLeft(t-1),o,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(r);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(e.ONE.shiftLeft(t-1),this);else{var i=[],s=7&t;i.length=1+(t>>3),r.nextBytes(i),s>0?i[0]&=(1<<s)-1:i[0]=0,this.fromString(i,256)}},e.prototype.bitwiseTo=function(e,t,r){var n,i,o=Math.min(e.t,this.t);for(n=0;n<o;++n)r[n]=t(this[n],e[n]);if(e.t<this.t){for(i=e.s&this.DM,n=o;n<this.t;++n)r[n]=t(this[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=o;n<e.t;++n)r[n]=t(i,e[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()},e.prototype.changeBit=function(t,r){var n=e.ONE.shiftLeft(t);return this.bitwiseTo(n,r,n),n},e.prototype.addTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]+e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e[r],t[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t[r++]=n:n<-1&&(t[r++]=this.DV+n),t.t=r,t.clamp()},e.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},e.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},e.prototype.multiplyLowerTo=function(e,t,r){var n=Math.min(this.t+e.t,t);for(r.s=0,r.t=n;n>0;)r[--n]=0;for(var i=r.t-this.t;n<i;++n)r[n+this.t]=this.am(0,e[n],r,n,0,this.t);for(i=Math.min(e.t,t);n<i;++n)this.am(0,e[n],r,n,0,t-n);r.clamp()},e.prototype.multiplyUpperTo=function(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r[this.t+n-t]=this.am(t-n,e[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)},e.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(0==t)r=this[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this[n])%e;return r},e.prototype.millerRabin=function(t){var r=this.subtract(e.ONE),n=r.getLowestSetBit();if(n<=0)return!1;var i=r.shiftRight(n);(t=t+1>>1)>w.length&&(t=w.length);for(var o=k(),s=0;s<t;++s){o.fromInt(w[Math.floor(Math.random()*w.length)]);var a=o.modPow(i,this);if(0!=a.compareTo(e.ONE)&&0!=a.compareTo(r)){for(var l=1;l++<n&&0!=a.compareTo(r);)if(0==(a=a.modPowInt(2,this)).compareTo(e.ONE))return!1;if(0!=a.compareTo(r))return!1}}return!0},e.prototype.square=function(){var e=k();return this.squareTo(e),e},e.prototype.gcda=function(e,t){var r=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(r.compareTo(n)<0){var i=r;r=n,n=i}var o=r.getLowestSetBit(),s=n.getLowestSetBit();if(s<0)t(r);else{o<s&&(s=o),s>0&&(r.rShiftTo(s,r),n.rShiftTo(s,n));var a=function(){(o=r.getLowestSetBit())>0&&r.rShiftTo(o,r),(o=n.getLowestSetBit())>0&&n.rShiftTo(o,n),r.compareTo(n)>=0?(r.subTo(n,r),r.rShiftTo(1,r)):(n.subTo(r,n),n.rShiftTo(1,n)),r.signum()>0?setTimeout(a,0):(s>0&&n.lShiftTo(s,n),setTimeout((function(){t(n)}),0))};setTimeout(a,10)}},e.prototype.fromNumberAsync=function(t,r,n,i){if("number"==typeof r)if(t<2)this.fromInt(1);else{this.fromNumber(t,n),this.testBit(t-1)||this.bitwiseTo(e.ONE.shiftLeft(t-1),o,this),this.isEven()&&this.dAddOffset(1,0);var s=this,a=function(){s.dAddOffset(2,0),s.bitLength()>t&&s.subTo(e.ONE.shiftLeft(t-1),s),s.isProbablePrime(r)?setTimeout((function(){i()}),0):setTimeout(a,0)};setTimeout(a,0)}else{var l=[],c=7&t;l.length=1+(t>>3),r.nextBytes(l),c>0?l[0]&=(1<<c)-1:l[0]=0,this.fromString(l,256)}},e}(),O=function(){function e(){}return e.prototype.convert=function(e){return e},e.prototype.revert=function(e){return e},e.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r)},e.prototype.sqrTo=function(e,t){e.squareTo(t)},e}(),A=function(){function e(e){this.m=e}return e.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},e.prototype.revert=function(e){return e},e.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},e.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}(),I=function(){function e(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}return e.prototype.convert=function(e){var t=k();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(P.ZERO)>0&&this.m.subTo(t,t),t},e.prototype.revert=function(e){var t=k();return e.copyTo(t),this.reduce(t),t},e.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e[t],n=r*this.mpl+((r*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[r=t+this.m.t]+=this.m.am(0,n,e,t,0,this.m.t);e[r]>=e.DV;)e[r]-=e.DV,e[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},e.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}(),R=function(){function e(e){this.m=e,this.r2=k(),this.q3=k(),P.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e)}return e.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=k();return e.copyTo(t),this.reduce(t),t},e.prototype.revert=function(e){return e},e.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},e.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}();function k(){return new P(null)}function D(e,t){return new P(e,t)}var x="undefined"!=typeof navigator;x&&"Microsoft Internet Explorer"==navigator.appName?(P.prototype.am=function(e,t,r,n,i,o){for(var s=32767&t,a=t>>15;--o>=0;){var l=32767&this[e],c=this[e++]>>15,u=a*l+c*s;i=((l=s*l+((32767&u)<<15)+r[n]+(1073741823&i))>>>30)+(u>>>15)+a*c+(i>>>30),r[n++]=1073741823&l}return i},E=30):x&&"Netscape"!=navigator.appName?(P.prototype.am=function(e,t,r,n,i,o){for(;--o>=0;){var s=t*this[e++]+r[n]+i;i=Math.floor(s/67108864),r[n++]=67108863&s}return i},E=26):(P.prototype.am=function(e,t,r,n,i,o){for(var s=16383&t,a=t>>14;--o>=0;){var l=16383&this[e],c=this[e++]>>14,u=a*l+c*s;i=((l=s*l+((16383&u)<<14)+r[n]+i)>>28)+(u>>14)+a*c,r[n++]=268435455&l}return i},E=28),P.prototype.DB=E,P.prototype.DM=(1<<E)-1,P.prototype.DV=1<<E,P.prototype.FV=Math.pow(2,52),P.prototype.F1=52-E,P.prototype.F2=2*E-52;var L,N,j=[];for(L="0".charCodeAt(0),N=0;N<=9;++N)j[L++]=N;for(L="a".charCodeAt(0),N=10;N<36;++N)j[L++]=N;for(L="A".charCodeAt(0),N=10;N<36;++N)j[L++]=N;function B(e,t){var r=j[e.charCodeAt(t)];return null==r?-1:r}function M(e){var t=k();return t.fromInt(e),t}function U(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}P.ZERO=M(0),P.ONE=M(1);var F,H,V=function(){function e(){this.i=0,this.j=0,this.S=[]}return e.prototype.init=function(e){var t,r,n;for(t=0;t<256;++t)this.S[t]=t;for(r=0,t=0;t<256;++t)r=r+this.S[t]+e[t%e.length]&255,n=this.S[t],this.S[t]=this.S[r],this.S[r]=n;this.i=0,this.j=0},e.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]},e}(),K=null;if(null==K){K=[],H=0;var q=void 0;if(window.crypto&&window.crypto.getRandomValues){var G=new Uint32Array(256);for(window.crypto.getRandomValues(G),q=0;q<G.length;++q)K[H++]=255&G[q]}var Y=0,W=function(e){if((Y=Y||0)>=256||H>=256)window.removeEventListener?window.removeEventListener("mousemove",W,!1):window.detachEvent&&window.detachEvent("onmousemove",W);else try{var t=e.x+e.y;K[H++]=255&t,Y+=1}catch(r){}};window.addEventListener?window.addEventListener("mousemove",W,!1):window.attachEvent&&window.attachEvent("onmousemove",W)}function z(){if(null==F){for(F=new V;H<256;){var e=Math.floor(65536*Math.random());K[H++]=255&e}for(F.init(K),H=0;H<K.length;++H)K[H]=0;H=0}return F.next()}var Q=function(){function e(){}return e.prototype.nextBytes=function(e){for(var t=0;t<e.length;++t)e[t]=z()},e}(),J=function(){function e(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}return e.prototype.doPublic=function(e){return e.modPowInt(this.e,this.n)},e.prototype.doPrivate=function(e){if(null==this.p||null==this.q)return e.modPow(this.d,this.n);for(var t=e.mod(this.p).modPow(this.dmp1,this.p),r=e.mod(this.q).modPow(this.dmq1,this.q);t.compareTo(r)<0;)t=t.add(this.p);return t.subtract(r).multiply(this.coeff).mod(this.p).multiply(this.q).add(r)},e.prototype.setPublic=function(e,t){null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=D(e,16),this.e=parseInt(t,16)):console.error("Invalid RSA public key")},e.prototype.encrypt=function(e){var t=function(e,t){if(t<e.length+11)return console.error("Message too long for RSA"),null;for(var r=[],n=e.length-1;n>=0&&t>0;){var i=e.charCodeAt(n--);i<128?r[--t]=i:i>127&&i<2048?(r[--t]=63&i|128,r[--t]=i>>6|192):(r[--t]=63&i|128,r[--t]=i>>6&63|128,r[--t]=i>>12|224)}r[--t]=0;for(var o=new Q,s=[];t>2;){for(s[0]=0;0==s[0];)o.nextBytes(s);r[--t]=s[0]}return r[--t]=2,r[--t]=0,new P(r)}(e,this.n.bitLength()+7>>3);if(null==t)return null;var r=this.doPublic(t);if(null==r)return null;var n=r.toString(16);return 1&n.length?"0"+n:n},e.prototype.setPrivate=function(e,t,r){null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=D(e,16),this.e=parseInt(t,16),this.d=D(r,16)):console.error("Invalid RSA private key")},e.prototype.setPrivateEx=function(e,t,r,n,i,o,s,a){null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=D(e,16),this.e=parseInt(t,16),this.d=D(r,16),this.p=D(n,16),this.q=D(i,16),this.dmp1=D(o,16),this.dmq1=D(s,16),this.coeff=D(a,16)):console.error("Invalid RSA private key")},e.prototype.generate=function(e,t){var r=new Q,n=e>>1;this.e=parseInt(t,16);for(var i=new P(t,16);;){for(;this.p=new P(e-n,1,r),0!=this.p.subtract(P.ONE).gcd(i).compareTo(P.ONE)||!this.p.isProbablePrime(10););for(;this.q=new P(n,1,r),0!=this.q.subtract(P.ONE).gcd(i).compareTo(P.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var o=this.p;this.p=this.q,this.q=o}var s=this.p.subtract(P.ONE),a=this.q.subtract(P.ONE),l=s.multiply(a);if(0==l.gcd(i).compareTo(P.ONE)){this.n=this.p.multiply(this.q),this.d=i.modInverse(l),this.dmp1=this.d.mod(s),this.dmq1=this.d.mod(a),this.coeff=this.q.modInverse(this.p);break}}},e.prototype.decrypt=function(e){var t=D(e,16),r=this.doPrivate(t);return null==r?null:function(e,t){for(var r=e.toByteArray(),n=0;n<r.length&&0==r[n];)++n;if(r.length-n!=t-1||2!=r[n])return null;for(++n;0!=r[n];)if(++n>=r.length)return null;for(var i="";++n<r.length;){var o=255&r[n];o<128?i+=String.fromCharCode(o):o>191&&o<224?(i+=String.fromCharCode((31&o)<<6|63&r[n+1]),++n):(i+=String.fromCharCode((15&o)<<12|(63&r[n+1])<<6|63&r[n+2]),n+=2)}return i}(r,this.n.bitLength()+7>>3)},e.prototype.generateAsync=function(e,t,r){var n=new Q,i=e>>1;this.e=parseInt(t,16);var o=new P(t,16),s=this,a=function(){var t=function(){if(s.p.compareTo(s.q)<=0){var e=s.p;s.p=s.q,s.q=e}var t=s.p.subtract(P.ONE),n=s.q.subtract(P.ONE),i=t.multiply(n);0==i.gcd(o).compareTo(P.ONE)?(s.n=s.p.multiply(s.q),s.d=o.modInverse(i),s.dmp1=s.d.mod(t),s.dmq1=s.d.mod(n),s.coeff=s.q.modInverse(s.p),setTimeout((function(){r()}),0)):setTimeout(a,0)},l=function(){s.q=k(),s.q.fromNumberAsync(i,1,n,(function(){s.q.subtract(P.ONE).gcda(o,(function(e){0==e.compareTo(P.ONE)&&s.q.isProbablePrime(10)?setTimeout(t,0):setTimeout(l,0)}))}))},c=function(){s.p=k(),s.p.fromNumberAsync(e-i,1,n,(function(){s.p.subtract(P.ONE).gcda(o,(function(e){0==e.compareTo(P.ONE)&&s.p.isProbablePrime(10)?setTimeout(l,0):setTimeout(c,0)}))}))};setTimeout(c,0)};setTimeout(a,0)},e.prototype.sign=function(e,t,r){var n=function(e,t){if(t<e.length+22)return console.error("Message too long for RSA"),null;for(var r=t-e.length-6,n="",i=0;i<r;i+=2)n+="ff";return D("0001"+n+"00"+e,16)}((X[r]||"")+t(e).toString(),this.n.bitLength()/4);if(null==n)return null;var i=this.doPrivate(n);if(null==i)return null;var o=i.toString(16);return 1&o.length?"0"+o:o},e.prototype.verify=function(e,t,r){var n=D(t,16),i=this.doPublic(n);return null==i?null:function(e){for(var t in X)if(X.hasOwnProperty(t)){var r=X[t],n=r.length;if(e.substr(0,n)==r)return e.substr(n)}return e}(i.toString(16).replace(/^1f+00/,""))==r(e).toString()},e}(),X={md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",ripemd160:"3021300906052b2403020105000414"},Z={};Z.lang={extend:function(e,t,r){if(!t||!e)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var n=function(){};if(n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t),r){var i;for(i in r)e.prototype[i]=r[i];var o=function(){},s=["toString","valueOf"];try{/MSIE/.test(navigator.userAgent)&&(o=function(e,t){for(i=0;i<s.length;i+=1){var r=s[i],n=t[r];"function"==typeof n&&n!=Object.prototype[r]&&(e[r]=n)}})}catch(a){}o(e.prototype,r)}}};
/**
           * @fileOverview
           * @name asn1-1.0.js
           * @author Kenji Urushima kenji.urushima@gmail.com
           * @version asn1 1.0.13 (2017-Jun-02)
           * @since jsrsasign 2.1
           * @license <a href="https://kjur.github.io/jsrsasign/license/">MIT License</a>
           */
var ee={};void 0!==ee.asn1&&ee.asn1||(ee.asn1={}),ee.asn1.ASN1Util=new function(){this.integerToByteHex=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.bigIntToMinTwosComplementsHex=function(e){var t=e.toString(16);if("-"!=t.substr(0,1))t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t);else{var r=t.substr(1).length;r%2==1?r+=1:t.match(/^[0-7]/)||(r+=2);for(var n="",i=0;i<r;i++)n+="f";t=new P(n,16).xor(e).add(P.ONE).toString(16).replace(/^-/,"")}return t},this.getPEMStringFromHex=function(e,t){return hextopem(e,t)},this.newObject=function(e){var t=ee.asn1,r=t.DERBoolean,n=t.DERInteger,i=t.DERBitString,o=t.DEROctetString,s=t.DERNull,a=t.DERObjectIdentifier,l=t.DEREnumerated,c=t.DERUTF8String,u=t.DERNumericString,h=t.DERPrintableString,d=t.DERTeletexString,p=t.DERIA5String,f=t.DERUTCTime,y=t.DERGeneralizedTime,g=t.DERSequence,v=t.DERSet,m=t.DERTaggedObject,_=t.ASN1Util.newObject,b=Object.keys(e);if(1!=b.length)throw"key of param shall be only one.";var E=b[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+E+":"))throw"undefined key: "+E;if("bool"==E)return new r(e[E]);if("int"==E)return new n(e[E]);if("bitstr"==E)return new i(e[E]);if("octstr"==E)return new o(e[E]);if("null"==E)return new s(e[E]);if("oid"==E)return new a(e[E]);if("enum"==E)return new l(e[E]);if("utf8str"==E)return new c(e[E]);if("numstr"==E)return new u(e[E]);if("prnstr"==E)return new h(e[E]);if("telstr"==E)return new d(e[E]);if("ia5str"==E)return new p(e[E]);if("utctime"==E)return new f(e[E]);if("gentime"==E)return new y(e[E]);if("seq"==E){for(var T=e[E],$=[],S=0;S<T.length;S++){var w=_(T[S]);$.push(w)}return new g({array:$})}if("set"==E){for(T=e[E],$=[],S=0;S<T.length;S++)w=_(T[S]),$.push(w);return new v({array:$})}if("tag"==E){var C=e[E];if("[object Array]"===Object.prototype.toString.call(C)&&3==C.length){var P=_(C[2]);return new m({tag:C[0],explicit:C[1],obj:P})}var O={};if(void 0!==C.explicit&&(O.explicit=C.explicit),void 0!==C.tag&&(O.tag=C.tag),void 0===C.obj)throw"obj shall be specified for 'tag'.";return O.obj=_(C.obj),new m(O)}},this.jsonToASN1HEX=function(e){return this.newObject(e).getEncodedHex()}},ee.asn1.ASN1Util.oidHexToInt=function(e){for(var t="",r=parseInt(e.substr(0,2),16),n=(t=Math.floor(r/40)+"."+r%40,""),i=2;i<e.length;i+=2){var o=("00000000"+parseInt(e.substr(i,2),16).toString(2)).slice(-8);n+=o.substr(1,7),"0"==o.substr(0,1)&&(t=t+"."+new P(n,2).toString(10),n="")}return t},ee.asn1.ASN1Util.oidIntToHex=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},r=function(e){var r="",n=new P(e,10).toString(2),i=7-n.length%7;7==i&&(i=0);for(var o="",s=0;s<i;s++)o+="0";for(n=o+n,s=0;s<n.length-1;s+=7){var a=n.substr(s,7);s!=n.length-7&&(a="1"+a),r+=t(parseInt(a,2))}return r};if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var n="",i=e.split("."),o=40*parseInt(i[0])+parseInt(i[1]);n+=t(o),i.splice(0,2);for(var s=0;s<i.length;s++)n+=r(i[s]);return n},ee.asn1.ASN1Object=function(){this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n=0,v="+this.hV;var e=this.hV.length/2,t=e.toString(16);if(t.length%2==1&&(t="0"+t),e<128)return t;var r=t.length/2;if(r>15)throw"ASN.1 length too long to represent by 8x: n = "+e.toString(16);return(128+r).toString(16)+t},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},ee.asn1.DERAbstractString=function(e){ee.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=stohex(this.s)},this.setStringHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?this.setString(e):void 0!==e.str?this.setString(e.str):void 0!==e.hex&&this.setStringHex(e.hex))},Z.lang.extend(ee.asn1.DERAbstractString,ee.asn1.ASN1Object),ee.asn1.DERAbstractTime=function(e){ee.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(e){return utc=e.getTime()+6e4*e.getTimezoneOffset(),new Date(utc)},this.formatDate=function(e,t,r){var n=this.zeroPadding,i=this.localDateToUTC(e),o=String(i.getFullYear());"utc"==t&&(o=o.substr(2,2));var s=o+n(String(i.getMonth()+1),2)+n(String(i.getDate()),2)+n(String(i.getHours()),2)+n(String(i.getMinutes()),2)+n(String(i.getSeconds()),2);if(!0===r){var a=i.getMilliseconds();if(0!=a){var l=n(String(a),3);s=s+"."+(l=l.replace(/[0]+$/,""))}}return s+"Z"},this.zeroPadding=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=stohex(e)},this.setByDateValue=function(e,t,r,n,i,o){var s=new Date(Date.UTC(e,t-1,r,n,i,o,0));this.setByDate(s)},this.getFreshValueHex=function(){return this.hV}},Z.lang.extend(ee.asn1.DERAbstractTime,ee.asn1.ASN1Object),ee.asn1.DERAbstractStructured=function(e){ee.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array=e},this.appendASN1Object=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array.push(e)},this.asn1Array=new Array,void 0!==e&&void 0!==e.array&&(this.asn1Array=e.array)},Z.lang.extend(ee.asn1.DERAbstractStructured,ee.asn1.ASN1Object),ee.asn1.DERBoolean=function(){ee.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},Z.lang.extend(ee.asn1.DERBoolean,ee.asn1.ASN1Object),ee.asn1.DERInteger=function(e){ee.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=ee.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new P(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.bigint?this.setByBigInteger(e.bigint):void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},Z.lang.extend(ee.asn1.DERInteger,ee.asn1.ASN1Object),ee.asn1.DERBitString=function(e){if(void 0!==e&&void 0!==e.obj){var t=ee.asn1.ASN1Util.newObject(e.obj);e.hex="00"+t.getEncodedHex()}ee.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(e){this.hTLV=null,this.isModified=!0,this.hV=e},this.setUnusedBitsAndHexValue=function(e,t){if(e<0||7<e)throw"unused bits shall be from 0 to 7: u = "+e;var r="0"+e;this.hTLV=null,this.isModified=!0,this.hV=r+t},this.setByBinaryString=function(e){var t=8-(e=e.replace(/0+$/,"")).length%8;8==t&&(t=0);for(var r=0;r<=t;r++)e+="0";var n="";for(r=0;r<e.length-1;r+=8){var i=e.substr(r,8),o=parseInt(i,2).toString(16);1==o.length&&(o="0"+o),n+=o}this.hTLV=null,this.isModified=!0,this.hV="0"+t+n},this.setByBooleanArray=function(e){for(var t="",r=0;r<e.length;r++)1==e[r]?t+="1":t+="0";this.setByBinaryString(t)},this.newFalseArray=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=!1;return t},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e&&e.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(e):void 0!==e.hex?this.setHexValueIncludingUnusedBits(e.hex):void 0!==e.bin?this.setByBinaryString(e.bin):void 0!==e.array&&this.setByBooleanArray(e.array))},Z.lang.extend(ee.asn1.DERBitString,ee.asn1.ASN1Object),ee.asn1.DEROctetString=function(e){if(void 0!==e&&void 0!==e.obj){var t=ee.asn1.ASN1Util.newObject(e.obj);e.hex=t.getEncodedHex()}ee.asn1.DEROctetString.superclass.constructor.call(this,e),this.hT="04"},Z.lang.extend(ee.asn1.DEROctetString,ee.asn1.DERAbstractString),ee.asn1.DERNull=function(){ee.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},Z.lang.extend(ee.asn1.DERNull,ee.asn1.ASN1Object),ee.asn1.DERObjectIdentifier=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},r=function(e){var r="",n=new P(e,10).toString(2),i=7-n.length%7;7==i&&(i=0);for(var o="",s=0;s<i;s++)o+="0";for(n=o+n,s=0;s<n.length-1;s+=7){var a=n.substr(s,7);s!=n.length-7&&(a="1"+a),r+=t(parseInt(a,2))}return r};ee.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueOidString=function(e){if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var n="",i=e.split("."),o=40*parseInt(i[0])+parseInt(i[1]);n+=t(o),i.splice(0,2);for(var s=0;s<i.length;s++)n+=r(i[s]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=n},this.setValueName=function(e){var t=ee.asn1.x509.OID.name2oid(e);if(""===t)throw"DERObjectIdentifier oidName undefined: "+e;this.setValueOidString(t)},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?e.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(e):this.setValueName(e):void 0!==e.oid?this.setValueOidString(e.oid):void 0!==e.hex?this.setValueHex(e.hex):void 0!==e.name&&this.setValueName(e.name))},Z.lang.extend(ee.asn1.DERObjectIdentifier,ee.asn1.ASN1Object),ee.asn1.DEREnumerated=function(e){ee.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=ee.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new P(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},Z.lang.extend(ee.asn1.DEREnumerated,ee.asn1.ASN1Object),ee.asn1.DERUTF8String=function(e){ee.asn1.DERUTF8String.superclass.constructor.call(this,e),this.hT="0c"},Z.lang.extend(ee.asn1.DERUTF8String,ee.asn1.DERAbstractString),ee.asn1.DERNumericString=function(e){ee.asn1.DERNumericString.superclass.constructor.call(this,e),this.hT="12"},Z.lang.extend(ee.asn1.DERNumericString,ee.asn1.DERAbstractString),ee.asn1.DERPrintableString=function(e){ee.asn1.DERPrintableString.superclass.constructor.call(this,e),this.hT="13"},Z.lang.extend(ee.asn1.DERPrintableString,ee.asn1.DERAbstractString),ee.asn1.DERTeletexString=function(e){ee.asn1.DERTeletexString.superclass.constructor.call(this,e),this.hT="14"},Z.lang.extend(ee.asn1.DERTeletexString,ee.asn1.DERAbstractString),ee.asn1.DERIA5String=function(e){ee.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="16"},Z.lang.extend(ee.asn1.DERIA5String,ee.asn1.DERAbstractString),ee.asn1.DERUTCTime=function(e){ee.asn1.DERUTCTime.superclass.constructor.call(this,e),this.hT="17",this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{12}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date))},Z.lang.extend(ee.asn1.DERUTCTime,ee.asn1.DERAbstractTime),ee.asn1.DERGeneralizedTime=function(e){ee.asn1.DERGeneralizedTime.superclass.constructor.call(this,e),this.hT="18",this.withMillis=!1,this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{14}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date),!0===e.millis&&(this.withMillis=!0))},Z.lang.extend(ee.asn1.DERGeneralizedTime,ee.asn1.DERAbstractTime),ee.asn1.DERSequence=function(e){ee.asn1.DERSequence.superclass.constructor.call(this,e),this.hT="30",this.getFreshValueHex=function(){for(var e="",t=0;t<this.asn1Array.length;t++)e+=this.asn1Array[t].getEncodedHex();return this.hV=e,this.hV}},Z.lang.extend(ee.asn1.DERSequence,ee.asn1.DERAbstractStructured),ee.asn1.DERSet=function(e){ee.asn1.DERSet.superclass.constructor.call(this,e),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var e=new Array,t=0;t<this.asn1Array.length;t++){var r=this.asn1Array[t];e.push(r.getEncodedHex())}return 1==this.sortFlag&&e.sort(),this.hV=e.join(""),this.hV},void 0!==e&&void 0!==e.sortflag&&0==e.sortflag&&(this.sortFlag=!1)},Z.lang.extend(ee.asn1.DERSet,ee.asn1.DERAbstractStructured),ee.asn1.DERTaggedObject=function(e){ee.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(e,t,r){this.hT=t,this.isExplicit=e,this.asn1Object=r,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=r.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,t),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.tag&&(this.hT=e.tag),void 0!==e.explicit&&(this.isExplicit=e.explicit),void 0!==e.obj&&(this.asn1Object=e.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},Z.lang.extend(ee.asn1.DERTaggedObject,ee.asn1.ASN1Object);var te,re=(te=function(e,t){return(te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}te(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),ne=function(e){function t(r){var n=e.call(this)||this;return r&&("string"==typeof r?n.parseKey(r):(t.hasPrivateKeyProperty(r)||t.hasPublicKeyProperty(r))&&n.parsePropertiesFrom(r)),n}return re(t,e),t.prototype.parseKey=function(e){try{var t=0,r=0,n=/^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/.test(e)?function(e){var t;if(void 0===u){var r="0123456789ABCDEF",n=" \f\n\r\t \u2028\u2029";for(u={},t=0;t<16;++t)u[r.charAt(t)]=t;for(r=r.toLowerCase(),t=10;t<16;++t)u[r.charAt(t)]=t;for(t=0;t<8;++t)u[n.charAt(t)]=-1}var i=[],o=0,s=0;for(t=0;t<e.length;++t){var a=e.charAt(t);if("="==a)break;if(-1!=(a=u[a])){if(void 0===a)throw new Error("Illegal character at offset "+t);o|=a,++s>=2?(i[i.length]=o,o=0,s=0):o<<=4}}if(s)throw new Error("Hex encoding incomplete: 4 bits missing");return i}(e):y.unarmor(e),i=$.decode(n);if(3===i.sub.length&&(i=i.sub[2].sub[0]),9===i.sub.length){t=i.sub[1].getHexStringValue(),this.n=D(t,16),r=i.sub[2].getHexStringValue(),this.e=parseInt(r,16);var o=i.sub[3].getHexStringValue();this.d=D(o,16);var s=i.sub[4].getHexStringValue();this.p=D(s,16);var a=i.sub[5].getHexStringValue();this.q=D(a,16);var l=i.sub[6].getHexStringValue();this.dmp1=D(l,16);var c=i.sub[7].getHexStringValue();this.dmq1=D(c,16);var h=i.sub[8].getHexStringValue();this.coeff=D(h,16)}else{if(2!==i.sub.length)return!1;var d=i.sub[1].sub[0];t=d.sub[0].getHexStringValue(),this.n=D(t,16),r=d.sub[1].getHexStringValue(),this.e=parseInt(r,16)}return!0}catch(p){return!1}},t.prototype.getPrivateBaseKey=function(){var e={array:[new ee.asn1.DERInteger({int:0}),new ee.asn1.DERInteger({bigint:this.n}),new ee.asn1.DERInteger({int:this.e}),new ee.asn1.DERInteger({bigint:this.d}),new ee.asn1.DERInteger({bigint:this.p}),new ee.asn1.DERInteger({bigint:this.q}),new ee.asn1.DERInteger({bigint:this.dmp1}),new ee.asn1.DERInteger({bigint:this.dmq1}),new ee.asn1.DERInteger({bigint:this.coeff})]};return new ee.asn1.DERSequence(e).getEncodedHex()},t.prototype.getPrivateBaseKeyB64=function(){return d(this.getPrivateBaseKey())},t.prototype.getPublicBaseKey=function(){var e=new ee.asn1.DERSequence({array:[new ee.asn1.DERObjectIdentifier({oid:"1.2.840.113549.1.1.1"}),new ee.asn1.DERNull]}),t=new ee.asn1.DERSequence({array:[new ee.asn1.DERInteger({bigint:this.n}),new ee.asn1.DERInteger({int:this.e})]}),r=new ee.asn1.DERBitString({hex:"00"+t.getEncodedHex()});return new ee.asn1.DERSequence({array:[e,r]}).getEncodedHex()},t.prototype.getPublicBaseKeyB64=function(){return d(this.getPublicBaseKey())},t.wordwrap=function(e,t){if(!e)return e;var r="(.{1,"+(t=t||64)+"})( +|$\n?)|(.{1,"+t+"})";return e.match(RegExp(r,"g")).join("\n")},t.prototype.getPrivateKey=function(){var e="-----BEGIN RSA PRIVATE KEY-----\n";return(e+=t.wordwrap(this.getPrivateBaseKeyB64())+"\n")+"-----END RSA PRIVATE KEY-----"},t.prototype.getPublicKey=function(){var e="-----BEGIN PUBLIC KEY-----\n";return(e+=t.wordwrap(this.getPublicBaseKeyB64())+"\n")+"-----END PUBLIC KEY-----"},t.hasPublicKeyProperty=function(e){return(e=e||{}).hasOwnProperty("n")&&e.hasOwnProperty("e")},t.hasPrivateKeyProperty=function(e){return(e=e||{}).hasOwnProperty("n")&&e.hasOwnProperty("e")&&e.hasOwnProperty("d")&&e.hasOwnProperty("p")&&e.hasOwnProperty("q")&&e.hasOwnProperty("dmp1")&&e.hasOwnProperty("dmq1")&&e.hasOwnProperty("coeff")},t.prototype.parsePropertiesFrom=function(e){this.n=e.n,this.e=e.e,e.hasOwnProperty("d")&&(this.d=e.d,this.p=e.p,this.q=e.q,this.dmp1=e.dmp1,this.dmq1=e.dmq1,this.coeff=e.coeff)},t}(J);const ie=function(){function e(e){e=e||{},this.default_key_size=e.default_key_size?parseInt(e.default_key_size,10):1024,this.default_public_exponent=e.default_public_exponent||"010001",this.log=e.log||!1,this.key=null}return e.prototype.setKey=function(e){this.log&&this.key&&console.warn("A key was already set, overriding existing."),this.key=new ne(e)},e.prototype.setPrivateKey=function(e){this.setKey(e)},e.prototype.setPublicKey=function(e){this.setKey(e)},e.prototype.decrypt=function(e){try{return this.getKey().decrypt(p(e))}catch(t){return!1}},e.prototype.encrypt=function(e){try{return d(this.getKey().encrypt(e))}catch(t){return!1}},e.prototype.sign=function(e,t,r){try{return d(this.getKey().sign(e,t,r))}catch(n){return!1}},e.prototype.verify=function(e,t,r){try{return this.getKey().verify(e,p(t),r)}catch(n){return!1}},e.prototype.getKey=function(e){if(!this.key){if(this.key=new ne,e&&"[object Function]"==={}.toString.call(e))return void this.key.generateAsync(this.default_key_size,this.default_public_exponent,e);this.key.generate(this.default_key_size,this.default_public_exponent)}return this.key},e.prototype.getPrivateKey=function(){return this.getKey().getPrivateKey()},e.prototype.getPrivateKeyB64=function(){return this.getKey().getPrivateBaseKeyB64()},e.prototype.getPublicKey=function(){return this.getKey().getPublicKey()},e.prototype.getPublicKeyB64=function(){return this.getKey().getPublicBaseKeyB64()},e.version="3.0.1",e}()},409:(e,t,r)=>{var n,i,o,s,a;n=r(168),i=r(216).utf8,o=r(551),s=r(216).bin,(a=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?s.stringToBytes(e):i.stringToBytes(e):o(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var r=n.bytesToWords(e),l=8*e.length,c=1732584193,u=-271733879,h=-1732584194,d=271733878,p=0;p<r.length;p++)r[p]=16711935&(r[p]<<8|r[p]>>>24)|4278255360&(r[p]<<24|r[p]>>>8);r[l>>>5]|=128<<l%32,r[14+(l+64>>>9<<4)]=l;var f=a._ff,y=a._gg,g=a._hh,v=a._ii;for(p=0;p<r.length;p+=16){var m=c,_=u,b=h,E=d;c=f(c,u,h,d,r[p+0],7,-680876936),d=f(d,c,u,h,r[p+1],12,-389564586),h=f(h,d,c,u,r[p+2],17,606105819),u=f(u,h,d,c,r[p+3],22,-1044525330),c=f(c,u,h,d,r[p+4],7,-176418897),d=f(d,c,u,h,r[p+5],12,1200080426),h=f(h,d,c,u,r[p+6],17,-1473231341),u=f(u,h,d,c,r[p+7],22,-45705983),c=f(c,u,h,d,r[p+8],7,1770035416),d=f(d,c,u,h,r[p+9],12,-1958414417),h=f(h,d,c,u,r[p+10],17,-42063),u=f(u,h,d,c,r[p+11],22,-1990404162),c=f(c,u,h,d,r[p+12],7,1804603682),d=f(d,c,u,h,r[p+13],12,-40341101),h=f(h,d,c,u,r[p+14],17,-1502002290),c=y(c,u=f(u,h,d,c,r[p+15],22,1236535329),h,d,r[p+1],5,-165796510),d=y(d,c,u,h,r[p+6],9,-1069501632),h=y(h,d,c,u,r[p+11],14,643717713),u=y(u,h,d,c,r[p+0],20,-373897302),c=y(c,u,h,d,r[p+5],5,-701558691),d=y(d,c,u,h,r[p+10],9,38016083),h=y(h,d,c,u,r[p+15],14,-660478335),u=y(u,h,d,c,r[p+4],20,-405537848),c=y(c,u,h,d,r[p+9],5,568446438),d=y(d,c,u,h,r[p+14],9,-1019803690),h=y(h,d,c,u,r[p+3],14,-187363961),u=y(u,h,d,c,r[p+8],20,1163531501),c=y(c,u,h,d,r[p+13],5,-1444681467),d=y(d,c,u,h,r[p+2],9,-51403784),h=y(h,d,c,u,r[p+7],14,1735328473),c=g(c,u=y(u,h,d,c,r[p+12],20,-1926607734),h,d,r[p+5],4,-378558),d=g(d,c,u,h,r[p+8],11,-2022574463),h=g(h,d,c,u,r[p+11],16,1839030562),u=g(u,h,d,c,r[p+14],23,-35309556),c=g(c,u,h,d,r[p+1],4,-1530992060),d=g(d,c,u,h,r[p+4],11,1272893353),h=g(h,d,c,u,r[p+7],16,-155497632),u=g(u,h,d,c,r[p+10],23,-1094730640),c=g(c,u,h,d,r[p+13],4,681279174),d=g(d,c,u,h,r[p+0],11,-358537222),h=g(h,d,c,u,r[p+3],16,-722521979),u=g(u,h,d,c,r[p+6],23,76029189),c=g(c,u,h,d,r[p+9],4,-640364487),d=g(d,c,u,h,r[p+12],11,-421815835),h=g(h,d,c,u,r[p+15],16,530742520),c=v(c,u=g(u,h,d,c,r[p+2],23,-995338651),h,d,r[p+0],6,-198630844),d=v(d,c,u,h,r[p+7],10,1126891415),h=v(h,d,c,u,r[p+14],15,-1416354905),u=v(u,h,d,c,r[p+5],21,-57434055),c=v(c,u,h,d,r[p+12],6,1700485571),d=v(d,c,u,h,r[p+3],10,-1894986606),h=v(h,d,c,u,r[p+10],15,-1051523),u=v(u,h,d,c,r[p+1],21,-2054922799),c=v(c,u,h,d,r[p+8],6,1873313359),d=v(d,c,u,h,r[p+15],10,-30611744),h=v(h,d,c,u,r[p+6],15,-1560198380),u=v(u,h,d,c,r[p+13],21,1309151649),c=v(c,u,h,d,r[p+4],6,-145523070),d=v(d,c,u,h,r[p+11],10,-1120210379),h=v(h,d,c,u,r[p+2],15,718787259),u=v(u,h,d,c,r[p+9],21,-343485551),c=c+m>>>0,u=u+_>>>0,h=h+b>>>0,d=d+E>>>0}return n.endian([c,u,h,d])})._ff=function(e,t,r,n,i,o,s){var a=e+(t&r|~t&n)+(i>>>0)+s;return(a<<o|a>>>32-o)+t},a._gg=function(e,t,r,n,i,o,s){var a=e+(t&n|r&~n)+(i>>>0)+s;return(a<<o|a>>>32-o)+t},a._hh=function(e,t,r,n,i,o,s){var a=e+(t^r^n)+(i>>>0)+s;return(a<<o|a>>>32-o)+t},a._ii=function(e,t,r,n,i,o,s){var a=e+(r^(t|~n))+(i>>>0)+s;return(a<<o|a>>>32-o)+t},a._blocksize=16,a._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var r=n.wordsToBytes(a(e,t));return t&&t.asBytes?r:t&&t.asString?s.bytesToString(r):n.bytesToHex(r)}},802:e=>{var t=function(e){return e.replace(/^\s+|\s+$/g,"")};e.exports=function(e){if(!e)return{};for(var r,n={},i=t(e).split("\n"),o=0;o<i.length;o++){var s=i[o],a=s.indexOf(":"),l=t(s.slice(0,a)).toLowerCase(),c=t(s.slice(a+1));void 0===n[l]?n[l]=c:(r=n[l],"[object Array]"===Object.prototype.toString.call(r)?n[l].push(c):n[l]=[n[l],c])}return n}},415:(e,t,r)=>{var n=r(579),i=r(135),o=r(802),s=r(515);function a(e,t,r){var n=e;return i(t)?(r=t,"string"==typeof e&&(n={uri:e})):n=s(t,{uri:e}),n.callback=r,n}function l(e,t,r){return c(t=a(e,t,r))}function c(e){if(void 0===e.callback)throw new Error("callback argument missing");var t=!1,r=function(r,n,i){t||(t=!0,e.callback(r,n,i))};function n(){var e=void 0;if(e=u.response?u.response:u.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(r){}return null}(u),v)try{e=JSON.parse(e)}catch(t){}return e}function i(e){return clearTimeout(h),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,r(e,m)}function s(){if(!c){var t;clearTimeout(h),t=e.useXDR&&void 0===u.status?200:1223===u.status?204:u.status;var i=m,s=null;return 0!==t?(i={body:n(),statusCode:t,method:p,headers:{},url:d,rawRequest:u},u.getAllResponseHeaders&&(i.headers=o(u.getAllResponseHeaders()))):s=new Error("Internal XMLHttpRequest Error"),r(s,i,i.body)}}var a,c,u=e.xhr||null;u||(u=e.cors||e.useXDR?new l.XDomainRequest:new l.XMLHttpRequest);var h,d=u.url=e.uri||e.url,p=u.method=e.method||"GET",f=e.body||e.data,y=u.headers=e.headers||{},g=!!e.sync,v=!1,m={body:void 0,headers:{},statusCode:0,method:p,url:d,rawRequest:u};if("json"in e&&!1!==e.json&&(v=!0,y.accept||y.Accept||(y.Accept="application/json"),"GET"!==p&&"HEAD"!==p&&(y["content-type"]||y["Content-Type"]||(y["Content-Type"]="application/json"),f=JSON.stringify(!0===e.json?f:e.json))),u.onreadystatechange=function(){4===u.readyState&&setTimeout(s,0)},u.onload=s,u.onerror=i,u.onprogress=function(){},u.onabort=function(){c=!0},u.ontimeout=i,u.open(p,d,!g,e.username,e.password),g||(u.withCredentials=!!e.withCredentials),!g&&e.timeout>0&&(h=setTimeout((function(){if(!c){c=!0,u.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",i(e)}}),e.timeout)),u.setRequestHeader)for(a in y)y.hasOwnProperty(a)&&u.setRequestHeader(a,y[a]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(u.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(u),u.send(f||null),u}e.exports=l,e.exports.default=l,l.XMLHttpRequest=n.XMLHttpRequest||function(){},l.XDomainRequest="withCredentials"in new l.XMLHttpRequest?l.XMLHttpRequest:n.XDomainRequest,function(e,t){for(var r=0;r<e.length;r++)t(e[r])}(["get","put","post","patch","head","delete"],(function(e){l["delete"===e?"del":e]=function(t,r,n){return(r=a(t,r,n)).method=e.toUpperCase(),c(r)}}))},515:e=>{e.exports=function(){for(var e={},r=0;r<arguments.length;r++){var n=arguments[r];for(var i in n)t.call(n,i)&&(e[i]=n[i])}return e};var t=Object.prototype.hasOwnProperty},533:()=>{}},__webpack_module_cache__={};function __webpack_require__(e){if(__webpack_module_cache__[e])return __webpack_module_cache__[e].exports;var t=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](t,t.exports,__webpack_require__),t.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};return(()=>{var e=__webpack_exports__,t=__webpack_require__(727);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.default=void 0;var n=u(__webpack_require__(415)),i=c(__webpack_require__(464)),o=c(__webpack_require__(95)),s=u(__webpack_require__(132)),a=__webpack_require__(672);function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function c(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}function u(e){return e&&e.__esModule?e:{default:e}}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var y=window.navigator.userAgent.toLowerCase(),g=window.navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i),v=-1!==y.indexOf("quark"),m=["playvideo.qcloud.com","bkplayvideo.qcloud.com","playvideo.vodglcdn.com"],_=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.checkEnv(t),this.getVideoInfo(r),this.callback=n,this.hlsConfig=r.hlsConfig||{}}var r,l,c;return r=e,c=[{key:"isSupported",value:function(){return i.isSupported()}}],(l=[{key:"checkEnv",value:function(e){if(i.isSupported()&&this.loadHls(),"string"==typeof e)this.el=document.querySelector("#"+e);else{if(!e||!e.nodeName)throw new Error("The ID or element supplied is not valid.");this.el=e}if("video"!=this.el.nodeName.toLowerCase()&&"audio"!=this.el.nodeName.toLowerCase())throw new Error("The element type must be <video>.")}},{key:"getVideoBasicInfo",value:function(){var e=this.basicInfo||{};return{name:e.name,duration:e.duration,description:e.description,coverUrl:e.coverUrl}}},{key:"getStreamimgOutputList",value:function(){var e=this.streamingInfo[0];return{type:e.type,url:e.url,subStreams:e.subStreams}}},{key:"getKeyFrameDescInfo",value:function(){return this.keyFrameDescInfo}},{key:"getImageSpriteInfo",value:function(){return this.imageSpriteInfo}},{key:"getVideoInfo",value:function(e){return t.g(t.v(0,t.d(["KgQKAgoDMkAqBgoCCgMKBAoFLAMLABorKywELAAdQmFCc0JzQmVCbUJiQmxCeUJQQmFCdEJoQlZCNCUdQmdCZUJ0QnBCbEJhQnlCaUJuQmZCbzAAIh1CYUJwQnBCSUJEPjQwACIdQmZCaUJsQmVCSUJEPjQwACIdQnBCc0JpQmdCbj40LgQaKyssBTABIh1CZEJlQmZCYUJ1QmxCdD4wAjYBGitEAiIdQmVCbkJNQm9CZEJ1QmxCZT4LBQArKywELAUdQmdCZUJuQmVCckJhQnRCZUJQQmxCYUJ5QkNCZ0JpQlVCckJsJQsELgEaKyssAB1CZ0JlQnRCSUJuQmZCb0JSQmVCdEJyQnlCVEJpQm1CZUJzJTAAACsrLAAdQmdCZUJ0QklCbkJmQm9CUkJlQnFCdUJlQnNCdCUyCioGCgIKAwsDBDIuKzADIjAEAzABJz40BCsyMCssBCwEHUJyQmVCcEJsQmFCY0JlJTADIjAEAz40MAMiMAQDMAEnPjQuAhomACtEBCIkNCQmASYAMAEnACtEACYAHyswAEQFIh1CZEJlQmZCYUJ1QmxCdD40MAYDGQAkHUJ1QnJCbA4LBAArKyQdQnRCaUJtQmVCb0J1QnQOMAArRAciHUJiQmlCbkJkPgsFLAUdQm9CbkJSQmVCc0J1QmxCdEJWQjQlNC4CQAIrEw8CAgEEBAUDAwArKywAHUJnQmVCdEJJQm5CZkJvQlJCZUJxQnVCZUJzQnQlLgArEw8sAwIJAAAaKysTDw==",[7,574,316,525,327,331,329,343,344,349,347,416,475,3e3,526,318]]),[function(){return void 0===e?void 0:e},function(){return void 0===s?void 0:s},function(){return"undefined"==typeof window?void 0:window},function(){return void 0===m?void 0:m},function(){return 0},function(){return void 0===n?void 0:n},function(){return"undefined"==typeof Object?void 0:Object},function(){return void 0===i?void 0:i}])).call(this)}},{key:"assemblyPathV4",value:function(e,t,r,n){var i=window.location.protocol;return"http:"!=i&&"https:"!=i&&(i="https:"),"".concat(i,"//").concat(m[0],"/").concat(e,"/v4/").concat(t,"/").concat(r,"?psign=").concat(n)}},{key:"onResultV4",value:function(e,t,r){try{r?t=JSON.parse(r):e||t.body||(e=new Error("ServerError"))}catch(s){e=new Error(s.message||"ServerError")}if(e){if(this.getInfoRetryTimes<3)return this.getInfoRetryTimes++,void this.getInfoRequest(!0);o.trigger(this,{type:a.TcAdapterEvents.ERROR,message:e&&e.message||"ServerError",data:{fatal:!0,type:"serverError",details:e&&e.message||"serverError"}})}else{if(0!==t.code)return t.code>=2e3&&t.code<3e3&&this.getInfoRetryTimes<3?(this.getInfoRetryTimes++,this.getInfoRequest(!0),!1):(o.trigger(this,{type:a.TcAdapterEvents.ERROR,message:t.message||t.warning||a.TcAdapterErrors[0],data:{fatal:!0,type:"serverError",details:t.message||a.TcAdapterErrors[0]}}),!1);if(4===t.version){var n=t.media;if(this.parseMediaInfo(n),this.callback&&this.callback(),o.trigger(this,{type:a.TcAdapterEvents.LOADEDMETADATA}),!(i.isSupported()&&"Original"!==n.audioVideoType&"Transcode"!==n.audioVideoType)||v&&g)return this.el.src=this.getSrcV4(n),!1;this.load(this.getSrcV4(n))}else if(2===t.version)return o.trigger(this,{type:a.TcAdapterEvents.ERROR,message:a.TcAdapterErrors[1],data:{fatal:!0,type:"serverError",details:a.TcAdapterErrors[1]}}),!1}}},{key:"parseMediaInfo",value:function(e){if("Original"===e.audioVideoType||"Transcode"===e.audioVideoType)return"Original"===e.audioVideoType&&(this.streamingInfo=[{url:e.originalInfo.url}]),"Transcode"===e.audioVideoType&&(this.streamingInfo=[{url:e.transcodeInfo.url}]),!1;this.basicInfo=e.basicInfo||{},this.streamingInfo=e.streamingInfo&&e.streamingInfo.drmOutput||[e.streamingInfo.plainOutput],this.drmToken=e.streamingInfo&&e.streamingInfo.drmToken,this.keyFrameDescInfo=e.keyFrameDescInfo&&e.keyFrameDescInfo.keyFrameDescList||{},this.imageSpriteInfo=e.imageSpriteInfo||{}}},{key:"getSrcV4",value:function(e){var t;if(!e.streamingInfo)return o.trigger(this,{type:a.TcAdapterEvents.ERROR,message:a.TcAdapterErrors[2],data:{fatal:!0,type:"serverError",details:a.TcAdapterErrors[2]}});if(e.streamingInfo){var r=this.getStreamimgOutputList(),n=0;if(r.subStreams&&(n=r.subStreams.length-1),this.hlsConfig.startLevel||0===this.hlsConfig.startLevel||(this.hlsConfig.startLevel=n),e.streamingInfo.plainOutput&&(t=e.streamingInfo.plainOutput.url,window.enModule=null),e.streamingInfo.drmOutput&&Array.isArray(e.streamingInfo.drmOutput)){var s=e.streamingInfo.drmOutput;if("SimpleAES"===s[0].type){var l=s[0].url.split("/");l[l.length-1]="voddrm.token."+e.streamingInfo.drmToken+"."+l[l.length-1],t=l.join("/")}}if(!t)return o.trigger(this,{type:a.TcAdapterEvents.ERROR,message:a.TcAdapterErrors[2],data:{fatal:!0,type:"serverError",details:a.TcAdapterErrors[2]}})}return i.unifyProtocol(t)}},{key:"loadHls",value:function(e){if(void 0===window.Hls)try{i.loadScript(i.unifyProtocol("https://web.sdk.qcloud.com/player/tcplayer/release/v4.7.2/libs/hls.min.1.1.6.js"),e)}catch(t){throw new Error(t.message||a.TcAdapterErrors[3])}}},{key:"load",value:function(e){var t=this;void 0===window.Hls?this.loadHls((function(){t.hlsLoaded.call(t,e)})):this.hlsLoaded(e)}},{key:"on",value:function(e,t){return o.on(this,e,t)}},{key:"proxyEvents",value:function(e,t,r){o.trigger(this,d({type:t,data:d({},r)},e))}},{key:"hlsLoaded",value:function(e){window.enModule&&Object.assign(this.hlsConfig,window.enModule.generateOverlayKeyAndIv());var t=new Hls(this.hlsConfig),r=Object.keys(a.EventsNotExposed);for(var n in Hls.Events)r.includes(n)||t.on(Hls.Events[n],this.proxyEvents.bind(this,{type:Hls.Events[n]}));var i=new Proxy(t,{get:function(e,t){return"on"===t?null:e[t]}});this.hls=i,o.trigger(this,{type:a.TcAdapterEvents.HLSREADY}),t.loadSource(e),t.attachMedia(this.el)}}])&&f(r.prototype,l),c&&f(r,c),e}();_.TcAdapterEvents=a.TcAdapterEvents;var b=_;e.default=b})(),__webpack_exports__=__webpack_exports__.default,__webpack_exports__})()},module.exports=e2()})(dist);var distExports=dist.exports;const TcAdapter=getDefaultExportFromCjs(distExports);class Event{constructor(){_defineProperty$1(this,"_cache",void 0),this._cache={}}on(e,t){this._cache[e]||(this._cache[e]=[]);const r=this._cache[e];return-1===r.indexOf(t)&&r.push(t),()=>{this.off(e,t)}}emit(e,t){(this._cache[e]||[]).forEach((e=>{e(t)}))}once(e,t){const r=n=>{t(n),this.off(e,r)};this.on(e,r)}off(e,t){const r=this._cache[e]||[];if(t){const e=r.indexOf(t);-1!==e&&r.splice(e,1)}else r.length=0}removeAllListeners(){const e=this._cache;if(void 0===e)return;const t=Object.keys(e);t.length>0&&(t.forEach((t=>{this.off(e[t])})),this._cache={})}}var AdapterEvent=(e=>(e.LOADEDMETADATA="loadedmetadata",e.HLSREADY="hlsready",e.ERROR="error",e.HLS_LEVEL_LOADED="hlsLevelLoaded",e))(AdapterEvent||{}),RouteType=(e=>(e.TENCENT="tencent",e.ALI="ali",e))(RouteType||{}),tryToString$1=tryToString$6,$TypeError$7=TypeError,deletePropertyOrThrow$2=function(e,t){if(!delete e[t])throw new $TypeError$7("Cannot delete property "+tryToString$1(t)+" of "+tryToString$1(e))},arraySlice$2=arraySlice$5,floor$5=Math.floor,sort$1=function(e,t){var r=e.length;if(r<8)for(var n,i,o=1;o<r;){for(i=o,n=e[o];i&&t(e[i-1],n)>0;)e[i]=e[--i];i!==o++&&(e[i]=n)}else for(var s=floor$5(r/2),a=sort$1(arraySlice$2(e,0,s),t),l=sort$1(arraySlice$2(e,s),t),c=a.length,u=l.length,h=0,d=0;h<c||d<u;)e[h+d]=h<c&&d<u?t(a[h],l[d])<=0?a[h++]:l[d++]:h<c?a[h++]:l[d++];return e},arraySort$1=sort$1,fails$k=fails$B,arrayMethodIsStrict$2=function(e,t){var r=[][e];return!!r&&fails$k((function(){r.call(null,t||function(){return 1},1)}))},userAgent$1=engineUserAgent,firefox=userAgent$1.match(/firefox\/(\d+)/i),engineFfVersion=!!firefox&&+firefox[1],UA=engineUserAgent,engineIsIeOrEdge=/MSIE|Trident/.test(UA),userAgent=engineUserAgent,webkit=userAgent.match(/AppleWebKit\/(\d+)\./),engineWebkitVersion=!!webkit&&+webkit[1],$$l=_export,uncurryThis$o=functionUncurryThis,aCallable$3=aCallable$c,toObject$9=toObject$d,lengthOfArrayLike$c=lengthOfArrayLike$g,deletePropertyOrThrow$1=deletePropertyOrThrow$2,toString$b=toString$g,fails$j=fails$B,internalSort$1=arraySort$1,arrayMethodIsStrict$1=arrayMethodIsStrict$2,FF$1=engineFfVersion,IE_OR_EDGE$1=engineIsIeOrEdge,V8$2=engineV8Version,WEBKIT$1=engineWebkitVersion,test$1=[],nativeSort$1=uncurryThis$o(test$1.sort),push$6=uncurryThis$o(test$1.push),FAILS_ON_UNDEFINED=fails$j((function(){test$1.sort(void 0)})),FAILS_ON_NULL=fails$j((function(){test$1.sort(null)})),STRICT_METHOD=arrayMethodIsStrict$1("sort"),STABLE_SORT$1=!fails$j((function(){if(V8$2)return V8$2<70;if(!(FF$1&&FF$1>3)){if(IE_OR_EDGE$1)return!0;if(WEBKIT$1)return WEBKIT$1<603;var e,t,r,n,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)test$1.push({k:t+n,v:r})}for(test$1.sort((function(e,t){return t.v-e.v})),n=0;n<test$1.length;n++)t=test$1[n].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}})),FORCED$2=FAILS_ON_UNDEFINED||!FAILS_ON_NULL||!STRICT_METHOD||!STABLE_SORT$1,getSortCompare$1=function(e){return function(t,r){return void 0===r?-1:void 0===t?1:void 0!==e?+e(t,r)||0:toString$b(t)>toString$b(r)?1:-1}};$$l({target:"Array",proto:!0,forced:FORCED$2},{sort:function(e){void 0!==e&&aCallable$3(e);var t=toObject$9(this);if(STABLE_SORT$1)return void 0===e?nativeSort$1(t):nativeSort$1(t,e);var r,n,i=[],o=lengthOfArrayLike$c(t);for(n=0;n<o;n++)n in t&&push$6(i,t[n]);for(internalSort$1(i,getSortCompare$1(e)),r=lengthOfArrayLike$c(i),n=0;n<r;)t[n]=i[n++];for(;n<o;)deletePropertyOrThrow$1(t,n++);return t}});var arrayBufferBasicDetection="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,defineBuiltIn$9=defineBuiltIn$f,defineBuiltIns$2=function(e,t,r){for(var n in t)defineBuiltIn$9(e,n,t[n],r);return e},toIntegerOrInfinity$7=toIntegerOrInfinity$a,toLength$5=toLength$7,$RangeError$4=RangeError,toIndex$3=function(e){if(void 0===e)return 0;var t=toIntegerOrInfinity$7(e),r=toLength$5(t);if(t!==r)throw new $RangeError$4("Wrong length or index");return r},mathSign=Math.sign||function(e){var t=+e;return 0===t||t!=t?t:t<0?-1:1},sign=mathSign,abs$1=Math.abs,EPSILON=2220446049250313e-31,INVERSE_EPSILON=1/EPSILON,roundTiesToEven=function(e){return e+INVERSE_EPSILON-INVERSE_EPSILON},mathFloatRound=function(e,t,r,n){var i=+e,o=abs$1(i),s=sign(i);if(o<n)return s*roundTiesToEven(o/n/t)*n*t;var a=(1+t/EPSILON)*o,l=a-(a-o);return l>r||l!=l?s*(1/0):s*l},floatRound=mathFloatRound,FLOAT32_EPSILON=1.1920928955078125e-7,FLOAT32_MAX_VALUE=34028234663852886e22,FLOAT32_MIN_VALUE=11754943508222875e-54,mathFround=Math.fround||function(e){return floatRound(e,FLOAT32_EPSILON,FLOAT32_MAX_VALUE,FLOAT32_MIN_VALUE)},$Array$2=Array,abs=Math.abs,pow$1=Math.pow,floor$4=Math.floor,log=Math.log,LN2=Math.LN2,pack=function(e,t,r){var n,i,o,s=$Array$2(r),a=8*r-t-1,l=(1<<a)-1,c=l>>1,u=23===t?pow$1(2,-24)-pow$1(2,-77):0,h=e<0||0===e&&1/e<0?1:0,d=0;for((e=abs(e))!=e||e===1/0?(i=e!=e?1:0,n=l):(n=floor$4(log(e)/LN2),e*(o=pow$1(2,-n))<1&&(n--,o*=2),(e+=n+c>=1?u/o:u*pow$1(2,1-c))*o>=2&&(n++,o/=2),n+c>=l?(i=0,n=l):n+c>=1?(i=(e*o-1)*pow$1(2,t),n+=c):(i=e*pow$1(2,c-1)*pow$1(2,t),n=0));t>=8;)s[d++]=255&i,i/=256,t-=8;for(n=n<<t|i,a+=t;a>0;)s[d++]=255&n,n/=256,a-=8;return s[--d]|=128*h,s},unpack=function(e,t){var r,n=e.length,i=8*n-t-1,o=(1<<i)-1,s=o>>1,a=i-7,l=n-1,c=e[l--],u=127&c;for(c>>=7;a>0;)u=256*u+e[l--],a-=8;for(r=u&(1<<-a)-1,u>>=-a,a+=t;a>0;)r=256*r+e[l--],a-=8;if(0===u)u=1-s;else{if(u===o)return r?NaN:c?-1/0:1/0;r+=pow$1(2,t),u-=s}return(c?-1:1)*r*pow$1(2,u-t)},ieee754={pack:pack,unpack:unpack},toObject$8=toObject$d,toAbsoluteIndex$1=toAbsoluteIndex$3,lengthOfArrayLike$b=lengthOfArrayLike$g,arrayFill$1=function(e){for(var t=toObject$8(this),r=lengthOfArrayLike$b(t),n=arguments.length,i=toAbsoluteIndex$1(n>1?arguments[1]:void 0,r),o=n>2?arguments[2]:void 0,s=void 0===o?r:toAbsoluteIndex$1(o,r);s>i;)t[i++]=e;return t},global$l=global$E,uncurryThis$n=functionUncurryThis,DESCRIPTORS$g=descriptors$1,NATIVE_ARRAY_BUFFER$1=arrayBufferBasicDetection,FunctionName=functionName,createNonEnumerableProperty$4=createNonEnumerableProperty$c,defineBuiltInAccessor$a=defineBuiltInAccessor$c,defineBuiltIns$1=defineBuiltIns$2,fails$i=fails$B,anInstance$5=anInstance$7,toIntegerOrInfinity$6=toIntegerOrInfinity$a,toLength$4=toLength$7,toIndex$2=toIndex$3,fround=mathFround,IEEE754=ieee754,getPrototypeOf$2=objectGetPrototypeOf,setPrototypeOf$2=objectSetPrototypeOf,arrayFill=arrayFill$1,arraySlice$1=arraySlice$5,inheritIfRequired$3=inheritIfRequired$5,copyConstructorProperties$1=copyConstructorProperties$4,setToStringTag$3=setToStringTag$8,InternalStateModule$7=internalState,PROPER_FUNCTION_NAME$1=FunctionName.PROPER,CONFIGURABLE_FUNCTION_NAME=FunctionName.CONFIGURABLE,ARRAY_BUFFER$1="ArrayBuffer",DATA_VIEW="DataView",PROTOTYPE="prototype",WRONG_LENGTH$1="Wrong length",WRONG_INDEX="Wrong index",getInternalArrayBufferState=InternalStateModule$7.getterFor(ARRAY_BUFFER$1),getInternalDataViewState=InternalStateModule$7.getterFor(DATA_VIEW),setInternalState$6=InternalStateModule$7.set,NativeArrayBuffer$1=global$l[ARRAY_BUFFER$1],$ArrayBuffer$1=NativeArrayBuffer$1,ArrayBufferPrototype$3=$ArrayBuffer$1&&$ArrayBuffer$1[PROTOTYPE],$DataView=global$l[DATA_VIEW],DataViewPrototype$2=$DataView&&$DataView[PROTOTYPE],ObjectPrototype$1=Object.prototype,Array$1=global$l.Array,RangeError$3=global$l.RangeError,fill=uncurryThis$n(arrayFill),reverse=uncurryThis$n([].reverse),packIEEE754=IEEE754.pack,unpackIEEE754=IEEE754.unpack,packInt8=function(e){return[255&e]},packInt16=function(e){return[255&e,e>>8&255]},packInt32=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},unpackInt32=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},packFloat32=function(e){return packIEEE754(fround(e),23,4)},packFloat64=function(e){return packIEEE754(e,52,8)},addGetter$1=function(e,t,r){defineBuiltInAccessor$a(e[PROTOTYPE],t,{configurable:!0,get:function(){return r(this)[t]}})},get=function(e,t,r,n){var i=getInternalDataViewState(e),o=toIndex$2(r),s=!!n;if(o+t>i.byteLength)throw new RangeError$3(WRONG_INDEX);var a=i.bytes,l=o+i.byteOffset,c=arraySlice$1(a,l,l+t);return s?c:reverse(c)},set=function(e,t,r,n,i,o){var s=getInternalDataViewState(e),a=toIndex$2(r),l=n(+i),c=!!o;if(a+t>s.byteLength)throw new RangeError$3(WRONG_INDEX);for(var u=s.bytes,h=a+s.byteOffset,d=0;d<t;d++)u[h+d]=l[c?d:t-d-1]};if(NATIVE_ARRAY_BUFFER$1){var INCORRECT_ARRAY_BUFFER_NAME=PROPER_FUNCTION_NAME$1&&NativeArrayBuffer$1.name!==ARRAY_BUFFER$1;fails$i((function(){NativeArrayBuffer$1(1)}))&&fails$i((function(){new NativeArrayBuffer$1(-1)}))&&!fails$i((function(){return new NativeArrayBuffer$1,new NativeArrayBuffer$1(1.5),new NativeArrayBuffer$1(NaN),1!==NativeArrayBuffer$1.length||INCORRECT_ARRAY_BUFFER_NAME&&!CONFIGURABLE_FUNCTION_NAME}))?INCORRECT_ARRAY_BUFFER_NAME&&CONFIGURABLE_FUNCTION_NAME&&createNonEnumerableProperty$4(NativeArrayBuffer$1,"name",ARRAY_BUFFER$1):($ArrayBuffer$1=function(e){return anInstance$5(this,ArrayBufferPrototype$3),inheritIfRequired$3(new NativeArrayBuffer$1(toIndex$2(e)),this,$ArrayBuffer$1)},$ArrayBuffer$1[PROTOTYPE]=ArrayBufferPrototype$3,ArrayBufferPrototype$3.constructor=$ArrayBuffer$1,copyConstructorProperties$1($ArrayBuffer$1,NativeArrayBuffer$1)),setPrototypeOf$2&&getPrototypeOf$2(DataViewPrototype$2)!==ObjectPrototype$1&&setPrototypeOf$2(DataViewPrototype$2,ObjectPrototype$1);var testView=new $DataView(new $ArrayBuffer$1(2)),$setInt8=uncurryThis$n(DataViewPrototype$2.setInt8);testView.setInt8(0,2147483648),testView.setInt8(1,2147483649),!testView.getInt8(0)&&testView.getInt8(1)||defineBuiltIns$1(DataViewPrototype$2,{setInt8:function(e,t){$setInt8(this,e,t<<24>>24)},setUint8:function(e,t){$setInt8(this,e,t<<24>>24)}},{unsafe:!0})}else $ArrayBuffer$1=function(e){anInstance$5(this,ArrayBufferPrototype$3);var t=toIndex$2(e);setInternalState$6(this,{type:ARRAY_BUFFER$1,bytes:fill(Array$1(t),0),byteLength:t}),DESCRIPTORS$g||(this.byteLength=t,this.detached=!1)},ArrayBufferPrototype$3=$ArrayBuffer$1[PROTOTYPE],$DataView=function(e,t,r){anInstance$5(this,DataViewPrototype$2),anInstance$5(e,ArrayBufferPrototype$3);var n=getInternalArrayBufferState(e),i=n.byteLength,o=toIntegerOrInfinity$6(t);if(o<0||o>i)throw new RangeError$3("Wrong offset");if(o+(r=void 0===r?i-o:toLength$4(r))>i)throw new RangeError$3(WRONG_LENGTH$1);setInternalState$6(this,{type:DATA_VIEW,buffer:e,byteLength:r,byteOffset:o,bytes:n.bytes}),DESCRIPTORS$g||(this.buffer=e,this.byteLength=r,this.byteOffset=o)},DataViewPrototype$2=$DataView[PROTOTYPE],DESCRIPTORS$g&&(addGetter$1($ArrayBuffer$1,"byteLength",getInternalArrayBufferState),addGetter$1($DataView,"buffer",getInternalDataViewState),addGetter$1($DataView,"byteLength",getInternalDataViewState),addGetter$1($DataView,"byteOffset",getInternalDataViewState)),defineBuiltIns$1(DataViewPrototype$2,{getInt8:function(e){return get(this,1,e)[0]<<24>>24},getUint8:function(e){return get(this,1,e)[0]},getInt16:function(e){var t=get(this,2,e,arguments.length>1&&arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=get(this,2,e,arguments.length>1&&arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return unpackInt32(get(this,4,e,arguments.length>1&&arguments[1]))},getUint32:function(e){return unpackInt32(get(this,4,e,arguments.length>1&&arguments[1]))>>>0},getFloat32:function(e){return unpackIEEE754(get(this,4,e,arguments.length>1&&arguments[1]),23)},getFloat64:function(e){return unpackIEEE754(get(this,8,e,arguments.length>1&&arguments[1]),52)},setInt8:function(e,t){set(this,1,e,packInt8,t)},setUint8:function(e,t){set(this,1,e,packInt8,t)},setInt16:function(e,t){set(this,2,e,packInt16,t,arguments.length>2&&arguments[2])},setUint16:function(e,t){set(this,2,e,packInt16,t,arguments.length>2&&arguments[2])},setInt32:function(e,t){set(this,4,e,packInt32,t,arguments.length>2&&arguments[2])},setUint32:function(e,t){set(this,4,e,packInt32,t,arguments.length>2&&arguments[2])},setFloat32:function(e,t){set(this,4,e,packFloat32,t,arguments.length>2&&arguments[2])},setFloat64:function(e,t){set(this,8,e,packFloat64,t,arguments.length>2&&arguments[2])}});setToStringTag$3($ArrayBuffer$1,ARRAY_BUFFER$1),setToStringTag$3($DataView,DATA_VIEW);var arrayBuffer={ArrayBuffer:$ArrayBuffer$1,DataView:$DataView},$$k=_export,uncurryThis$m=functionUncurryThisClause,fails$h=fails$B,ArrayBufferModule$1=arrayBuffer,anObject$8=anObject$i,toAbsoluteIndex=toAbsoluteIndex$3,toLength$3=toLength$7,speciesConstructor$1=speciesConstructor$3,ArrayBuffer$5=ArrayBufferModule$1.ArrayBuffer,DataView$3=ArrayBufferModule$1.DataView,DataViewPrototype$1=DataView$3.prototype,nativeArrayBufferSlice=uncurryThis$m(ArrayBuffer$5.prototype.slice),getUint8=uncurryThis$m(DataViewPrototype$1.getUint8),setUint8=uncurryThis$m(DataViewPrototype$1.setUint8),INCORRECT_SLICE=fails$h((function(){return!new ArrayBuffer$5(2).slice(1,void 0).byteLength}));$$k({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:INCORRECT_SLICE},{slice:function(e,t){if(nativeArrayBufferSlice&&void 0===t)return nativeArrayBufferSlice(anObject$8(this),e);for(var r=anObject$8(this).byteLength,n=toAbsoluteIndex(e,r),i=toAbsoluteIndex(void 0===t?r:t,r),o=new(speciesConstructor$1(this,ArrayBuffer$5))(toLength$3(i-n)),s=new DataView$3(this),a=new DataView$3(o),l=0;n<i;)setUint8(a,l++,getUint8(s,n++));return o}});var uncurryThisAccessor$1=functionUncurryThisAccessor,classof$9=classofRaw$2,$TypeError$6=TypeError,arrayBufferByteLength$2=uncurryThisAccessor$1(ArrayBuffer.prototype,"byteLength","get")||function(e){if("ArrayBuffer"!==classof$9(e))throw new $TypeError$6("ArrayBuffer expected");return e.byteLength},uncurryThis$l=functionUncurryThis,arrayBufferByteLength$1=arrayBufferByteLength$2,slice$2=uncurryThis$l(ArrayBuffer.prototype.slice),arrayBufferIsDetached=function(e){if(0!==arrayBufferByteLength$1(e))return!1;try{return slice$2(e,0,0),!1}catch(error){return!0}},DESCRIPTORS$f=descriptors$1,defineBuiltInAccessor$9=defineBuiltInAccessor$c,isDetached$1=arrayBufferIsDetached,ArrayBufferPrototype$2=ArrayBuffer.prototype;DESCRIPTORS$f&&!("detached"in ArrayBufferPrototype$2)&&defineBuiltInAccessor$9(ArrayBufferPrototype$2,"detached",{configurable:!0,get:function(){return isDetached$1(this)}});var IS_NODE$2=engineIsNode,tryNodeRequire$2=function(e){try{if(IS_NODE$2)return Function('return require("'+e+'")')()}catch(error){}},global$k=global$E,fails$g=fails$B,V8$1=engineV8Version,IS_BROWSER=engineIsBrowser,IS_DENO=engineIsDeno,IS_NODE$1=engineIsNode,structuredClone$2=global$k.structuredClone,structuredCloneProperTransfer=!!structuredClone$2&&!fails$g((function(){if(IS_DENO&&V8$1>92||IS_NODE$1&&V8$1>94||IS_BROWSER&&V8$1>97)return!1;var e=new ArrayBuffer(8),t=structuredClone$2(e,{transfer:[e]});return 0!==e.byteLength||8!==t.byteLength})),global$j=global$E,tryNodeRequire$1=tryNodeRequire$2,PROPER_STRUCTURED_CLONE_TRANSFER$1=structuredCloneProperTransfer,structuredClone$1=global$j.structuredClone,$ArrayBuffer=global$j.ArrayBuffer,$MessageChannel=global$j.MessageChannel,detach=!1,WorkerThreads,channel,buffer,$detach;if(PROPER_STRUCTURED_CLONE_TRANSFER$1)detach=function(e){structuredClone$1(e,{transfer:[e]})};else if($ArrayBuffer)try{$MessageChannel||(WorkerThreads=tryNodeRequire$1("worker_threads"),WorkerThreads&&($MessageChannel=WorkerThreads.MessageChannel)),$MessageChannel&&(channel=new $MessageChannel,buffer=new $ArrayBuffer(2),$detach=function(e){channel.port1.postMessage(null,[e])},2===buffer.byteLength&&($detach(buffer),0===buffer.byteLength&&(detach=$detach)))}catch(error){}var detachTransferable$1=detach,global$i=global$E,uncurryThis$k=functionUncurryThis,uncurryThisAccessor=functionUncurryThisAccessor,toIndex$1=toIndex$3,isDetached=arrayBufferIsDetached,arrayBufferByteLength=arrayBufferByteLength$2,detachTransferable=detachTransferable$1,PROPER_STRUCTURED_CLONE_TRANSFER=structuredCloneProperTransfer,structuredClone=global$i.structuredClone,ArrayBuffer$4=global$i.ArrayBuffer,DataView$2=global$i.DataView,TypeError$4=global$i.TypeError,min$1=Math.min,ArrayBufferPrototype$1=ArrayBuffer$4.prototype,DataViewPrototype=DataView$2.prototype,slice$1=uncurryThis$k(ArrayBufferPrototype$1.slice),isResizable=uncurryThisAccessor(ArrayBufferPrototype$1,"resizable","get"),maxByteLength=uncurryThisAccessor(ArrayBufferPrototype$1,"maxByteLength","get"),getInt8=uncurryThis$k(DataViewPrototype.getInt8),setInt8=uncurryThis$k(DataViewPrototype.setInt8),arrayBufferTransfer=(PROPER_STRUCTURED_CLONE_TRANSFER||detachTransferable)&&function(e,t,r){var n,i=arrayBufferByteLength(e),o=void 0===t?i:toIndex$1(t),s=!isResizable||!isResizable(e);if(isDetached(e))throw new TypeError$4("ArrayBuffer is detached");if(PROPER_STRUCTURED_CLONE_TRANSFER&&(e=structuredClone(e,{transfer:[e]}),i===o&&(r||s)))return e;if(i>=o&&(!r||s))n=slice$1(e,0,o);else{var a=r&&!s&&maxByteLength?{maxByteLength:maxByteLength(e)}:void 0;n=new ArrayBuffer$4(o,a);for(var l=new DataView$2(e),c=new DataView$2(n),u=min$1(o,i),h=0;h<u;h++)setInt8(c,h,getInt8(l,h))}return PROPER_STRUCTURED_CLONE_TRANSFER||detachTransferable(e),n},$$j=_export,$transfer$1=arrayBufferTransfer;$transfer$1&&$$j({target:"ArrayBuffer",proto:!0},{transfer:function(){return $transfer$1(this,arguments.length?arguments[0]:void 0,!0)}});var $$i=_export,$transfer=arrayBufferTransfer;$transfer&&$$i({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return $transfer(this,arguments.length?arguments[0]:void 0,!1)}});var isObject$6=isObject$k,classof$8=classofRaw$2,wellKnownSymbol$9=wellKnownSymbol$o,MATCH$1=wellKnownSymbol$9("match"),isRegexp=function(e){var t;return isObject$6(e)&&(void 0!==(t=e[MATCH$1])?!!t:"RegExp"===classof$8(e))},anObject$7=anObject$i,regexpFlags$1=function(){var e=anObject$7(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t},call$d=functionCall,hasOwn$9=hasOwnProperty_1,isPrototypeOf$4=objectIsPrototypeOf,regExpFlags=regexpFlags$1,RegExpPrototype$4=RegExp.prototype,regexpGetFlags=function(e){var t=e.flags;return void 0!==t||"flags"in RegExpPrototype$4||hasOwn$9(e,"flags")||!isPrototypeOf$4(RegExpPrototype$4,e)?t:call$d(regExpFlags,e)},fails$f=fails$B,global$h=global$E,$RegExp$2=global$h.RegExp,UNSUPPORTED_Y$2=fails$f((function(){var e=$RegExp$2("a","y");return e.lastIndex=2,null!==e.exec("abcd")})),MISSED_STICKY$1=UNSUPPORTED_Y$2||fails$f((function(){return!$RegExp$2("a","y").sticky})),BROKEN_CARET=UNSUPPORTED_Y$2||fails$f((function(){var e=$RegExp$2("^r","gy");return e.lastIndex=2,null!==e.exec("str")})),regexpStickyHelpers={BROKEN_CARET:BROKEN_CARET,MISSED_STICKY:MISSED_STICKY$1,UNSUPPORTED_Y:UNSUPPORTED_Y$2},fails$e=fails$B,global$g=global$E,$RegExp$1=global$g.RegExp,regexpUnsupportedDotAll=fails$e((function(){var e=$RegExp$1(".","s");return!(e.dotAll&&e.test("\n")&&"s"===e.flags)})),fails$d=fails$B,global$f=global$E,$RegExp=global$f.RegExp,regexpUnsupportedNcg=fails$d((function(){var e=$RegExp("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")})),DESCRIPTORS$e=descriptors$1,global$e=global$E,uncurryThis$j=functionUncurryThis,isForced=isForced_1,inheritIfRequired$2=inheritIfRequired$5,createNonEnumerableProperty$3=createNonEnumerableProperty$c,create$4=objectCreate,getOwnPropertyNames$1=objectGetOwnPropertyNames.f,isPrototypeOf$3=objectIsPrototypeOf,isRegExp$2=isRegexp,toString$a=toString$g,getRegExpFlags$1=regexpGetFlags,stickyHelpers$1=regexpStickyHelpers,proxyAccessor=proxyAccessor$2,defineBuiltIn$8=defineBuiltIn$f,fails$c=fails$B,hasOwn$8=hasOwnProperty_1,enforceInternalState$2=internalState.enforce,setSpecies$2=setSpecies$4,wellKnownSymbol$8=wellKnownSymbol$o,UNSUPPORTED_DOT_ALL$2=regexpUnsupportedDotAll,UNSUPPORTED_NCG$1=regexpUnsupportedNcg,MATCH=wellKnownSymbol$8("match"),NativeRegExp=global$e.RegExp,RegExpPrototype$3=NativeRegExp.prototype,SyntaxError$1=global$e.SyntaxError,exec$3=uncurryThis$j(RegExpPrototype$3.exec),charAt$7=uncurryThis$j("".charAt),replace$7=uncurryThis$j("".replace),stringIndexOf$2=uncurryThis$j("".indexOf),stringSlice$7=uncurryThis$j("".slice),IS_NCG=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,re1=/a/g,re2=/a/g,CORRECT_NEW=new NativeRegExp(re1)!==re1,MISSED_STICKY=stickyHelpers$1.MISSED_STICKY,UNSUPPORTED_Y$1=stickyHelpers$1.UNSUPPORTED_Y,BASE_FORCED=DESCRIPTORS$e&&(!CORRECT_NEW||MISSED_STICKY||UNSUPPORTED_DOT_ALL$2||UNSUPPORTED_NCG$1||fails$c((function(){return re2[MATCH]=!1,NativeRegExp(re1)!==re1||NativeRegExp(re2)===re2||"/a/i"!==String(NativeRegExp(re1,"i"))}))),handleDotAll=function(e){for(var t,r=e.length,n=0,i="",o=!1;n<=r;n++)"\\"!==(t=charAt$7(e,n))?o||"."!==t?("["===t?o=!0:"]"===t&&(o=!1),i+=t):i+="[\\s\\S]":i+=t+charAt$7(e,++n);return i},handleNCG=function(e){for(var t,r=e.length,n=0,i="",o=[],s=create$4(null),a=!1,l=!1,c=0,u="";n<=r;n++){if("\\"===(t=charAt$7(e,n)))t+=charAt$7(e,++n);else if("]"===t)a=!1;else if(!a)switch(!0){case"["===t:a=!0;break;case"("===t:exec$3(IS_NCG,stringSlice$7(e,n+1))&&(n+=2,l=!0),i+=t,c++;continue;case">"===t&&l:if(""===u||hasOwn$8(s,u))throw new SyntaxError$1("Invalid capture group name");s[u]=!0,o[o.length]=[u,c],l=!1,u="";continue}l?u+=t:i+=t}return[i,o]};if(isForced("RegExp",BASE_FORCED)){for(var RegExpWrapper=function(e,t){var r,n,i,o,s,a,l=isPrototypeOf$3(RegExpPrototype$3,this),c=isRegExp$2(e),u=void 0===t,h=[],d=e;if(!l&&c&&u&&e.constructor===RegExpWrapper)return e;if((c||isPrototypeOf$3(RegExpPrototype$3,e))&&(e=e.source,u&&(t=getRegExpFlags$1(d))),e=void 0===e?"":toString$a(e),t=void 0===t?"":toString$a(t),d=e,UNSUPPORTED_DOT_ALL$2&&"dotAll"in re1&&(n=!!t&&stringIndexOf$2(t,"s")>-1)&&(t=replace$7(t,/s/g,"")),r=t,MISSED_STICKY&&"sticky"in re1&&(i=!!t&&stringIndexOf$2(t,"y")>-1)&&UNSUPPORTED_Y$1&&(t=replace$7(t,/y/g,"")),UNSUPPORTED_NCG$1&&(e=(o=handleNCG(e))[0],h=o[1]),s=inheritIfRequired$2(NativeRegExp(e,t),l?this:RegExpPrototype$3,RegExpWrapper),(n||i||h.length)&&(a=enforceInternalState$2(s),n&&(a.dotAll=!0,a.raw=RegExpWrapper(handleDotAll(e),r)),i&&(a.sticky=!0),h.length&&(a.groups=h)),e!==d)try{createNonEnumerableProperty$3(s,"source",""===d?"(?:)":d)}catch(error){}return s},keys=getOwnPropertyNames$1(NativeRegExp),index$n=0;keys.length>index$n;)proxyAccessor(RegExpWrapper,NativeRegExp,keys[index$n++]);RegExpPrototype$3.constructor=RegExpWrapper,RegExpWrapper.prototype=RegExpPrototype$3,defineBuiltIn$8(global$e,"RegExp",RegExpWrapper,{constructor:!0})}setSpecies$2("RegExp");var DESCRIPTORS$d=descriptors$1,UNSUPPORTED_DOT_ALL$1=regexpUnsupportedDotAll,classof$7=classofRaw$2,defineBuiltInAccessor$8=defineBuiltInAccessor$c,getInternalState$6=internalState.get,RegExpPrototype$2=RegExp.prototype,$TypeError$5=TypeError;DESCRIPTORS$d&&UNSUPPORTED_DOT_ALL$1&&defineBuiltInAccessor$8(RegExpPrototype$2,"dotAll",{configurable:!0,get:function(){if(this!==RegExpPrototype$2){if("RegExp"===classof$7(this))return!!getInternalState$6(this).dotAll;throw new $TypeError$5("Incompatible receiver, RegExp required")}}});var call$c=functionCall,uncurryThis$i=functionUncurryThis,toString$9=toString$g,regexpFlags=regexpFlags$1,stickyHelpers=regexpStickyHelpers,shared=shared$4,create$3=objectCreate,getInternalState$5=internalState.get,UNSUPPORTED_DOT_ALL=regexpUnsupportedDotAll,UNSUPPORTED_NCG=regexpUnsupportedNcg,nativeReplace=shared("native-string-replace",String.prototype.replace),nativeExec=RegExp.prototype.exec,patchedExec=nativeExec,charAt$6=uncurryThis$i("".charAt),indexOf=uncurryThis$i("".indexOf),replace$6=uncurryThis$i("".replace),stringSlice$6=uncurryThis$i("".slice),UPDATES_LAST_INDEX_WRONG=(re12=/a/,re22=/b*/g,call$c(nativeExec,re12,"a"),call$c(nativeExec,re22,"a"),0!==re12.lastIndex||0!==re22.lastIndex),re12,re22,UNSUPPORTED_Y=stickyHelpers.BROKEN_CARET,NPCG_INCLUDED=void 0!==/()??/.exec("")[1],PATCH=UPDATES_LAST_INDEX_WRONG||NPCG_INCLUDED||UNSUPPORTED_Y||UNSUPPORTED_DOT_ALL||UNSUPPORTED_NCG;PATCH&&(patchedExec=function(e){var t,r,n,i,o,s,a,l=this,c=getInternalState$5(l),u=toString$9(e),h=c.raw;if(h)return h.lastIndex=l.lastIndex,t=call$c(patchedExec,h,u),l.lastIndex=h.lastIndex,t;var d=c.groups,p=UNSUPPORTED_Y&&l.sticky,f=call$c(regexpFlags,l),y=l.source,g=0,v=u;if(p&&(f=replace$6(f,"y",""),-1===indexOf(f,"g")&&(f+="g"),v=stringSlice$6(u,l.lastIndex),l.lastIndex>0&&(!l.multiline||l.multiline&&"\n"!==charAt$6(u,l.lastIndex-1))&&(y="(?: "+y+")",v=" "+v,g++),r=new RegExp("^(?:"+y+")",f)),NPCG_INCLUDED&&(r=new RegExp("^"+y+"$(?!\\s)",f)),UPDATES_LAST_INDEX_WRONG&&(n=l.lastIndex),i=call$c(nativeExec,p?r:l,v),p?i?(i.input=stringSlice$6(i.input,g),i[0]=stringSlice$6(i[0],g),i.index=l.lastIndex,l.lastIndex+=i[0].length):l.lastIndex=0:UPDATES_LAST_INDEX_WRONG&&i&&(l.lastIndex=l.global?i.index+i[0].length:n),NPCG_INCLUDED&&i&&i.length>1&&call$c(nativeReplace,i[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)})),i&&d)for(i.groups=s=create$3(null),o=0;o<d.length;o++)s[(a=d[o])[0]]=i[a[1]];return i});var regexpExec$2=patchedExec,$$h=_export,exec$2=regexpExec$2;$$h({target:"RegExp",proto:!0,forced:/./.exec!==exec$2},{exec:exec$2});var call$b=functionCall,defineBuiltIn$7=defineBuiltIn$f,regexpExec$1=regexpExec$2,fails$b=fails$B,wellKnownSymbol$7=wellKnownSymbol$o,createNonEnumerableProperty$2=createNonEnumerableProperty$c,SPECIES$1=wellKnownSymbol$7("species"),RegExpPrototype$1=RegExp.prototype,fixRegexpWellKnownSymbolLogic=function(e,t,r,n){var i=wellKnownSymbol$7(e),o=!fails$b((function(){var t={};return t[i]=function(){return 7},7!==""[e](t)})),s=o&&!fails$b((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[SPECIES$1]=function(){return r},r.flags="",r[i]=/./[i]),r.exec=function(){return t=!0,null},r[i](""),!t}));if(!o||!s||r){var a=/./[i],l=t(i,""[e],(function(e,t,r,n,i){var s=t.exec;return s===regexpExec$1||s===RegExpPrototype$1.exec?o&&!i?{done:!0,value:call$b(a,t,r,n)}:{done:!0,value:call$b(e,r,t,n)}:{done:!1}}));defineBuiltIn$7(String.prototype,e,l[0]),defineBuiltIn$7(RegExpPrototype$1,i,l[1])}n&&createNonEnumerableProperty$2(RegExpPrototype$1[i],"sham",!0)},uncurryThis$h=functionUncurryThis,toIntegerOrInfinity$5=toIntegerOrInfinity$a,toString$8=toString$g,requireObjectCoercible$3=requireObjectCoercible$7,charAt$5=uncurryThis$h("".charAt),charCodeAt$1=uncurryThis$h("".charCodeAt),stringSlice$5=uncurryThis$h("".slice),createMethod$4=function(e){return function(t,r){var n,i,o=toString$8(requireObjectCoercible$3(t)),s=toIntegerOrInfinity$5(r),a=o.length;return s<0||s>=a?e?"":void 0:(n=charCodeAt$1(o,s))<55296||n>56319||s+1===a||(i=charCodeAt$1(o,s+1))<56320||i>57343?e?charAt$5(o,s):n:e?stringSlice$5(o,s,s+2):i-56320+(n-55296<<10)+65536}},stringMultibyte={codeAt:createMethod$4(!1),charAt:createMethod$4(!0)},charAt$4=stringMultibyte.charAt,advanceStringIndex$2=function(e,t,r){return t+(r?charAt$4(e,t).length:1)},uncurryThis$g=functionUncurryThis,toObject$7=toObject$d,floor$3=Math.floor,charAt$3=uncurryThis$g("".charAt),replace$5=uncurryThis$g("".replace),stringSlice$4=uncurryThis$g("".slice),SUBSTITUTION_SYMBOLS=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,SUBSTITUTION_SYMBOLS_NO_NAMED=/\$([$&'`]|\d{1,2})/g,getSubstitution$1=function(e,t,r,n,i,o){var s=r+e.length,a=n.length,l=SUBSTITUTION_SYMBOLS_NO_NAMED;return void 0!==i&&(i=toObject$7(i),l=SUBSTITUTION_SYMBOLS),replace$5(o,l,(function(o,l){var c;switch(charAt$3(l,0)){case"$":return"$";case"&":return e;case"`":return stringSlice$4(t,0,r);case"'":return stringSlice$4(t,s);case"<":c=i[stringSlice$4(l,1,-1)];break;default:var u=+l;if(0===u)return o;if(u>a){var h=floor$3(u/10);return 0===h?o:h<=a?void 0===n[h-1]?charAt$3(l,1):n[h-1]+charAt$3(l,1):o}c=n[u-1]}return void 0===c?"":c}))},call$a=functionCall,anObject$6=anObject$i,isCallable$4=isCallable$r,classof$6=classofRaw$2,regexpExec=regexpExec$2,$TypeError$4=TypeError,regexpExecAbstract=function(e,t){var r=e.exec;if(isCallable$4(r)){var n=call$a(r,e,t);return null!==n&&anObject$6(n),n}if("RegExp"===classof$6(e))return call$a(regexpExec,e,t);throw new $TypeError$4("RegExp#exec called on incompatible receiver")},apply=functionApply,call$9=functionCall,uncurryThis$f=functionUncurryThis,fixRegExpWellKnownSymbolLogic=fixRegexpWellKnownSymbolLogic,fails$a=fails$B,anObject$5=anObject$i,isCallable$3=isCallable$r,isNullOrUndefined$1=isNullOrUndefined$6,toIntegerOrInfinity$4=toIntegerOrInfinity$a,toLength$2=toLength$7,toString$7=toString$g,requireObjectCoercible$2=requireObjectCoercible$7,advanceStringIndex$1=advanceStringIndex$2,getMethod$1=getMethod$5,getSubstitution=getSubstitution$1,regExpExec$1=regexpExecAbstract,wellKnownSymbol$6=wellKnownSymbol$o,REPLACE=wellKnownSymbol$6("replace"),max=Math.max,min=Math.min,concat$1=uncurryThis$f([].concat),push$5=uncurryThis$f([].push),stringIndexOf$1=uncurryThis$f("".indexOf),stringSlice$3=uncurryThis$f("".slice),maybeToString=function(e){return void 0===e?e:String(e)},REPLACE_KEEPS_$0="$0"==="a".replace(/./,"$0"),REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE=!!/./[REPLACE]&&""===/./[REPLACE]("a","$0"),REPLACE_SUPPORTS_NAMED_GROUPS=!fails$a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));fixRegExpWellKnownSymbolLogic("replace",(function(e,t,r){var n=REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE?"$":"$0";return[function(e,r){var n=requireObjectCoercible$2(this),i=isNullOrUndefined$1(e)?void 0:getMethod$1(e,REPLACE);return i?call$9(i,e,n,r):call$9(t,toString$7(n),e,r)},function(e,i){var o=anObject$5(this),s=toString$7(e);if("string"==typeof i&&-1===stringIndexOf$1(i,n)&&-1===stringIndexOf$1(i,"$<")){var a=r(t,o,s,i);if(a.done)return a.value}var l=isCallable$3(i);l||(i=toString$7(i));var c,u=o.global;u&&(c=o.unicode,o.lastIndex=0);for(var h,d=[];null!==(h=regExpExec$1(o,s))&&(push$5(d,h),u);){""===toString$7(h[0])&&(o.lastIndex=advanceStringIndex$1(s,toLength$2(o.lastIndex),c))}for(var p="",f=0,y=0;y<d.length;y++){for(var g,v=toString$7((h=d[y])[0]),m=max(min(toIntegerOrInfinity$4(h.index),s.length),0),_=[],b=1;b<h.length;b++)push$5(_,maybeToString(h[b]));var E=h.groups;if(l){var T=concat$1([v],_,m,s);void 0!==E&&push$5(T,E),g=toString$7(apply(i,void 0,T))}else g=getSubstitution(v,s,m,_,E,i);m>=f&&(p+=stringSlice$3(s,f,m)+g,f=m+v.length)}return p+stringSlice$3(s,f)}]}),!REPLACE_SUPPORTS_NAMED_GROUPS||!REPLACE_KEEPS_$0||REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE);var whitespaces$2="\t\n\v\f\r                　\u2028\u2029\ufeff",uncurryThis$e=functionUncurryThis,requireObjectCoercible$1=requireObjectCoercible$7,toString$6=toString$g,whitespaces$1=whitespaces$2,replace$4=uncurryThis$e("".replace),ltrim=RegExp("^["+whitespaces$1+"]+"),rtrim=RegExp("(^|[^"+whitespaces$1+"])["+whitespaces$1+"]+$"),createMethod$3=function(e){return function(t){var r=toString$6(requireObjectCoercible$1(t));return 1&e&&(r=replace$4(r,ltrim,"")),2&e&&(r=replace$4(r,rtrim,"$1")),r}},stringTrim={start:createMethod$3(1),end:createMethod$3(2),trim:createMethod$3(3)},PROPER_FUNCTION_NAME=functionName.PROPER,fails$9=fails$B,whitespaces=whitespaces$2,non="​᠎",stringTrimForced=function(e){return fails$9((function(){return!!whitespaces[e]()||non[e]()!==non||PROPER_FUNCTION_NAME&&whitespaces[e].name!==e}))},$$g=_export,$trim=stringTrim.trim,forcedStringTrimMethod=stringTrimForced;$$g({target:"String",proto:!0,forced:forcedStringTrimMethod("trim")},{trim:function(){return $trim(this)}});var typedArrayConstructor={exports:{}},NATIVE_ARRAY_BUFFER=arrayBufferBasicDetection,DESCRIPTORS$c=descriptors$1,global$d=global$E,isCallable$2=isCallable$r,isObject$5=isObject$k,hasOwn$7=hasOwnProperty_1,classof$5=classof$g,tryToString=tryToString$6,createNonEnumerableProperty$1=createNonEnumerableProperty$c,defineBuiltIn$6=defineBuiltIn$f,defineBuiltInAccessor$7=defineBuiltInAccessor$c,isPrototypeOf$2=objectIsPrototypeOf,getPrototypeOf$1=objectGetPrototypeOf,setPrototypeOf$1=objectSetPrototypeOf,wellKnownSymbol$5=wellKnownSymbol$o,uid=uid$3,InternalStateModule$6=internalState,enforceInternalState$1=InternalStateModule$6.enforce,getInternalState$4=InternalStateModule$6.get,Int8Array$3=global$d.Int8Array,Int8ArrayPrototype$1=Int8Array$3&&Int8Array$3.prototype,Uint8ClampedArray$1=global$d.Uint8ClampedArray,Uint8ClampedArrayPrototype=Uint8ClampedArray$1&&Uint8ClampedArray$1.prototype,TypedArray$1=Int8Array$3&&getPrototypeOf$1(Int8Array$3),TypedArrayPrototype$1=Int8ArrayPrototype$1&&getPrototypeOf$1(Int8ArrayPrototype$1),ObjectPrototype=Object.prototype,TypeError$3=global$d.TypeError,TO_STRING_TAG=wellKnownSymbol$5("toStringTag"),TYPED_ARRAY_TAG$1=uid("TYPED_ARRAY_TAG"),TYPED_ARRAY_CONSTRUCTOR="TypedArrayConstructor",NATIVE_ARRAY_BUFFER_VIEWS$2=NATIVE_ARRAY_BUFFER&&!!setPrototypeOf$1&&"Opera"!==classof$5(global$d.opera),TYPED_ARRAY_TAG_REQUIRED=!1,NAME,Constructor,Prototype,TypedArrayConstructorsList={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},BigIntArrayConstructorsList={BigInt64Array:8,BigUint64Array:8},isView=function(e){if(!isObject$5(e))return!1;var t=classof$5(e);return"DataView"===t||hasOwn$7(TypedArrayConstructorsList,t)||hasOwn$7(BigIntArrayConstructorsList,t)},getTypedArrayConstructor$3=function(e){var t=getPrototypeOf$1(e);if(isObject$5(t)){var r=getInternalState$4(t);return r&&hasOwn$7(r,TYPED_ARRAY_CONSTRUCTOR)?r[TYPED_ARRAY_CONSTRUCTOR]:getTypedArrayConstructor$3(t)}},isTypedArray$2=function(e){if(!isObject$5(e))return!1;var t=classof$5(e);return hasOwn$7(TypedArrayConstructorsList,t)||hasOwn$7(BigIntArrayConstructorsList,t)},aTypedArray$9=function(e){if(isTypedArray$2(e))return e;throw new TypeError$3("Target is not a typed array")},aTypedArrayConstructor$1=function(e){if(isCallable$2(e)&&(!setPrototypeOf$1||isPrototypeOf$2(TypedArray$1,e)))return e;throw new TypeError$3(tryToString(e)+" is not a typed array constructor")},exportTypedArrayMethod$9=function(e,t,r,n){if(DESCRIPTORS$c){if(r)for(var i in TypedArrayConstructorsList){var o=global$d[i];if(o&&hasOwn$7(o.prototype,e))try{delete o.prototype[e]}catch(error){try{o.prototype[e]=t}catch(s){}}}TypedArrayPrototype$1[e]&&!r||defineBuiltIn$6(TypedArrayPrototype$1,e,r?t:NATIVE_ARRAY_BUFFER_VIEWS$2&&Int8ArrayPrototype$1[e]||t,n)}},exportTypedArrayStaticMethod=function(e,t,r){var n,i;if(DESCRIPTORS$c){if(setPrototypeOf$1){if(r)for(n in TypedArrayConstructorsList)if((i=global$d[n])&&hasOwn$7(i,e))try{delete i[e]}catch(error){}if(TypedArray$1[e]&&!r)return;try{return defineBuiltIn$6(TypedArray$1,e,r?t:NATIVE_ARRAY_BUFFER_VIEWS$2&&TypedArray$1[e]||t)}catch(error){}}for(n in TypedArrayConstructorsList)!(i=global$d[n])||i[e]&&!r||defineBuiltIn$6(i,e,t)}};for(NAME in TypedArrayConstructorsList)Constructor=global$d[NAME],Prototype=Constructor&&Constructor.prototype,Prototype?enforceInternalState$1(Prototype)[TYPED_ARRAY_CONSTRUCTOR]=Constructor:NATIVE_ARRAY_BUFFER_VIEWS$2=!1;for(NAME in BigIntArrayConstructorsList)Constructor=global$d[NAME],Prototype=Constructor&&Constructor.prototype,Prototype&&(enforceInternalState$1(Prototype)[TYPED_ARRAY_CONSTRUCTOR]=Constructor);if((!NATIVE_ARRAY_BUFFER_VIEWS$2||!isCallable$2(TypedArray$1)||TypedArray$1===Function.prototype)&&(TypedArray$1=function(){throw new TypeError$3("Incorrect invocation")},NATIVE_ARRAY_BUFFER_VIEWS$2))for(NAME in TypedArrayConstructorsList)global$d[NAME]&&setPrototypeOf$1(global$d[NAME],TypedArray$1);if((!NATIVE_ARRAY_BUFFER_VIEWS$2||!TypedArrayPrototype$1||TypedArrayPrototype$1===ObjectPrototype)&&(TypedArrayPrototype$1=TypedArray$1.prototype,NATIVE_ARRAY_BUFFER_VIEWS$2))for(NAME in TypedArrayConstructorsList)global$d[NAME]&&setPrototypeOf$1(global$d[NAME].prototype,TypedArrayPrototype$1);if(NATIVE_ARRAY_BUFFER_VIEWS$2&&getPrototypeOf$1(Uint8ClampedArrayPrototype)!==TypedArrayPrototype$1&&setPrototypeOf$1(Uint8ClampedArrayPrototype,TypedArrayPrototype$1),DESCRIPTORS$c&&!hasOwn$7(TypedArrayPrototype$1,TO_STRING_TAG))for(NAME in TYPED_ARRAY_TAG_REQUIRED=!0,defineBuiltInAccessor$7(TypedArrayPrototype$1,TO_STRING_TAG,{configurable:!0,get:function(){return isObject$5(this)?this[TYPED_ARRAY_TAG$1]:void 0}}),TypedArrayConstructorsList)global$d[NAME]&&createNonEnumerableProperty$1(global$d[NAME],TYPED_ARRAY_TAG$1,NAME);var arrayBufferViewCore={NATIVE_ARRAY_BUFFER_VIEWS:NATIVE_ARRAY_BUFFER_VIEWS$2,TYPED_ARRAY_TAG:TYPED_ARRAY_TAG_REQUIRED&&TYPED_ARRAY_TAG$1,aTypedArray:aTypedArray$9,aTypedArrayConstructor:aTypedArrayConstructor$1,exportTypedArrayMethod:exportTypedArrayMethod$9,exportTypedArrayStaticMethod:exportTypedArrayStaticMethod,getTypedArrayConstructor:getTypedArrayConstructor$3,isView:isView,isTypedArray:isTypedArray$2,TypedArray:TypedArray$1,TypedArrayPrototype:TypedArrayPrototype$1},global$c=global$E,fails$8=fails$B,checkCorrectnessOfIteration=checkCorrectnessOfIteration$2,NATIVE_ARRAY_BUFFER_VIEWS$1=arrayBufferViewCore.NATIVE_ARRAY_BUFFER_VIEWS,ArrayBuffer$3=global$c.ArrayBuffer,Int8Array$2=global$c.Int8Array,typedArrayConstructorsRequireWrappers=!NATIVE_ARRAY_BUFFER_VIEWS$1||!fails$8((function(){Int8Array$2(1)}))||!fails$8((function(){new Int8Array$2(-1)}))||!checkCorrectnessOfIteration((function(e){new Int8Array$2,new Int8Array$2(null),new Int8Array$2(1.5),new Int8Array$2(e)}),!0)||fails$8((function(){return 1!==new Int8Array$2(new ArrayBuffer$3(2),1,void 0).length})),isObject$4=isObject$k,floor$2=Math.floor,isIntegralNumber$1=Number.isInteger||function(e){return!isObject$4(e)&&isFinite(e)&&floor$2(e)===e},toIntegerOrInfinity$3=toIntegerOrInfinity$a,$RangeError$3=RangeError,toPositiveInteger$1=function(e){var t=toIntegerOrInfinity$3(e);if(t<0)throw new $RangeError$3("The argument can't be less than 0");return t},toPositiveInteger=toPositiveInteger$1,$RangeError$2=RangeError,toOffset$2=function(e,t){var r=toPositiveInteger(e);if(r%t)throw new $RangeError$2("Wrong offset");return r},round=Math.round,toUint8Clamped$1=function(e){var t=round(e);return t<0?0:t>255?255:255&t},classof$4=classof$g,isBigIntArray$2=function(e){var t=classof$4(e);return"BigInt64Array"===t||"BigUint64Array"===t},toPrimitive=toPrimitive$2,$TypeError$3=TypeError,toBigInt$3=function(e){var t=toPrimitive(e,"number");if("number"==typeof t)throw new $TypeError$3("Can't convert number to bigint");return BigInt(t)},bind$6=functionBindContext,call$8=functionCall,aConstructor=aConstructor$2,toObject$6=toObject$d,lengthOfArrayLike$a=lengthOfArrayLike$g,getIterator$2=getIterator$4,getIteratorMethod$2=getIteratorMethod$5,isArrayIteratorMethod$1=isArrayIteratorMethod$3,isBigIntArray$1=isBigIntArray$2,aTypedArrayConstructor=arrayBufferViewCore.aTypedArrayConstructor,toBigInt$2=toBigInt$3,typedArrayFrom$1=function(e){var t,r,n,i,o,s,a,l,c=aConstructor(this),u=toObject$6(e),h=arguments.length,d=h>1?arguments[1]:void 0,p=void 0!==d,f=getIteratorMethod$2(u);if(f&&!isArrayIteratorMethod$1(f))for(l=(a=getIterator$2(u,f)).next,u=[];!(s=call$8(l,a)).done;)u.push(s.value);for(p&&h>2&&(d=bind$6(d,arguments[2])),r=lengthOfArrayLike$a(u),n=new(aTypedArrayConstructor(c))(r),i=isBigIntArray$1(n),t=0;r>t;t++)o=p?d(u[t],t):u[t],n[t]=i?toBigInt$2(o):+o;return n},isArray$2=isArray$5,isConstructor$1=isConstructor$3,isObject$3=isObject$k,wellKnownSymbol$4=wellKnownSymbol$o,SPECIES=wellKnownSymbol$4("species"),$Array$1=Array,arraySpeciesConstructor$1=function(e){var t;return isArray$2(e)&&(t=e.constructor,(isConstructor$1(t)&&(t===$Array$1||isArray$2(t.prototype))||isObject$3(t)&&null===(t=t[SPECIES]))&&(t=void 0)),void 0===t?$Array$1:t},arraySpeciesConstructor=arraySpeciesConstructor$1,arraySpeciesCreate$1=function(e,t){return new(arraySpeciesConstructor(e))(0===t?0:t)},bind$5=functionBindContext,uncurryThis$d=functionUncurryThis,IndexedObject$3=indexedObject,toObject$5=toObject$d,lengthOfArrayLike$9=lengthOfArrayLike$g,arraySpeciesCreate=arraySpeciesCreate$1,push$4=uncurryThis$d([].push),createMethod$2=function(e){var t=1===e,r=2===e,n=3===e,i=4===e,o=6===e,s=7===e,a=5===e||o;return function(l,c,u,h){for(var d,p,f=toObject$5(l),y=IndexedObject$3(f),g=lengthOfArrayLike$9(y),v=bind$5(c,u),m=0,_=h||arraySpeciesCreate,b=t?_(l,g):r||s?_(l,0):void 0;g>m;m++)if((a||m in y)&&(p=v(d=y[m],m,f),e))if(t)b[m]=p;else if(p)switch(e){case 3:return!0;case 5:return d;case 6:return m;case 2:push$4(b,d)}else switch(e){case 4:return!1;case 7:push$4(b,d)}return o?-1:n||i?i:b}},arrayIteration={forEach:createMethod$2(0),map:createMethod$2(1),filter:createMethod$2(2),some:createMethod$2(3),every:createMethod$2(4),find:createMethod$2(5),findIndex:createMethod$2(6),filterReject:createMethod$2(7)},lengthOfArrayLike$8=lengthOfArrayLike$g,arrayFromConstructorAndList$2=function(e,t,r){for(var n=0,i=arguments.length>2?r:lengthOfArrayLike$8(t),o=new e(i);i>n;)o[n]=t[n++];return o},$$f=_export,global$b=global$E,call$7=functionCall,DESCRIPTORS$b=descriptors$1,TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS=typedArrayConstructorsRequireWrappers,ArrayBufferViewCore$9=arrayBufferViewCore,ArrayBufferModule=arrayBuffer,anInstance$4=anInstance$7,createPropertyDescriptor$4=createPropertyDescriptor$9,createNonEnumerableProperty=createNonEnumerableProperty$c,isIntegralNumber=isIntegralNumber$1,toLength$1=toLength$7,toIndex=toIndex$3,toOffset$1=toOffset$2,toUint8Clamped=toUint8Clamped$1,toPropertyKey=toPropertyKey$3,hasOwn$6=hasOwnProperty_1,classof$3=classof$g,isObject$2=isObject$k,isSymbol=isSymbol$4,create$2=objectCreate,isPrototypeOf$1=objectIsPrototypeOf,setPrototypeOf=objectSetPrototypeOf,getOwnPropertyNames=objectGetOwnPropertyNames.f,typedArrayFrom=typedArrayFrom$1,forEach$3=arrayIteration.forEach,setSpecies$1=setSpecies$4,defineBuiltInAccessor$6=defineBuiltInAccessor$c,definePropertyModule$1=objectDefineProperty,getOwnPropertyDescriptorModule=objectGetOwnPropertyDescriptor,arrayFromConstructorAndList$1=arrayFromConstructorAndList$2,InternalStateModule$5=internalState,inheritIfRequired$1=inheritIfRequired$5,getInternalState$3=InternalStateModule$5.get,setInternalState$5=InternalStateModule$5.set,enforceInternalState=InternalStateModule$5.enforce,nativeDefineProperty=definePropertyModule$1.f,nativeGetOwnPropertyDescriptor=getOwnPropertyDescriptorModule.f,RangeError$2=global$b.RangeError,ArrayBuffer$2=ArrayBufferModule.ArrayBuffer,ArrayBufferPrototype=ArrayBuffer$2.prototype,DataView$1=ArrayBufferModule.DataView,NATIVE_ARRAY_BUFFER_VIEWS=ArrayBufferViewCore$9.NATIVE_ARRAY_BUFFER_VIEWS,TYPED_ARRAY_TAG=ArrayBufferViewCore$9.TYPED_ARRAY_TAG,TypedArray=ArrayBufferViewCore$9.TypedArray,TypedArrayPrototype=ArrayBufferViewCore$9.TypedArrayPrototype,isTypedArray$1=ArrayBufferViewCore$9.isTypedArray,BYTES_PER_ELEMENT="BYTES_PER_ELEMENT",WRONG_LENGTH="Wrong length",addGetter=function(e,t){defineBuiltInAccessor$6(e,t,{configurable:!0,get:function(){return getInternalState$3(this)[t]}})},isArrayBuffer$1=function(e){var t;return isPrototypeOf$1(ArrayBufferPrototype,e)||"ArrayBuffer"===(t=classof$3(e))||"SharedArrayBuffer"===t},isTypedArrayIndex=function(e,t){return isTypedArray$1(e)&&!isSymbol(t)&&t in e&&isIntegralNumber(+t)&&t>=0},wrappedGetOwnPropertyDescriptor=function(e,t){return t=toPropertyKey(t),isTypedArrayIndex(e,t)?createPropertyDescriptor$4(2,e[t]):nativeGetOwnPropertyDescriptor(e,t)},wrappedDefineProperty=function(e,t,r){return t=toPropertyKey(t),!(isTypedArrayIndex(e,t)&&isObject$2(r)&&hasOwn$6(r,"value"))||hasOwn$6(r,"get")||hasOwn$6(r,"set")||r.configurable||hasOwn$6(r,"writable")&&!r.writable||hasOwn$6(r,"enumerable")&&!r.enumerable?nativeDefineProperty(e,t,r):(e[t]=r.value,e)};DESCRIPTORS$b?(NATIVE_ARRAY_BUFFER_VIEWS||(getOwnPropertyDescriptorModule.f=wrappedGetOwnPropertyDescriptor,definePropertyModule$1.f=wrappedDefineProperty,addGetter(TypedArrayPrototype,"buffer"),addGetter(TypedArrayPrototype,"byteOffset"),addGetter(TypedArrayPrototype,"byteLength"),addGetter(TypedArrayPrototype,"length")),$$f({target:"Object",stat:!0,forced:!NATIVE_ARRAY_BUFFER_VIEWS},{getOwnPropertyDescriptor:wrappedGetOwnPropertyDescriptor,defineProperty:wrappedDefineProperty}),typedArrayConstructor.exports=function(e,t,r){var n=e.match(/\d+/)[0]/8,i=e+(r?"Clamped":"")+"Array",o="get"+e,s="set"+e,a=global$b[i],l=a,c=l&&l.prototype,u={},h=function(e,t){nativeDefineProperty(e,t,{get:function(){return function(e,t){var r=getInternalState$3(e);return r.view[o](t*n+r.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,i){var o=getInternalState$3(e);o.view[s](t*n+o.byteOffset,r?toUint8Clamped(i):i,!0)}(this,t,e)},enumerable:!0})};NATIVE_ARRAY_BUFFER_VIEWS?TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS&&(l=t((function(e,t,r,i){return anInstance$4(e,c),inheritIfRequired$1(isObject$2(t)?isArrayBuffer$1(t)?void 0!==i?new a(t,toOffset$1(r,n),i):void 0!==r?new a(t,toOffset$1(r,n)):new a(t):isTypedArray$1(t)?arrayFromConstructorAndList$1(l,t):call$7(typedArrayFrom,l,t):new a(toIndex(t)),e,l)})),setPrototypeOf&&setPrototypeOf(l,TypedArray),forEach$3(getOwnPropertyNames(a),(function(e){e in l||createNonEnumerableProperty(l,e,a[e])})),l.prototype=c):(l=t((function(e,t,r,i){anInstance$4(e,c);var o,s,a,u=0,d=0;if(isObject$2(t)){if(!isArrayBuffer$1(t))return isTypedArray$1(t)?arrayFromConstructorAndList$1(l,t):call$7(typedArrayFrom,l,t);o=t,d=toOffset$1(r,n);var p=t.byteLength;if(void 0===i){if(p%n)throw new RangeError$2(WRONG_LENGTH);if((s=p-d)<0)throw new RangeError$2(WRONG_LENGTH)}else if((s=toLength$1(i)*n)+d>p)throw new RangeError$2(WRONG_LENGTH);a=s/n}else a=toIndex(t),o=new ArrayBuffer$2(s=a*n);for(setInternalState$5(e,{buffer:o,byteOffset:d,byteLength:s,length:a,view:new DataView$1(o)});u<a;)h(e,u++)})),setPrototypeOf&&setPrototypeOf(l,TypedArray),c=l.prototype=create$2(TypedArrayPrototype)),c.constructor!==l&&createNonEnumerableProperty(c,"constructor",l),enforceInternalState(c).TypedArrayConstructor=l,TYPED_ARRAY_TAG&&createNonEnumerableProperty(c,TYPED_ARRAY_TAG,i);var d=l!==a;u[i]=l,$$f({global:!0,constructor:!0,forced:d,sham:!NATIVE_ARRAY_BUFFER_VIEWS},u),BYTES_PER_ELEMENT in l||createNonEnumerableProperty(l,BYTES_PER_ELEMENT,n),BYTES_PER_ELEMENT in c||createNonEnumerableProperty(c,BYTES_PER_ELEMENT,n),setSpecies$1(i)}):typedArrayConstructor.exports=function(){};var typedArrayConstructorExports=typedArrayConstructor.exports,createTypedArrayConstructor=typedArrayConstructorExports;createTypedArrayConstructor("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}));var ArrayBufferViewCore$8=arrayBufferViewCore,lengthOfArrayLike$7=lengthOfArrayLike$g,toIntegerOrInfinity$2=toIntegerOrInfinity$a,aTypedArray$8=ArrayBufferViewCore$8.aTypedArray,exportTypedArrayMethod$8=ArrayBufferViewCore$8.exportTypedArrayMethod;exportTypedArrayMethod$8("at",(function(e){var t=aTypedArray$8(this),r=lengthOfArrayLike$7(t),n=toIntegerOrInfinity$2(e),i=n>=0?n:r+n;return i<0||i>=r?void 0:t[i]}));var ArrayBufferViewCore$7=arrayBufferViewCore,$fill=arrayFill$1,toBigInt$1=toBigInt$3,classof$2=classof$g,call$6=functionCall,uncurryThis$c=functionUncurryThis,fails$7=fails$B,aTypedArray$7=ArrayBufferViewCore$7.aTypedArray,exportTypedArrayMethod$7=ArrayBufferViewCore$7.exportTypedArrayMethod,slice=uncurryThis$c("".slice),CONVERSION_BUG=fails$7((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e}));exportTypedArrayMethod$7("fill",(function(e){var t=arguments.length;aTypedArray$7(this);var r="Big"===slice(classof$2(this),0,3)?toBigInt$1(e):+e;return call$6($fill,this,r,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),CONVERSION_BUG);var bind$4=functionBindContext,IndexedObject$2=indexedObject,toObject$4=toObject$d,lengthOfArrayLike$6=lengthOfArrayLike$g,createMethod$1=function(e){var t=1===e;return function(r,n,i){for(var o,s=toObject$4(r),a=IndexedObject$2(s),l=lengthOfArrayLike$6(a),c=bind$4(n,i);l-- >0;)if(c(o=a[l],l,s))switch(e){case 0:return o;case 1:return l}return t?-1:void 0}},arrayIterationFromLast={findLast:createMethod$1(0),findLastIndex:createMethod$1(1)},ArrayBufferViewCore$6=arrayBufferViewCore,$findLast=arrayIterationFromLast.findLast,aTypedArray$6=ArrayBufferViewCore$6.aTypedArray,exportTypedArrayMethod$6=ArrayBufferViewCore$6.exportTypedArrayMethod;exportTypedArrayMethod$6("findLast",(function(e){return $findLast(aTypedArray$6(this),e,arguments.length>1?arguments[1]:void 0)}));var ArrayBufferViewCore$5=arrayBufferViewCore,$findLastIndex=arrayIterationFromLast.findLastIndex,aTypedArray$5=ArrayBufferViewCore$5.aTypedArray,exportTypedArrayMethod$5=ArrayBufferViewCore$5.exportTypedArrayMethod;exportTypedArrayMethod$5("findLastIndex",(function(e){return $findLastIndex(aTypedArray$5(this),e,arguments.length>1?arguments[1]:void 0)}));var global$a=global$E,call$5=functionCall,ArrayBufferViewCore$4=arrayBufferViewCore,lengthOfArrayLike$5=lengthOfArrayLike$g,toOffset=toOffset$2,toIndexedObject=toObject$d,fails$6=fails$B,RangeError$1=global$a.RangeError,Int8Array$1=global$a.Int8Array,Int8ArrayPrototype=Int8Array$1&&Int8Array$1.prototype,$set=Int8ArrayPrototype&&Int8ArrayPrototype.set,aTypedArray$4=ArrayBufferViewCore$4.aTypedArray,exportTypedArrayMethod$4=ArrayBufferViewCore$4.exportTypedArrayMethod,WORKS_WITH_OBJECTS_AND_GENERIC_ON_TYPED_ARRAYS=!fails$6((function(){var e=new Uint8ClampedArray(2);return call$5($set,e,{length:1,0:3},1),3!==e[1]})),TO_OBJECT_BUG=WORKS_WITH_OBJECTS_AND_GENERIC_ON_TYPED_ARRAYS&&ArrayBufferViewCore$4.NATIVE_ARRAY_BUFFER_VIEWS&&fails$6((function(){var e=new Int8Array$1(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));exportTypedArrayMethod$4("set",(function(e){aTypedArray$4(this);var t=toOffset(arguments.length>1?arguments[1]:void 0,1),r=toIndexedObject(e);if(WORKS_WITH_OBJECTS_AND_GENERIC_ON_TYPED_ARRAYS)return call$5($set,this,r,t);var n=this.length,i=lengthOfArrayLike$5(r),o=0;if(i+t>n)throw new RangeError$1("Wrong length");for(;o<i;)this[t+o]=r[o++]}),!WORKS_WITH_OBJECTS_AND_GENERIC_ON_TYPED_ARRAYS||TO_OBJECT_BUG);var global$9=global$E,uncurryThis$b=functionUncurryThisClause,fails$5=fails$B,aCallable$2=aCallable$c,internalSort=arraySort$1,ArrayBufferViewCore$3=arrayBufferViewCore,FF=engineFfVersion,IE_OR_EDGE=engineIsIeOrEdge,V8=engineV8Version,WEBKIT=engineWebkitVersion,aTypedArray$3=ArrayBufferViewCore$3.aTypedArray,exportTypedArrayMethod$3=ArrayBufferViewCore$3.exportTypedArrayMethod,Uint16Array=global$9.Uint16Array,nativeSort=Uint16Array&&uncurryThis$b(Uint16Array.prototype.sort),ACCEPT_INCORRECT_ARGUMENTS=!(!nativeSort||fails$5((function(){nativeSort(new Uint16Array(2),null)}))&&fails$5((function(){nativeSort(new Uint16Array(2),{})}))),STABLE_SORT=!!nativeSort&&!fails$5((function(){if(V8)return V8<74;if(FF)return FF<67;if(IE_OR_EDGE)return!0;if(WEBKIT)return WEBKIT<602;var e,t,r=new Uint16Array(516),n=Array(516);for(e=0;e<516;e++)t=e%4,r[e]=515-e,n[e]=e-2*t+3;for(nativeSort(r,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(r[e]!==n[e])return!0})),getSortCompare=function(e){return function(t,r){return void 0!==e?+e(t,r)||0:r!=r?-1:t!=t?1:0===t&&0===r?1/t>0&&1/r<0?1:-1:t>r}};exportTypedArrayMethod$3("sort",(function(e){return void 0!==e&&aCallable$2(e),STABLE_SORT?nativeSort(this,e):internalSort(aTypedArray$3(this),getSortCompare(e))}),!STABLE_SORT||ACCEPT_INCORRECT_ARGUMENTS);var lengthOfArrayLike$4=lengthOfArrayLike$g,arrayToReversed$1=function(e,t){for(var r=lengthOfArrayLike$4(e),n=new t(r),i=0;i<r;i++)n[i]=e[r-i-1];return n},arrayToReversed=arrayToReversed$1,ArrayBufferViewCore$2=arrayBufferViewCore,aTypedArray$2=ArrayBufferViewCore$2.aTypedArray,exportTypedArrayMethod$2=ArrayBufferViewCore$2.exportTypedArrayMethod,getTypedArrayConstructor$2=ArrayBufferViewCore$2.getTypedArrayConstructor;exportTypedArrayMethod$2("toReversed",(function(){return arrayToReversed(aTypedArray$2(this),getTypedArrayConstructor$2(this))}));var ArrayBufferViewCore$1=arrayBufferViewCore,uncurryThis$a=functionUncurryThis,aCallable$1=aCallable$c,arrayFromConstructorAndList=arrayFromConstructorAndList$2,aTypedArray$1=ArrayBufferViewCore$1.aTypedArray,getTypedArrayConstructor$1=ArrayBufferViewCore$1.getTypedArrayConstructor,exportTypedArrayMethod$1=ArrayBufferViewCore$1.exportTypedArrayMethod,sort=uncurryThis$a(ArrayBufferViewCore$1.TypedArrayPrototype.sort);exportTypedArrayMethod$1("toSorted",(function(e){void 0!==e&&aCallable$1(e);var t=aTypedArray$1(this),r=arrayFromConstructorAndList(getTypedArrayConstructor$1(t),t);return sort(r,e)}));var lengthOfArrayLike$3=lengthOfArrayLike$g,toIntegerOrInfinity$1=toIntegerOrInfinity$a,$RangeError$1=RangeError,arrayWith$1=function(e,t,r,n){var i=lengthOfArrayLike$3(e),o=toIntegerOrInfinity$1(r),s=o<0?i+o:o;if(s>=i||s<0)throw new $RangeError$1("Incorrect index");for(var a=new t(i),l=0;l<i;l++)a[l]=l===s?n:e[l];return a},arrayWith=arrayWith$1,ArrayBufferViewCore=arrayBufferViewCore,isBigIntArray=isBigIntArray$2,toIntegerOrInfinity=toIntegerOrInfinity$a,toBigInt=toBigInt$3,aTypedArray=ArrayBufferViewCore.aTypedArray,getTypedArrayConstructor=ArrayBufferViewCore.getTypedArrayConstructor,exportTypedArrayMethod=ArrayBufferViewCore.exportTypedArrayMethod,PROPER_ORDER=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(error){return 8===error}}();exportTypedArrayMethod("with",{with:function(e,t){var r=aTypedArray(this),n=toIntegerOrInfinity(e),i=isBigIntArray(r)?toBigInt(t):+t;return arrayWith(r,getTypedArrayConstructor(r),n,i)}}.with,!PROPER_ORDER);var DESCRIPTORS$a=descriptors$1,fails$4=fails$B,anObject$4=anObject$i,normalizeStringArgument$2=normalizeStringArgument$4,nativeErrorToString=Error.prototype.toString,INCORRECT_TO_STRING$1=fails$4((function(){if(DESCRIPTORS$a){var e=Object.create(Object.defineProperty({},"name",{get:function(){return this===e}}));if("true"!==nativeErrorToString.call(e))return!0}return"2: 1"!==nativeErrorToString.call({message:1,name:2})||"Error"!==nativeErrorToString.call({})})),errorToString$1=INCORRECT_TO_STRING$1?function(){var e=anObject$4(this),t=normalizeStringArgument$2(e.name,"Error"),r=normalizeStringArgument$2(e.message);return t?r?t+": "+r:t:r}:nativeErrorToString,domExceptionConstants={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}},$$e=_export,tryNodeRequire=tryNodeRequire$2,getBuiltIn$2=getBuiltIn$c,fails$3=fails$B,create$1=objectCreate,createPropertyDescriptor$3=createPropertyDescriptor$9,defineProperty$4=objectDefineProperty.f,defineBuiltIn$5=defineBuiltIn$f,defineBuiltInAccessor$5=defineBuiltInAccessor$c,hasOwn$5=hasOwnProperty_1,anInstance$3=anInstance$7,anObject$3=anObject$i,errorToString=errorToString$1,normalizeStringArgument$1=normalizeStringArgument$4,DOMExceptionConstants$1=domExceptionConstants,clearErrorStack$1=errorStackClear,InternalStateModule$4=internalState,DESCRIPTORS$9=descriptors$1,DOM_EXCEPTION$2="DOMException",DATA_CLONE_ERR="DATA_CLONE_ERR",Error$2=getBuiltIn$2("Error"),NativeDOMException$1=getBuiltIn$2(DOM_EXCEPTION$2)||function(){try{(new(getBuiltIn$2("MessageChannel")||tryNodeRequire("worker_threads").MessageChannel)).port1.postMessage(new WeakMap)}catch(error){if(error.name===DATA_CLONE_ERR&&25===error.code)return error.constructor}}(),NativeDOMExceptionPrototype=NativeDOMException$1&&NativeDOMException$1.prototype,ErrorPrototype=Error$2.prototype,setInternalState$4=InternalStateModule$4.set,getInternalState$2=InternalStateModule$4.getterFor(DOM_EXCEPTION$2),HAS_STACK="stack"in new Error$2(DOM_EXCEPTION$2),codeFor=function(e){return hasOwn$5(DOMExceptionConstants$1,e)&&DOMExceptionConstants$1[e].m?DOMExceptionConstants$1[e].c:0},$DOMException$1=function(){anInstance$3(this,DOMExceptionPrototype$1);var e=arguments.length,t=normalizeStringArgument$1(e<1?void 0:arguments[0]),r=normalizeStringArgument$1(e<2?void 0:arguments[1],"Error"),n=codeFor(r);if(setInternalState$4(this,{type:DOM_EXCEPTION$2,name:r,message:t,code:n}),DESCRIPTORS$9||(this.name=r,this.message=t,this.code=n),HAS_STACK){var i=new Error$2(t);i.name=DOM_EXCEPTION$2,defineProperty$4(this,"stack",createPropertyDescriptor$3(1,clearErrorStack$1(i.stack,1)))}},DOMExceptionPrototype$1=$DOMException$1.prototype=create$1(ErrorPrototype),createGetterDescriptor=function(e){return{enumerable:!0,configurable:!0,get:e}},getterFor=function(e){return createGetterDescriptor((function(){return getInternalState$2(this)[e]}))};DESCRIPTORS$9&&(defineBuiltInAccessor$5(DOMExceptionPrototype$1,"code",getterFor("code")),defineBuiltInAccessor$5(DOMExceptionPrototype$1,"message",getterFor("message")),defineBuiltInAccessor$5(DOMExceptionPrototype$1,"name",getterFor("name"))),defineProperty$4(DOMExceptionPrototype$1,"constructor",createPropertyDescriptor$3(1,$DOMException$1));var INCORRECT_CONSTRUCTOR=fails$3((function(){return!(new NativeDOMException$1 instanceof Error$2)})),INCORRECT_TO_STRING=INCORRECT_CONSTRUCTOR||fails$3((function(){return ErrorPrototype.toString!==errorToString||"2: 1"!==String(new NativeDOMException$1(1,2))})),INCORRECT_CODE=INCORRECT_CONSTRUCTOR||fails$3((function(){return 25!==new NativeDOMException$1(1,"DataCloneError").code}));INCORRECT_CONSTRUCTOR||25!==NativeDOMException$1[DATA_CLONE_ERR]||NativeDOMExceptionPrototype[DATA_CLONE_ERR];var FORCED_CONSTRUCTOR$1=INCORRECT_CONSTRUCTOR;$$e({global:!0,constructor:!0,forced:FORCED_CONSTRUCTOR$1},{DOMException:FORCED_CONSTRUCTOR$1?$DOMException$1:NativeDOMException$1});var PolyfilledDOMException$1=getBuiltIn$2(DOM_EXCEPTION$2),PolyfilledDOMExceptionPrototype$1=PolyfilledDOMException$1.prototype;for(var key$1 in INCORRECT_TO_STRING&&NativeDOMException$1===PolyfilledDOMException$1&&defineBuiltIn$5(PolyfilledDOMExceptionPrototype$1,"toString",errorToString),INCORRECT_CODE&&DESCRIPTORS$9&&NativeDOMException$1===PolyfilledDOMException$1&&defineBuiltInAccessor$5(PolyfilledDOMExceptionPrototype$1,"code",createGetterDescriptor((function(){return codeFor(anObject$3(this).name)}))),DOMExceptionConstants$1)if(hasOwn$5(DOMExceptionConstants$1,key$1)){var constant$1=DOMExceptionConstants$1[key$1],constantName$1=constant$1.s,descriptor$2=createPropertyDescriptor$3(6,constant$1.c);hasOwn$5(PolyfilledDOMException$1,constantName$1)||defineProperty$4(PolyfilledDOMException$1,constantName$1,descriptor$2),hasOwn$5(PolyfilledDOMExceptionPrototype$1,constantName$1)||defineProperty$4(PolyfilledDOMExceptionPrototype$1,constantName$1,descriptor$2)}var $$d=_export,global$8=global$E,getBuiltIn$1=getBuiltIn$c,createPropertyDescriptor$2=createPropertyDescriptor$9,defineProperty$3=objectDefineProperty.f,hasOwn$4=hasOwnProperty_1,anInstance$2=anInstance$7,inheritIfRequired=inheritIfRequired$5,normalizeStringArgument=normalizeStringArgument$4,DOMExceptionConstants=domExceptionConstants,clearErrorStack=errorStackClear,DESCRIPTORS$8=descriptors$1,DOM_EXCEPTION$1="DOMException",Error$1=getBuiltIn$1("Error"),NativeDOMException=getBuiltIn$1(DOM_EXCEPTION$1),$DOMException=function(){anInstance$2(this,DOMExceptionPrototype);var e=arguments.length,t=normalizeStringArgument(e<1?void 0:arguments[0]),r=normalizeStringArgument(e<2?void 0:arguments[1],"Error"),n=new NativeDOMException(t,r),i=new Error$1(t);return i.name=DOM_EXCEPTION$1,defineProperty$3(n,"stack",createPropertyDescriptor$2(1,clearErrorStack(i.stack,1))),inheritIfRequired(n,this,$DOMException),n},DOMExceptionPrototype=$DOMException.prototype=NativeDOMException.prototype,ERROR_HAS_STACK="stack"in new Error$1(DOM_EXCEPTION$1),DOM_EXCEPTION_HAS_STACK="stack"in new NativeDOMException(1,2),descriptor$1=NativeDOMException&&DESCRIPTORS$8&&Object.getOwnPropertyDescriptor(global$8,DOM_EXCEPTION$1),BUGGY_DESCRIPTOR=!(!descriptor$1||descriptor$1.writable&&descriptor$1.configurable),FORCED_CONSTRUCTOR=ERROR_HAS_STACK&&!BUGGY_DESCRIPTOR&&!DOM_EXCEPTION_HAS_STACK;$$d({global:!0,constructor:!0,forced:FORCED_CONSTRUCTOR},{DOMException:FORCED_CONSTRUCTOR?$DOMException:NativeDOMException});var PolyfilledDOMException=getBuiltIn$1(DOM_EXCEPTION$1),PolyfilledDOMExceptionPrototype=PolyfilledDOMException.prototype;if(PolyfilledDOMExceptionPrototype.constructor!==PolyfilledDOMException)for(var key in defineProperty$3(PolyfilledDOMExceptionPrototype,"constructor",createPropertyDescriptor$2(1,PolyfilledDOMException)),DOMExceptionConstants)if(hasOwn$4(DOMExceptionConstants,key)){var constant=DOMExceptionConstants[key],constantName=constant.s;hasOwn$4(PolyfilledDOMException,constantName)||defineProperty$3(PolyfilledDOMException,constantName,createPropertyDescriptor$2(6,constant.c))}var getBuiltIn=getBuiltIn$c,setToStringTag$2=setToStringTag$8,DOM_EXCEPTION="DOMException";
/*! js-cookie v3.0.5 | MIT */
function assign$1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}setToStringTag$2(getBuiltIn(DOM_EXCEPTION),DOM_EXCEPTION);var defaultConverter={read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function init(e,t){function r(r,n,i){if("undefined"!=typeof document){"number"==typeof(i=assign$1({},t,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),r=encodeURIComponent(r).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var s in i)i[s]&&(o+="; "+s,!0!==i[s]&&(o+="="+i[s].split(";")[0]));return document.cookie=r+"="+e.write(n,r)+o}}return Object.create({set:r,get:function(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var r=document.cookie?document.cookie.split("; "):[],n={},i=0;i<r.length;i++){var o=r[i].split("="),s=o.slice(1).join("=");try{var a=decodeURIComponent(o[0]);if(n[a]=e.read(s,a),t===a)break}catch(l){}}return t?n[t]:n}},remove:function(e,t){r(e,"",assign$1({},t,{expires:-1}))},withAttributes:function(e){return init(this.converter,assign$1({},this.attributes,e))},withConverter:function(e){return init(assign$1({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var api=init(defaultConverter,{path:"/"}),$$c=_export,global$7=global$E,arrayBufferModule=arrayBuffer,setSpecies=setSpecies$4,ARRAY_BUFFER="ArrayBuffer",ArrayBuffer$1=arrayBufferModule[ARRAY_BUFFER],NativeArrayBuffer=global$7[ARRAY_BUFFER];$$c({global:!0,constructor:!0,forced:NativeArrayBuffer!==ArrayBuffer$1},{ArrayBuffer:ArrayBuffer$1}),setSpecies(ARRAY_BUFFER);const t$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n$1="ARRAYBUFFER not supported by this environment",e$1="UINT8ARRAY not supported by this environment";function r$1(e,t,r,n){let i,o,s;const a=t||[0],l=(r=r||0)>>>3,c=-1===n?3:0;for(i=0;i<e.length;i+=1)s=i+l,o=s>>>2,a.length<=o&&a.push(0),a[o]|=e[i]<<8*(c+n*(s%4));return{value:a,binLen:8*e.length+r}}function i$1(e,t,r){switch(t){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw new Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(e){case"HEX":return function(e,t,n){return function(e,t,r,n){let i,o,s,a;if(0!=e.length%2)throw new Error("String of HEX type must be in byte increments");const l=t||[0],c=(r=r||0)>>>3,u=-1===n?3:0;for(i=0;i<e.length;i+=2){if(o=parseInt(e.substr(i,2),16),isNaN(o))throw new Error("String of HEX type contains invalid characters");for(a=(i>>>1)+c,s=a>>>2;l.length<=s;)l.push(0);l[s]|=o<<8*(u+n*(a%4))}return{value:l,binLen:4*e.length+r}}(e,t,n,r)};case"TEXT":return function(e,n,i){return function(e,t,r,n,i){let o,s,a,l,c,u,h,d,p=0;const f=r||[0],y=(n=n||0)>>>3;if("UTF8"===t)for(h=-1===i?3:0,a=0;a<e.length;a+=1)for(o=e.charCodeAt(a),s=[],128>o?s.push(o):2048>o?(s.push(192|o>>>6),s.push(128|63&o)):55296>o||57344<=o?s.push(224|o>>>12,128|o>>>6&63,128|63&o):(a+=1,o=65536+((1023&o)<<10|1023&e.charCodeAt(a)),s.push(240|o>>>18,128|o>>>12&63,128|o>>>6&63,128|63&o)),l=0;l<s.length;l+=1){for(u=p+y,c=u>>>2;f.length<=c;)f.push(0);f[c]|=s[l]<<8*(h+i*(u%4)),p+=1}else for(h=-1===i?2:0,d="UTF16LE"===t&&1!==i||"UTF16LE"!==t&&1===i,a=0;a<e.length;a+=1){for(o=e.charCodeAt(a),!0===d&&(l=255&o,o=l<<8|o>>>8),u=p+y,c=u>>>2;f.length<=c;)f.push(0);f[c]|=o<<8*(h+i*(u%4)),p+=2}return{value:f,binLen:8*p+n}}(e,t,n,i,r)};case"B64":return function(e,t,n){return function(e,t,r,n){let i,o,s,a,l,c,u,h=0;const d=t||[0],p=(r=r||0)>>>3,f=-1===n?3:0,y=e.indexOf("=");if(-1===e.search(/^[a-zA-Z0-9=+/]+$/))throw new Error("Invalid character in base-64 string");if(e=e.replace(/=/g,""),-1!==y&&y<e.length)throw new Error("Invalid '=' found in base-64 string");for(o=0;o<e.length;o+=4){for(l=e.substr(o,4),a=0,s=0;s<l.length;s+=1)i=t$1.indexOf(l.charAt(s)),a|=i<<18-6*s;for(s=0;s<l.length-1;s+=1){for(u=h+p,c=u>>>2;d.length<=c;)d.push(0);d[c]|=(a>>>16-8*s&255)<<8*(f+n*(u%4)),h+=1}}return{value:d,binLen:8*h+r}}(e,t,n,r)};case"BYTES":return function(e,t,n){return function(e,t,r,n){let i,o,s,a;const l=t||[0],c=(r=r||0)>>>3,u=-1===n?3:0;for(o=0;o<e.length;o+=1)i=e.charCodeAt(o),a=o+c,s=a>>>2,l.length<=s&&l.push(0),l[s]|=i<<8*(u+n*(a%4));return{value:l,binLen:8*e.length+r}}(e,t,n,r)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(n){throw new Error(n$1)}return function(e,t,n){return i=t,o=n,s=r,r$1(new Uint8Array(e),i,o,s);var i,o,s};case"UINT8ARRAY":try{new Uint8Array(0)}catch(n){throw new Error(e$1)}return function(e,t,n){return r$1(e,t,n,r)};default:throw new Error("format must be HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}function s$1(e,t,r,n){switch(e){case"HEX":return function(e){return function(e,t,r,n){const i="0123456789abcdef";let o,s,a="";const l=t/8,c=-1===r?3:0;for(o=0;o<l;o+=1)s=e[o>>>2]>>>8*(c+r*(o%4)),a+=i.charAt(s>>>4&15)+i.charAt(15&s);return n.outputUpper?a.toUpperCase():a}(e,t,r,n)};case"B64":return function(e){return function(e,t,r,n){let i,o,s,a,l,c="";const u=t/8,h=-1===r?3:0;for(i=0;i<u;i+=3)for(a=i+1<u?e[i+1>>>2]:0,l=i+2<u?e[i+2>>>2]:0,s=(e[i>>>2]>>>8*(h+r*(i%4))&255)<<16|(a>>>8*(h+r*((i+1)%4))&255)<<8|l>>>8*(h+r*((i+2)%4))&255,o=0;o<4;o+=1)c+=8*i+6*o<=t?t$1.charAt(s>>>6*(3-o)&63):n.b64Pad;return c}(e,t,r,n)};case"BYTES":return function(e){return function(e,t,r){let n,i,o="";const s=t/8,a=-1===r?3:0;for(n=0;n<s;n+=1)i=e[n>>>2]>>>8*(a+r*(n%4))&255,o+=String.fromCharCode(i);return o}(e,t,r)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(i){throw new Error(n$1)}return function(e){return function(e,t,r){let n;const i=t/8,o=new ArrayBuffer(i),s=new Uint8Array(o),a=-1===r?3:0;for(n=0;n<i;n+=1)s[n]=e[n>>>2]>>>8*(a+r*(n%4))&255;return o}(e,t,r)};case"UINT8ARRAY":try{new Uint8Array(0)}catch(i){throw new Error(e$1)}return function(e){return function(e,t,r){let n;const i=t/8,o=-1===r?3:0,s=new Uint8Array(i);for(n=0;n<i;n+=1)s[n]=e[n>>>2]>>>8*(o+r*(n%4))&255;return s}(e,t,r)};default:throw new Error("format must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}const o$2=4294967296,h$1=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],u$1=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],w$1=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c$1="Chosen SHA variant is not supported",f$1="Cannot set numRounds with MAC";function a$1(e,t){let r,n;const i=e.binLen>>>3,o=t.binLen>>>3,s=i<<3,a=4-i<<3;if(i%4!=0){for(r=0;r<o;r+=4)n=i+r>>>2,e.value[n]|=t.value[r>>>2]<<s,e.value.push(0),e.value[n+1]|=t.value[r>>>2]>>>a;return(e.value.length<<2)-4>=o+i&&e.value.pop(),{value:e.value,binLen:e.binLen+t.binLen}}return{value:e.value.concat(t.value),binLen:e.binLen+t.binLen}}function l$1(e){const t={outputUpper:!1,b64Pad:"=",outputLen:-1},r=e||{},n="Output length must be a multiple of 8";if(t.outputUpper=r.outputUpper||!1,r.b64Pad&&(t.b64Pad=r.b64Pad),r.outputLen){if(r.outputLen%8!=0)throw new Error(n);t.outputLen=r.outputLen}else if(r.shakeLen){if(r.shakeLen%8!=0)throw new Error(n);t.outputLen=r.shakeLen}if("boolean"!=typeof t.outputUpper)throw new Error("Invalid outputUpper formatting option");if("string"!=typeof t.b64Pad)throw new Error("Invalid b64Pad formatting option");return t}function A$1(e,t,r,n){const i=e+" must include a value and format";if(!t){if(!n)throw new Error(i);return n}if(void 0===t.value||!t.format)throw new Error(i);return i$1(t.format,t.encoding||"UTF8",r)(t.value)}let E$1=class{constructor(e,t,r){const n=r||{};if(this.t=t,this.i=n.encoding||"UTF8",this.numRounds=n.numRounds||1,isNaN(this.numRounds)||this.numRounds!==parseInt(this.numRounds,10)||1>this.numRounds)throw new Error("numRounds must a integer >= 1");this.o=e,this.h=[],this.u=0,this.l=!1,this.A=0,this.H=!1,this.S=[],this.p=[]}update(e){let t,r=0;const n=this.m>>>5,i=this.C(e,this.h,this.u),o=i.binLen,s=i.value,a=o>>>5;for(t=0;t<a;t+=n)r+this.m<=o&&(this.U=this.v(s.slice(t,t+n),this.U),r+=this.m);return this.A+=r,this.h=s.slice(r>>>5),this.u=o%this.m,this.l=!0,this}getHash(e,t){let r,n,i=this.R;const o=l$1(t);if(this.K){if(-1===o.outputLen)throw new Error("Output length must be specified in options");i=o.outputLen}const s=s$1(e,i,this.T,o);if(this.H&&this.g)return s(this.g(o));for(n=this.F(this.h.slice(),this.u,this.A,this.L(this.U),i),r=1;r<this.numRounds;r+=1)this.K&&i%32!=0&&(n[n.length-1]&=16777215>>>24-i%32),n=this.F(n,i,0,this.B(this.o),i);return s(n)}setHMACKey(e,t,r){if(!this.M)throw new Error("Variant does not support HMAC");if(this.l)throw new Error("Cannot set MAC key after calling update");const n=i$1(t,(r||{}).encoding||"UTF8",this.T);this.k(n(e))}k(e){const t=this.m>>>3,r=t/4-1;let n;if(1!==this.numRounds)throw new Error(f$1);if(this.H)throw new Error("MAC key already set");for(t<e.binLen/8&&(e.value=this.F(e.value,e.binLen,0,this.B(this.o),this.R));e.value.length<=r;)e.value.push(0);for(n=0;n<=r;n+=1)this.S[n]=909522486^e.value[n],this.p[n]=1549556828^e.value[n];this.U=this.v(this.S,this.U),this.A=this.m,this.H=!0}getHMAC(e,t){const r=l$1(t);return s$1(e,this.R,this.T,r)(this.Y())}Y(){let e;if(!this.H)throw new Error("Cannot call getHMAC without first setting MAC key");const t=this.F(this.h.slice(),this.u,this.A,this.L(this.U),this.R);return e=this.v(this.p,this.B(this.o)),e=this.F(t,this.R,this.m,e,this.R),e}};function H$1(e,t){return e<<t|e>>>32-t}function S$1(e,t){return e>>>t|e<<32-t}function b$1(e,t){return e>>>t}function p$1(e,t,r){return e^t^r}function d$1(e,t,r){return e&t^~e&r}function m$1(e,t,r){return e&t^e&r^t&r}function C$1(e){return S$1(e,2)^S$1(e,13)^S$1(e,22)}function y$1(e,t){const r=(65535&e)+(65535&t);return(65535&(e>>>16)+(t>>>16)+(r>>>16))<<16|65535&r}function U$1(e,t,r,n){const i=(65535&e)+(65535&t)+(65535&r)+(65535&n);return(65535&(e>>>16)+(t>>>16)+(r>>>16)+(n>>>16)+(i>>>16))<<16|65535&i}function v$1(e,t,r,n,i){const o=(65535&e)+(65535&t)+(65535&r)+(65535&n)+(65535&i);return(65535&(e>>>16)+(t>>>16)+(r>>>16)+(n>>>16)+(i>>>16)+(o>>>16))<<16|65535&o}function R$1(e){return S$1(e,7)^S$1(e,18)^b$1(e,3)}function K$1(e){return S$1(e,6)^S$1(e,11)^S$1(e,25)}function T$1(e){return[1732584193,4023233417,2562383102,271733878,3285377520]}function g$1(e,t){let r,n,i,o,s,a,l;const c=[];for(r=t[0],n=t[1],i=t[2],o=t[3],s=t[4],l=0;l<80;l+=1)c[l]=l<16?e[l]:H$1(c[l-3]^c[l-8]^c[l-14]^c[l-16],1),a=l<20?v$1(H$1(r,5),d$1(n,i,o),s,1518500249,c[l]):l<40?v$1(H$1(r,5),p$1(n,i,o),s,1859775393,c[l]):l<60?v$1(H$1(r,5),m$1(n,i,o),s,2400959708,c[l]):v$1(H$1(r,5),p$1(n,i,o),s,3395469782,c[l]),s=o,o=i,i=H$1(n,30),n=r,r=a;return t[0]=y$1(r,t[0]),t[1]=y$1(n,t[1]),t[2]=y$1(i,t[2]),t[3]=y$1(o,t[3]),t[4]=y$1(s,t[4]),t}function F$1(e,t,r,n){let i;const o=15+(t+65>>>9<<4),s=t+r;for(;e.length<=o;)e.push(0);for(e[t>>>5]|=128<<24-t%32,e[o]=4294967295&s,e[o-1]=s/o$2|0,i=0;i<e.length;i+=16)n=g$1(e.slice(i,i+16),n);return n}let L$1=class extends E$1{constructor(e,t,r){if("SHA-1"!==e)throw new Error(c$1);super(e,t,r);const n=r||{};this.M=!0,this.g=this.Y,this.T=-1,this.C=i$1(this.t,this.i,this.T),this.v=g$1,this.L=function(e){return e.slice()},this.B=T$1,this.F=F$1,this.U=[1732584193,4023233417,2562383102,271733878,3285377520],this.m=512,this.R=160,this.K=!1,n.hmacKey&&this.k(A$1("hmacKey",n.hmacKey,this.T))}};function B$1(e){let t;return t="SHA-224"==e?u$1.slice():w$1.slice(),t}function M$1(e,t){let r,n,i,o,s,a,l,c,u,h,d;const p=[];for(r=t[0],n=t[1],i=t[2],o=t[3],s=t[4],a=t[5],l=t[6],c=t[7],d=0;d<64;d+=1)p[d]=d<16?e[d]:U$1(S$1(f=p[d-2],17)^S$1(f,19)^b$1(f,10),p[d-7],R$1(p[d-15]),p[d-16]),u=v$1(c,K$1(s),d$1(s,a,l),h$1[d],p[d]),h=y$1(C$1(r),m$1(r,n,i)),c=l,l=a,a=s,s=y$1(o,u),o=i,i=n,n=r,r=y$1(u,h);var f;return t[0]=y$1(r,t[0]),t[1]=y$1(n,t[1]),t[2]=y$1(i,t[2]),t[3]=y$1(o,t[3]),t[4]=y$1(s,t[4]),t[5]=y$1(a,t[5]),t[6]=y$1(l,t[6]),t[7]=y$1(c,t[7]),t}let k$1=class extends E$1{constructor(e,t,r){if("SHA-224"!==e&&"SHA-256"!==e)throw new Error(c$1);super(e,t,r);const n=r||{};this.g=this.Y,this.M=!0,this.T=-1,this.C=i$1(this.t,this.i,this.T),this.v=M$1,this.L=function(e){return e.slice()},this.B=B$1,this.F=function(t,r,n,i){return function(e,t,r,n,i){let o,s;const a=15+(t+65>>>9<<4),l=t+r;for(;e.length<=a;)e.push(0);for(e[t>>>5]|=128<<24-t%32,e[a]=4294967295&l,e[a-1]=l/o$2|0,o=0;o<e.length;o+=16)n=M$1(e.slice(o,o+16),n);return s="SHA-224"===i?[n[0],n[1],n[2],n[3],n[4],n[5],n[6]]:n,s}(t,r,n,i,e)},this.U=B$1(e),this.m=512,this.R="SHA-224"===e?224:256,this.K=!1,n.hmacKey&&this.k(A$1("hmacKey",n.hmacKey,this.T))}},Y$1=class{constructor(e,t){this.N=e,this.I=t}};function N$1(e,t){let r;return t>32?(r=64-t,new Y$1(e.I<<t|e.N>>>r,e.N<<t|e.I>>>r)):0!==t?(r=32-t,new Y$1(e.N<<t|e.I>>>r,e.I<<t|e.N>>>r)):e}function I$1(e,t){let r;return t<32?(r=32-t,new Y$1(e.N>>>t|e.I<<r,e.I>>>t|e.N<<r)):(r=64-t,new Y$1(e.I>>>t|e.N<<r,e.N>>>t|e.I<<r))}function X$1(e,t){return new Y$1(e.N>>>t,e.I>>>t|e.N<<32-t)}function z$1(e,t,r){return new Y$1(e.N&t.N^e.N&r.N^t.N&r.N,e.I&t.I^e.I&r.I^t.I&r.I)}function x$1(e){const t=I$1(e,28),r=I$1(e,34),n=I$1(e,39);return new Y$1(t.N^r.N^n.N,t.I^r.I^n.I)}function _$1(e,t){let r,n;r=(65535&e.I)+(65535&t.I),n=(e.I>>>16)+(t.I>>>16)+(r>>>16);const i=(65535&n)<<16|65535&r;return r=(65535&e.N)+(65535&t.N)+(n>>>16),n=(e.N>>>16)+(t.N>>>16)+(r>>>16),new Y$1((65535&n)<<16|65535&r,i)}function O$1(e,t,r,n){let i,o;i=(65535&e.I)+(65535&t.I)+(65535&r.I)+(65535&n.I),o=(e.I>>>16)+(t.I>>>16)+(r.I>>>16)+(n.I>>>16)+(i>>>16);const s=(65535&o)<<16|65535&i;return i=(65535&e.N)+(65535&t.N)+(65535&r.N)+(65535&n.N)+(o>>>16),o=(e.N>>>16)+(t.N>>>16)+(r.N>>>16)+(n.N>>>16)+(i>>>16),new Y$1((65535&o)<<16|65535&i,s)}function P$1(e,t,r,n,i){let o,s;o=(65535&e.I)+(65535&t.I)+(65535&r.I)+(65535&n.I)+(65535&i.I),s=(e.I>>>16)+(t.I>>>16)+(r.I>>>16)+(n.I>>>16)+(i.I>>>16)+(o>>>16);const a=(65535&s)<<16|65535&o;return o=(65535&e.N)+(65535&t.N)+(65535&r.N)+(65535&n.N)+(65535&i.N)+(s>>>16),s=(e.N>>>16)+(t.N>>>16)+(r.N>>>16)+(n.N>>>16)+(i.N>>>16)+(o>>>16),new Y$1((65535&s)<<16|65535&o,a)}function V$1(e,t){return new Y$1(e.N^t.N,e.I^t.I)}function Z$1(e){const t=I$1(e,19),r=I$1(e,61),n=X$1(e,6);return new Y$1(t.N^r.N^n.N,t.I^r.I^n.I)}function j$1(e){const t=I$1(e,1),r=I$1(e,8),n=X$1(e,7);return new Y$1(t.N^r.N^n.N,t.I^r.I^n.I)}function q$1(e){const t=I$1(e,14),r=I$1(e,18),n=I$1(e,41);return new Y$1(t.N^r.N^n.N,t.I^r.I^n.I)}const D$1=[new Y$1(h$1[0],3609767458),new Y$1(h$1[1],602891725),new Y$1(h$1[2],3964484399),new Y$1(h$1[3],2173295548),new Y$1(h$1[4],4081628472),new Y$1(h$1[5],3053834265),new Y$1(h$1[6],2937671579),new Y$1(h$1[7],3664609560),new Y$1(h$1[8],2734883394),new Y$1(h$1[9],1164996542),new Y$1(h$1[10],1323610764),new Y$1(h$1[11],3590304994),new Y$1(h$1[12],4068182383),new Y$1(h$1[13],991336113),new Y$1(h$1[14],633803317),new Y$1(h$1[15],3479774868),new Y$1(h$1[16],2666613458),new Y$1(h$1[17],944711139),new Y$1(h$1[18],2341262773),new Y$1(h$1[19],2007800933),new Y$1(h$1[20],1495990901),new Y$1(h$1[21],1856431235),new Y$1(h$1[22],3175218132),new Y$1(h$1[23],2198950837),new Y$1(h$1[24],3999719339),new Y$1(h$1[25],766784016),new Y$1(h$1[26],2566594879),new Y$1(h$1[27],3203337956),new Y$1(h$1[28],1034457026),new Y$1(h$1[29],2466948901),new Y$1(h$1[30],3758326383),new Y$1(h$1[31],168717936),new Y$1(h$1[32],1188179964),new Y$1(h$1[33],1546045734),new Y$1(h$1[34],1522805485),new Y$1(h$1[35],2643833823),new Y$1(h$1[36],2343527390),new Y$1(h$1[37],1014477480),new Y$1(h$1[38],1206759142),new Y$1(h$1[39],344077627),new Y$1(h$1[40],1290863460),new Y$1(h$1[41],3158454273),new Y$1(h$1[42],3505952657),new Y$1(h$1[43],106217008),new Y$1(h$1[44],3606008344),new Y$1(h$1[45],1432725776),new Y$1(h$1[46],1467031594),new Y$1(h$1[47],851169720),new Y$1(h$1[48],3100823752),new Y$1(h$1[49],1363258195),new Y$1(h$1[50],3750685593),new Y$1(h$1[51],3785050280),new Y$1(h$1[52],3318307427),new Y$1(h$1[53],3812723403),new Y$1(h$1[54],2003034995),new Y$1(h$1[55],3602036899),new Y$1(h$1[56],1575990012),new Y$1(h$1[57],1125592928),new Y$1(h$1[58],2716904306),new Y$1(h$1[59],442776044),new Y$1(h$1[60],593698344),new Y$1(h$1[61],3733110249),new Y$1(h$1[62],2999351573),new Y$1(h$1[63],3815920427),new Y$1(3391569614,3928383900),new Y$1(3515267271,566280711),new Y$1(3940187606,3454069534),new Y$1(4118630271,4000239992),new Y$1(116418474,1914138554),new Y$1(174292421,2731055270),new Y$1(289380356,3203993006),new Y$1(460393269,320620315),new Y$1(685471733,587496836),new Y$1(852142971,1086792851),new Y$1(1017036298,365543100),new Y$1(1126000580,2618297676),new Y$1(1288033470,3409855158),new Y$1(1501505948,4234509866),new Y$1(1607167915,987167468),new Y$1(1816402316,1246189591)];function G$1(e){return"SHA-384"===e?[new Y$1(3418070365,u$1[0]),new Y$1(1654270250,u$1[1]),new Y$1(2438529370,u$1[2]),new Y$1(355462360,u$1[3]),new Y$1(1731405415,u$1[4]),new Y$1(41048885895,u$1[5]),new Y$1(3675008525,u$1[6]),new Y$1(1203062813,u$1[7])]:[new Y$1(w$1[0],4089235720),new Y$1(w$1[1],2227873595),new Y$1(w$1[2],4271175723),new Y$1(w$1[3],1595750129),new Y$1(w$1[4],2917565137),new Y$1(w$1[5],725511199),new Y$1(w$1[6],4215389547),new Y$1(w$1[7],327033209)]}function J$1(e,t){let r,n,i,o,s,a,l,c,u,h,d,p;const f=[];for(r=t[0],n=t[1],i=t[2],o=t[3],s=t[4],a=t[5],l=t[6],c=t[7],d=0;d<80;d+=1)d<16?(p=2*d,f[d]=new Y$1(e[p],e[p+1])):f[d]=O$1(Z$1(f[d-2]),f[d-7],j$1(f[d-15]),f[d-16]),u=P$1(c,q$1(s),(g=a,v=l,new Y$1((y=s).N&g.N^~y.N&v.N,y.I&g.I^~y.I&v.I)),D$1[d],f[d]),h=_$1(x$1(r),z$1(r,n,i)),c=l,l=a,a=s,s=_$1(o,u),o=i,i=n,n=r,r=_$1(u,h);var y,g,v;return t[0]=_$1(r,t[0]),t[1]=_$1(n,t[1]),t[2]=_$1(i,t[2]),t[3]=_$1(o,t[3]),t[4]=_$1(s,t[4]),t[5]=_$1(a,t[5]),t[6]=_$1(l,t[6]),t[7]=_$1(c,t[7]),t}let Q$1=class extends E$1{constructor(e,t,r){if("SHA-384"!==e&&"SHA-512"!==e)throw new Error(c$1);super(e,t,r);const n=r||{};this.g=this.Y,this.M=!0,this.T=-1,this.C=i$1(this.t,this.i,this.T),this.v=J$1,this.L=function(e){return e.slice()},this.B=G$1,this.F=function(t,r,n,i){return function(e,t,r,n,i){let o,s;const a=31+(t+129>>>10<<5),l=t+r;for(;e.length<=a;)e.push(0);for(e[t>>>5]|=128<<24-t%32,e[a]=4294967295&l,e[a-1]=l/o$2|0,o=0;o<e.length;o+=32)n=J$1(e.slice(o,o+32),n);return s="SHA-384"===i?[n[0].N,n[0].I,n[1].N,n[1].I,n[2].N,n[2].I,n[3].N,n[3].I,n[4].N,n[4].I,n[5].N,n[5].I]:[n[0].N,n[0].I,n[1].N,n[1].I,n[2].N,n[2].I,n[3].N,n[3].I,n[4].N,n[4].I,n[5].N,n[5].I,n[6].N,n[6].I,n[7].N,n[7].I],s}(t,r,n,i,e)},this.U=G$1(e),this.m=1024,this.R="SHA-384"===e?384:512,this.K=!1,n.hmacKey&&this.k(A$1("hmacKey",n.hmacKey,this.T))}};const W$1=[new Y$1(0,1),new Y$1(0,32898),new Y$1(2147483648,32906),new Y$1(2147483648,2147516416),new Y$1(0,32907),new Y$1(0,2147483649),new Y$1(2147483648,2147516545),new Y$1(2147483648,32777),new Y$1(0,138),new Y$1(0,136),new Y$1(0,2147516425),new Y$1(0,2147483658),new Y$1(0,2147516555),new Y$1(2147483648,139),new Y$1(2147483648,32905),new Y$1(2147483648,32771),new Y$1(2147483648,32770),new Y$1(2147483648,128),new Y$1(0,32778),new Y$1(2147483648,2147483658),new Y$1(2147483648,2147516545),new Y$1(2147483648,32896),new Y$1(0,2147483649),new Y$1(2147483648,2147516424)],$$b=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]];function tt$1(e){let t;const r=[];for(t=0;t<5;t+=1)r[t]=[new Y$1(0,0),new Y$1(0,0),new Y$1(0,0),new Y$1(0,0),new Y$1(0,0)];return r}function nt$1(e){let t;const r=[];for(t=0;t<5;t+=1)r[t]=e[t].slice();return r}function et$1(e,t){let r,n,i,o;const s=[],a=[];if(null!==e)for(n=0;n<e.length;n+=2)t[(n>>>1)%5][(n>>>1)/5|0]=V$1(t[(n>>>1)%5][(n>>>1)/5|0],new Y$1(e[n+1],e[n]));for(r=0;r<24;r+=1){for(o=tt$1(),n=0;n<5;n+=1)s[n]=(l=t[n][0],c=t[n][1],u=t[n][2],h=t[n][3],d=t[n][4],new Y$1(l.N^c.N^u.N^h.N^d.N,l.I^c.I^u.I^h.I^d.I));for(n=0;n<5;n+=1)a[n]=V$1(s[(n+4)%5],N$1(s[(n+1)%5],1));for(n=0;n<5;n+=1)for(i=0;i<5;i+=1)t[n][i]=V$1(t[n][i],a[n]);for(n=0;n<5;n+=1)for(i=0;i<5;i+=1)o[i][(2*n+3*i)%5]=N$1(t[n][i],$$b[n][i]);for(n=0;n<5;n+=1)for(i=0;i<5;i+=1)t[n][i]=V$1(o[n][i],new Y$1(~o[(n+1)%5][i].N&o[(n+2)%5][i].N,~o[(n+1)%5][i].I&o[(n+2)%5][i].I));t[0][0]=V$1(t[0][0],W$1[r])}var l,c,u,h,d;return t}function rt$1(e){let t,r,n=0;const i=[0,0],o=[4294967295&e,e/o$2&2097151];for(t=6;t>=0;t--)r=o[t>>2]>>>8*t&255,0===r&&0===n||(i[n+1>>2]|=r<<8*(n+1),n+=1);return n=0!==n?n:1,i[0]|=n,{value:n+1>4?i:[i[0]],binLen:8+8*n}}function it$1(e){return a$1(rt$1(e.binLen),e)}function st$1(e,t){let r,n=rt$1(t);n=a$1(n,e);const i=t>>>2,o=(i-n.value.length%i)%i;for(r=0;r<o;r++)n.value.push(0);return n.value}let ot$1=class extends E$1{constructor(e,t,r){let n=6,i=0;super(e,t,r);const o=r||{};if(1!==this.numRounds){if(o.kmacKey||o.hmacKey)throw new Error(f$1);if("CSHAKE128"===this.o||"CSHAKE256"===this.o)throw new Error("Cannot set numRounds for CSHAKE variants")}switch(this.T=1,this.C=i$1(this.t,this.i,this.T),this.v=et$1,this.L=nt$1,this.B=tt$1,this.U=tt$1(),this.K=!1,e){case"SHA3-224":this.m=i=1152,this.R=224,this.M=!0,this.g=this.Y;break;case"SHA3-256":this.m=i=1088,this.R=256,this.M=!0,this.g=this.Y;break;case"SHA3-384":this.m=i=832,this.R=384,this.M=!0,this.g=this.Y;break;case"SHA3-512":this.m=i=576,this.R=512,this.M=!0,this.g=this.Y;break;case"SHAKE128":n=31,this.m=i=1344,this.R=-1,this.K=!0,this.M=!1,this.g=null;break;case"SHAKE256":n=31,this.m=i=1088,this.R=-1,this.K=!0,this.M=!1,this.g=null;break;case"KMAC128":n=4,this.m=i=1344,this.X(r),this.R=-1,this.K=!0,this.M=!1,this.g=this._;break;case"KMAC256":n=4,this.m=i=1088,this.X(r),this.R=-1,this.K=!0,this.M=!1,this.g=this._;break;case"CSHAKE128":this.m=i=1344,n=this.O(r),this.R=-1,this.K=!0,this.M=!1,this.g=null;break;case"CSHAKE256":this.m=i=1088,n=this.O(r),this.R=-1,this.K=!0,this.M=!1,this.g=null;break;default:throw new Error(c$1)}this.F=function(e,t,r,o,s){return function(e,t,r,n,i,o,s){let a,l,c=0;const u=[],h=i>>>5,d=t>>>5;for(a=0;a<d&&t>=i;a+=h)n=et$1(e.slice(a,a+h),n),t-=i;for(e=e.slice(a),t%=i;e.length<h;)e.push(0);for(a=t>>>3,e[a>>2]^=o<<a%4*8,e[h-1]^=2147483648,n=et$1(e,n);32*u.length<s&&(l=n[c%5][c/5|0],u.push(l.I),!(32*u.length>=s));)u.push(l.N),c+=1,0==64*c%i&&(et$1(null,n),c=0);return u}(e,t,0,o,i,n,s)},o.hmacKey&&this.k(A$1("hmacKey",o.hmacKey,this.T))}O(e,t){const r=function(e){const t=e||{};return{funcName:A$1("funcName",t.funcName,1,{value:[],binLen:0}),customization:A$1("Customization",t.customization,1,{value:[],binLen:0})}}(e||{});t&&(r.funcName=t);const n=a$1(it$1(r.funcName),it$1(r.customization));if(0!==r.customization.binLen||0!==r.funcName.binLen){const e=st$1(n,this.m>>>3);for(let t=0;t<e.length;t+=this.m>>>5)this.U=this.v(e.slice(t,t+(this.m>>>5)),this.U),this.A+=this.m;return 4}return 31}X(e){const t=function(e){const t=e||{};return{kmacKey:A$1("kmacKey",t.kmacKey,1),funcName:{value:[1128353099],binLen:32},customization:A$1("Customization",t.customization,1,{value:[],binLen:0})}}(e||{});this.O(e,t.funcName);const r=st$1(it$1(t.kmacKey),this.m>>>3);for(let n=0;n<r.length;n+=this.m>>>5)this.U=this.v(r.slice(n,n+(this.m>>>5)),this.U),this.A+=this.m;this.H=!0}_(e){const t=a$1({value:this.h.slice(),binLen:this.u},function(e){let t,r,n=0;const i=[0,0],o=[4294967295&e,e/o$2&2097151];for(t=6;t>=0;t--)r=o[t>>2]>>>8*t&255,0===r&&0===n||(i[n>>2]|=r<<8*n,n+=1);return n=0!==n?n:1,i[n>>2]|=n<<8*n,{value:n+1>4?i:[i[0]],binLen:8+8*n}}(e.outputLen));return this.F(t.value,t.binLen,this.A,this.L(this.U),e.outputLen)}},ht$1=class{constructor(e,t,r){if("SHA-1"==e)this.P=new L$1(e,t,r);else if("SHA-224"==e||"SHA-256"==e)this.P=new k$1(e,t,r);else if("SHA-384"==e||"SHA-512"==e)this.P=new Q$1(e,t,r);else{if("SHA3-224"!=e&&"SHA3-256"!=e&&"SHA3-384"!=e&&"SHA3-512"!=e&&"SHAKE128"!=e&&"SHAKE256"!=e&&"CSHAKE128"!=e&&"CSHAKE256"!=e&&"KMAC128"!=e&&"KMAC256"!=e)throw new Error(c$1);this.P=new ot$1(e,t,r)}}update(e){return this.P.update(e),this}getHash(e,t){return this.P.getHash(e,t)}setHMACKey(e,t,r){this.P.setHMACKey(e,t,r)}getHMAC(e,t){return this.P.getHMAC(e,t)}};const devHostReg=/dev\.(mistong|ewt360)\.com(:|$)/i,testHostReg=/test\.(mistong|ewt360)\.com(:|$)/i,preHostReg=/^staging-/i,adminHostReg=/(^|\W)admin(\.\w+)?\.mistong\.com(:|$)/i,cpsHostReg=/(^|\W)cps\./i,cpsDomainReg=/\.ewt360\.com(:|$)/i,localHostReg=/:\d+$/i;function hostCheck(e){const t=devHostReg.test(e),r=testHostReg.test(e),n=adminHostReg.test(e),i=!n&&cpsHostReg.test(e)&&(t||r||cpsDomainReg.test(e));return{isDev:t,isTest:r,isPre:preHostReg.test(e),isAdmin:n,isCPS:i,isFront:!n&&!i,isLocal:localHostReg.test(e)}}const hostInfo=hostCheck(location.host),makeUnifyDomain=e=>{let t=hostInfo.isAdmin?".mistong.com":".ewt360.com";return hostInfo.isPre?"//staging-".concat(e).concat(t):(hostInfo.isDev?t=".dev"+t:hostInfo.isTest&&(t=".test"+t),"//".concat(e).concat(t))},web=makeUnifyDomain("web"),bfe=makeUnifyDomain("bfe"),admin=makeUnifyDomain("admin"),cps=makeUnifyDomain("cps"),video=hostInfo.isAdmin?admin:hostInfo.isCPS?cps:web,clogHosts={clog:"//clog.ewt360.com",dlog:"//dlog.ewt360.com",iplog:"//101.37.78.197:8081"};function ownKeys$t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$t(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$t(Object(r),!0).forEach((function(t){_defineProperty$1(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$t(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function template(e){const t=document.createElement("template");return t.innerHTML=e.trim(),t.content.firstChild}function sleep(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((t=>{setTimeout(t,e)}))}function preloadImage(e){(new Image).src=e}function getCookie(){try{return api.get()||{}}catch(e){return console.error("[MSTPLayer-获取cookie异常]：",e),{}}}function getUrlParam(e,t){try{const r=new RegExp("(^|&)".concat(e).concat("=([^&]*)(&|$)"),"i"),n=(t=t?t.toString():window.location.href).indexOf("?"),i=t.substring(n+1);if(-1!==i.indexOf("?"))return getUrlParam(e,i);const o=i.match(r);if(null!=o)return decodeURIComponent(o[2])}catch(r){console.error("[MSTPLayer-获取链接参数异常]：".concat(e,"-").concat(t),r)}return""}function getCookieUser(){let e=0,t="";const r=["token","ewt_user","user"],n=getCookie();for(const i of r)if(n[i]){t=n[i];break}return t||(t=getUrlParam("token",location.search)),t.match("tk=")&&(t=getUrlParam("tk",t)),t||(t="0-0"),e=Number(t.split("-")[0])||0,{userId:e,token:t}}function getUserToken(){if(!hostInfo.isFront){return getCookie()[hostInfo.isCPS?"CPS_Token":"Admin-Token"]||""}return getCookieUser().token}function getBrowserType(){const e=navigator.userAgent,t=e.indexOf("Opera")>-1,r=window.ActiveXObject||"ActiveXObject"in window,n=e.indexOf("Edg")>-1,i=e.indexOf("Firefox")>-1,o=e.indexOf("Safari")>-1&&-1==e.indexOf("Chrome"),s=e.indexOf("Chrome")>-1&&e.indexOf("Safari")>-1&&!n;if(r){new RegExp("MSIE (\\d+\\.\\d+);").test(e);const t=RegExp["$1"],r=window.parseFloat(t);return 10==r?"IE10":e.toLowerCase().match(/rv:([\d.]+)\) like gecko/)?"IE11":"IE".concat(r)}return n?"Edge":i?"FF":t?"Opera":s?"Chrome":o?"Safari":""}function makeSecretKey(e,t){let r="";Object.keys(e).sort().forEach(((t,n)=>r+="".concat(n?"&":"").concat(t,"=").concat(e[t])));const n=new ht$1("SHA-1","TEXT");n.setHMACKey(t,"TEXT"),n.update(r);return n.getHMAC("HEX")}const block=e=>{e.preventDefault(),e.stopPropagation()};function blockAllTouch(e){e.onmousedown=block,e.onmouseover=block,e.ontouchstart=block,e.onclick=block}function normalizeId(e){return 0===e.indexOf("#")?e.slice(1):e}function getScreenshot(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image/jpeg",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.92;try{var n;const i=document.createElement("canvas");i.width=e.videoWidth,i.height=e.videoHeight,null===(n=i.getContext("2d"))||void 0===n||n.drawImage(e,0,0,i.width,i.height);return i.toDataURL(t,r)}catch(i){console.error("[MSTPLayer-截图异常]：",i)}return""}function loadScript(e){return new Promise(((t,r)=>{const n=document.createElement("script");n.type="text/javascript",n.crossOrigin="anonymous",n.onload=()=>{t()},n.onerror=e=>{r(e)},n.src=e,document.body.appendChild(n)}))}let lottieLoad;function loadLottie(){return window.bodymovin?Promise.resolve():(lottieLoad||(lottieLoad=loadScript("".concat("https://cdn.ewt360.com/resources/app/prod/mst-video-player/dist/","js/lottie_light.5.10.2.min.js"))),lottieLoad)}function isMobile(){return/Mobile|Android|iOS|iPhone|iPad|iPod|Windows Phone/i.test(navigator.userAgent)}function isIOS(){return/iOS|iPhone|iPad|iPod/i.test(navigator.userAgent)}function clickEvent(e,t){const r=e=>{t(),e.preventDefault(),e.stopPropagation()};e.addEventListener("click",r),e.addEventListener("touchstart",r)}const randomStringChars="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678";function randomString(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;const t=randomStringChars.length;let r="";for(let n=0;n<e;n++)r+=randomStringChars.charAt(Math.floor(Math.random()*t));return r}function getMillisecond(){return Math.floor(performance.now())}function checkBrowserIsLowVersionByRule(e,t){try{const r=window.navigator.userAgent.toLocaleLowerCase().match(e),n=r&&r[2]?parseInt(r[2],10):"";if(!n||n<t)return!0}catch(r){console.error("[MSTPLayer-检测浏览器版本异常]：",r)}return!1}function dateFormat(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd hh:mm:ss";try{const r={"M+":(e=e?new Date(e):new Date).getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()},n=t.match(/y+/);null!=n&&n[0]&&(t=t.replace(n[0],"".concat(e.getFullYear()).substring(4-n[0].length)));Object.keys(r).forEach((e=>{const n=t.match(new RegExp(e));null!=n&&n[0]&&(t=t.replace(n[0],1===n[0].length?"".concat(r[e]):"00".concat(r[e]).substring("".concat(r[e]).length)))}))}catch(r){console.error("[MSTPLayer-时间格式化异常]：",r)}return t}function stopAll(e){try{e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()}catch(t){}}function dataURLtoBlob(e){try{var t;if(!e)return"";const r=e.split(","),n=null===(t=r[0].match(/:(.*?);/))||void 0===t?void 0:t[1],i=atob(r[1]);let o=i.length;const s=new Uint8Array(o);for(;o--;)s[o]=i.charCodeAt(o);return new Blob([s],{type:n})}catch(r){return console.error(r),""}}function filterSlsOptions(e){try{const r=_objectSpread$t({},e||{});var t;if(r.menuInfo)r.menuInfo=_objectSpread$t(_objectSpread$t({},e.menuInfo),{},{items:void 0,itemsLength:(null===(t=e.menuInfo.items)||void 0===t?void 0:t.length)||0});return delete r.parentNode,r}catch(r){}return{}}function getRelativeDis(e,t){try{if(!(e&&t&&e instanceof Element&&t instanceof Element))throw Error("参数不合法");const r=e.getBoundingClientRect(),n=t.getBoundingClientRect();return{x:Math.abs(r.x-n.x),y:Math.abs(r.y-n.y),positionOne:r,positionOther:n}}catch(r){return console.error(r),null}}function loadHtml2canvas(){return window.html2canvas?Promise.resolve():loadScript("".concat("https://cdn.ewt360.com/resources/app/prod/mst-video-player/dist/","js/html2canvas.1.4.1.min.js"))}function ownKeys$s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$s(Object(r),!0).forEach((function(t){_defineProperty$1(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}class Tc_Adapter{constructor(e,t,r){_defineProperty$1(this,"_adapter",void 0),_defineProperty$1(this,"_node",void 0),_defineProperty$1(this,"_adapterOptions",void 0),_defineProperty$1(this,"_emitter",void 0),this._adapterOptions=t,this._emitter=new Event,this._node=e,this.init(r)}static isSupportPrivate(){try{return TcAdapter.isSupported()}catch(e){return!1}}static isSupportStandard(){try{return TcAdapter.isSupported()}catch(e){return!1}}loadHls(){return __async2(this,null,(function*(){try{window._mst_tc_hls?window.Hls=window._mst_tc_hls:(delete window.Hls,yield loadScript("".concat("https://cdn.ewt360.com/resources/app/prod/mst-video-player/dist/","js/tc-hls.min.1.1.6.js")),window.Hls?window._mst_tc_hls=window.Hls:this._emitter.emit(AdapterEvent.ERROR,{errMsg:"加载腾讯云Hls后，window上未挂载",fatal:!0}))}catch(e){this._emitter.emit(AdapterEvent.ERROR,{errMsg:e.message||"加载腾讯云Hls失败",extraData:e,fatal:!0})}}))}init(e){return __async2(this,null,(function*(){yield this.loadHls();const{videoId:t,appID:r,psign:n,hlsConfig:i,moreConfig:o}=this._adapterOptions||{};t&&n&&r?(this._adapter=new TcAdapter(this._node,_objectSpread$s({fileID:t,appID:r,psign:n,hlsConfig:_objectSpread$s({maxMaxBufferLength:30},i)},o)),e&&Object.keys(e).forEach((t=>{this.on(t,e[t])}))):this._emitter.emit(AdapterEvent.ERROR,{errMsg:"初始化腾讯云参数缺失: videoId-".concat(!!t,"，psign-").concat(!!n,"，appID-").concat(!!r),fatal:!0})}))}on(e,t){var r;this._emitter.on(e,t);let n=e;"error"===e&&(n=TcAdapter.TcAdapterEvents.ERROR),null===(r=this._adapter)||void 0===r||r.on(n,(t=>{var r;let n=!1;n=!(null===(r=t.data)||void 0===r||!r.fatal);const i="error"===e?{errMsg:t.errorMessage||"error",errCode:t.errorCode,extraData:t,fatal:n}:t;this._emitter.emit(e,i)}))}getVideoBasicInfo(){var e;return null===(e=this._adapter)||void 0===e?void 0:e.getVideoBasicInfo()}dispose(){var e;this._emitter.removeAllListeners(),null===(e=this._adapter)||void 0===e||null===(e=e.hls)||void 0===e||e.destroy(),this._adapter=void 0}}var aliadapterAsync={exports:{}};
/*! aliadapter-async - ver1.5.2 created:2024/7/16 14:45:29 */(function(module,exports){var e2;self,e2=()=>(()=>{var __webpack_modules__={750:(e,t,r)=>{r.r(t),r.d(t,{default:()=>c}),Array(32);class n{constructor(e){var t,r;this.timer=null,this.time=10,this.count=10,this.arr=[],this.time=null!=(t=e.time)?t:10,this.count=null!=(r=e.count)?r:10,e.host.startsWith("http://")||e.host.startsWith("https://")?this.url=e.host+"/logstores/"+e.logstore+"/track":this.url="https://"+e.project+"."+e.host+"/logstores/"+e.logstore+"/track",this.opt=e,e.installUnloadHook&&"function"==typeof e.installUnloadHook&&e.installUnloadHook((()=>{this.sendImmediateInner()}))}assemblePayload(e){const t={__logs__:e};return this.opt.tags&&(t.__tags__=this.opt.tags),this.opt.topic&&(t.__topic__=this.opt.topic),this.opt.source&&(t.__source__=this.opt.source),JSON.stringify(t)}platformSend(){if(this.opt.sendPayload&&"function"==typeof this.opt.sendPayload){const e=this.assemblePayload(this.arr);this.opt.sendPayload(this.url,e)}}transString(e){let t={};for(let r in e)"object"==typeof e[r]?t[r]=JSON.stringify(e[r]):t[r]=String(e[r]);return t}sendImmediateInner(){this.arr&&this.arr.length>0&&(this.platformSend(),null!=this.timer&&(clearTimeout(this.timer),this.timer=null),this.arr=[])}sendInner(){if(this.timer)this.arr.length>=this.count&&(clearTimeout(this.timer),this.timer=null,this.sendImmediateInner());else{const e=this;this.arr.length>=this.count||this.time<=0?this.sendImmediateInner():this.timer=setTimeout((function(){e.sendImmediateInner()}),1e3*this.time)}}send(e){const t=this.transString(e);this.arr.push(t),this.sendInner()}sendImmediate(e){const t=this.transString(e);this.arr.push(t),this.sendImmediateInner()}sendBatchLogs(e){const t=e.map((e=>this.transString(e)));this.arr.push(...t),this.sendInner()}sendBatchLogsImmediate(e){const t=e.map((e=>this.transString(e)));this.arr.push(...t),this.sendImmediateInner()}overwriteTransString(e){this.transString=e.transString}getOpt(){return this.opt}}var i,o,s,a;function l(e,t){const r=new window.XMLHttpRequest;r.open("POST","".concat(e,"?APIVersion=0.6.0"),!0),r.send(t)}class c extends n{constructor(e){super(Object.assign({},e,{installUnloadHook:e=>{window.addEventListener("beforeunload",(()=>{e()}))},sendPayload:(e,t)=>{!function(e,t){try{if(t.length>=32768)return void l(e,t);r=e,n=t,navigator&&navigator.sendBeacon&&navigator.sendBeacon("".concat(r,"?APIVersion=0.6.0"),n)||l(e,t)}catch(n){window&&window.console&&"function"==typeof window.console.error&&(console.error("Failed to log to ali log service because of this exception:\n"+n),console.error("Failed log data:",e))}var r,n}(e,t)}}))}useStsPlugin(e){this.getOpt().sendPayload=(t,r)=>{!function(e,t,r){((e,t,r)=>{new Promise(((n,i)=>{var o=e=>{try{a(r.next(e))}catch(t){i(t)}},s=e=>{try{a(r.throw(e))}catch(t){i(t)}},a=e=>e.done?n(e.value):Promise.resolve(e.value).then(o,s);a((r=r.apply(e,t)).next())}))})(this,null,(function*(){try{e=e.slice(0,-6);const{data:n,header:i}=yield r.process(e,t),o=new window.XMLHttpRequest;o.open("POST",e,!0);for(let e in i)o.setRequestHeader(e,i[e]);o.send(n)}catch(n){window&&window.console&&"function"==typeof window.console.error&&(console.error("Failed to log to ali log service because of this exception:\n"+n),console.error("Failed log data:",e))}}))}(t,r,e)},this.overwriteTransString(e)}}i=window,o=i,s="SLS_Tracker",a=c,Object.defineProperty(o,s,{writable:!0,enumerable:!0,configurable:!0,value:a})},452:function(e,t,r){var n;e.exports=(n=r(249),r(269),r(214),r(888),r(109),function(){var e=n,t=e.lib.BlockCipher,r=e.algo,i=[],o=[],s=[],a=[],l=[],c=[],u=[],h=[],d=[],p=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var r=0,n=0;for(t=0;t<256;t++){var f=n^n<<1^n<<2^n<<3^n<<4;f=f>>>8^255&f^99,i[r]=f,o[f]=r;var y=e[r],g=e[y],v=e[g],m=257*e[f]^16843008*f;s[r]=m<<24|m>>>8,a[r]=m<<16|m>>>16,l[r]=m<<8|m>>>24,c[r]=m,m=16843009*v^65537*g^257*y^16843008*r,u[f]=m<<24|m>>>8,h[f]=m<<16|m>>>16,d[f]=m<<8|m>>>24,p[f]=m,r?(r=y^e[e[e[v^y]]],n^=e[e[n]]):r=n=1}}();var f=[0,1,2,4,8,16,32,64,128,27,54],y=r.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,r=e.sigBytes/4,n=4*((this._nRounds=r+6)+1),o=this._keySchedule=[],s=0;s<n;s++)s<r?o[s]=t[s]:(c=o[s-1],s%r?r>6&&s%r==4&&(c=i[c>>>24]<<24|i[c>>>16&255]<<16|i[c>>>8&255]<<8|i[255&c]):(c=i[(c=c<<8|c>>>24)>>>24]<<24|i[c>>>16&255]<<16|i[c>>>8&255]<<8|i[255&c],c^=f[s/r|0]<<24),o[s]=o[s-r]^c);for(var a=this._invKeySchedule=[],l=0;l<n;l++){if(s=n-l,l%4)var c=o[s];else c=o[s-4];a[l]=l<4||s<=4?c:u[i[c>>>24]]^h[i[c>>>16&255]]^d[i[c>>>8&255]]^p[i[255&c]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,s,a,l,c,i)},decryptBlock:function(e,t){var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r,this._doCryptBlock(e,t,this._invKeySchedule,u,h,d,p,o),r=e[t+1],e[t+1]=e[t+3],e[t+3]=r},_doCryptBlock:function(e,t,r,n,i,o,s,a){for(var l=this._nRounds,c=e[t]^r[0],u=e[t+1]^r[1],h=e[t+2]^r[2],d=e[t+3]^r[3],p=4,f=1;f<l;f++){var y=n[c>>>24]^i[u>>>16&255]^o[h>>>8&255]^s[255&d]^r[p++],g=n[u>>>24]^i[h>>>16&255]^o[d>>>8&255]^s[255&c]^r[p++],v=n[h>>>24]^i[d>>>16&255]^o[c>>>8&255]^s[255&u]^r[p++],m=n[d>>>24]^i[c>>>16&255]^o[u>>>8&255]^s[255&h]^r[p++];c=y,u=g,h=v,d=m}y=(a[c>>>24]<<24|a[u>>>16&255]<<16|a[h>>>8&255]<<8|a[255&d])^r[p++],g=(a[u>>>24]<<24|a[h>>>16&255]<<16|a[d>>>8&255]<<8|a[255&c])^r[p++],v=(a[h>>>24]<<24|a[d>>>16&255]<<16|a[c>>>8&255]<<8|a[255&u])^r[p++],m=(a[d>>>24]<<24|a[c>>>16&255]<<16|a[u>>>8&255]<<8|a[255&h])^r[p++],e[t]=y,e[t+1]=g,e[t+2]=v,e[t+3]=m},keySize:8});e.AES=t._createHelper(y)}(),n.AES)},109:function(e,t,r){var n,i,o,s,a,l,c,u,h,d,p,f,y,g,v,m,_,b,E;e.exports=(n=r(249),r(888),void(n.lib.Cipher||(i=n,o=i.lib,s=o.Base,a=o.WordArray,l=o.BufferedBlockAlgorithm,c=i.enc,c.Utf8,u=c.Base64,h=i.algo.EvpKDF,d=o.Cipher=l.extend({cfg:s.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,r){this.cfg=this.cfg.extend(r),this._xformMode=e,this._key=t,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?E:_}return function(t){return{encrypt:function(r,n,i){return e(n).encrypt(t,r,n,i)},decrypt:function(r,n,i){return e(n).decrypt(t,r,n,i)}}}}()}),o.StreamCipher=d.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),p=i.mode={},f=o.BlockCipherMode=s.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),y=p.CBC=function(){var e=f.extend();function t(e,t,r){var n,i=this._iv;i?(n=i,this._iv=void 0):n=this._prevBlock;for(var o=0;o<r;o++)e[t+o]^=n[o]}return e.Encryptor=e.extend({processBlock:function(e,r){var n=this._cipher,i=n.blockSize;t.call(this,e,r,i),n.encryptBlock(e,r),this._prevBlock=e.slice(r,r+i)}}),e.Decryptor=e.extend({processBlock:function(e,r){var n=this._cipher,i=n.blockSize,o=e.slice(r,r+i);n.decryptBlock(e,r),t.call(this,e,r,i),this._prevBlock=o}}),e}(),g=(i.pad={}).Pkcs7={pad:function(e,t){for(var r=4*t,n=r-e.sigBytes%r,i=n<<24|n<<16|n<<8|n,o=[],s=0;s<n;s+=4)o.push(i);var l=a.create(o,n);e.concat(l)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},o.BlockCipher=d.extend({cfg:d.cfg.extend({mode:y,padding:g}),reset:function(){var e;d.reset.call(this);var t=this.cfg,r=t.iv,n=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=n.createEncryptor:(e=n.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,r&&r.words):(this._mode=e.call(n,this,r&&r.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),v=o.CipherParams=s.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),m=(i.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,r=e.salt;return(r?a.create([1398893684,1701076831]).concat(r).concat(t):t).toString(u)},parse:function(e){var t,r=u.parse(e),n=r.words;return 1398893684==n[0]&&1701076831==n[1]&&(t=a.create(n.slice(2,4)),n.splice(0,4),r.sigBytes-=16),v.create({ciphertext:r,salt:t})}},_=o.SerializableCipher=s.extend({cfg:s.extend({format:m}),encrypt:function(e,t,r,n){n=this.cfg.extend(n);var i=e.createEncryptor(r,n),o=i.finalize(t),s=i.cfg;return v.create({ciphertext:o,key:r,iv:s.iv,algorithm:e,mode:s.mode,padding:s.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,r,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(r,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),b=(i.kdf={}).OpenSSL={execute:function(e,t,r,n){n||(n=a.random(8));var i=h.create({keySize:t+r}).compute(e,n),o=a.create(i.words.slice(t),4*r);return i.sigBytes=4*t,v.create({key:i,iv:o,salt:n})}},E=o.PasswordBasedCipher=_.extend({cfg:_.cfg.extend({kdf:b}),encrypt:function(e,t,r,n){var i=(n=this.cfg.extend(n)).kdf.execute(r,e.keySize,e.ivSize);n.iv=i.iv;var o=_.encrypt.call(this,e,t,i.key,n);return o.mixIn(i),o},decrypt:function(e,t,r,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var i=n.kdf.execute(r,e.keySize,e.ivSize,t.salt);return n.iv=i.iv,_.decrypt.call(this,e,t,i.key,n)}}))))},249:function(e,t,r){var n;e.exports=(n=n||function(e,t){var n;if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),"undefined"!=typeof self&&self.crypto&&(n=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!=typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&void 0!==r.g&&r.g.crypto&&(n=r.g.crypto),!n)try{n=r(480)}catch(g){}var i=function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(g){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(g){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),s={},a=s.lib={},l=a.Base={extend:function(e){var t=o(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=a.WordArray=l.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||h).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,i=e.sigBytes;if(this.clamp(),n%4)for(var o=0;o<i;o++){var s=r[o>>>2]>>>24-o%4*8&255;t[n+o>>>2]|=s<<24-(n+o)%4*8}else for(var a=0;a<i;a+=4)t[n+a>>>2]=r[a>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=l.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],r=0;r<e;r+=4)t.push(i());return new c.init(t,e)}}),u=s.enc={},h=u.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new c.init(r,t/2)}},d=u.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new c.init(r,t)}},p=u.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},f=a.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=p.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r,n=this._data,i=n.words,o=n.sigBytes,s=this.blockSize,a=o/(4*s),l=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*s,u=e.min(4*l,o);if(l){for(var h=0;h<l;h+=s)this._doProcessBlock(i,h);r=i.splice(0,l),n.sigBytes-=u}return new c.init(r,u)},clone:function(){var e=l.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),y=(a.Hasher=f.extend({cfg:l.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new y.HMAC.init(e,r).finalize(t)}}}),s.algo={});return s}(Math),n)},269:function(e,t,r){var n,i,o;e.exports=(n=r(249),o=(i=n).lib.WordArray,i.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();for(var i=[],o=0;o<r;o+=3)for(var s=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<r;a++)i.push(n.charAt(s>>>6*(3-a)&63));var l=n.charAt(64);if(l)for(;i.length%4;)i.push(l);return i.join("")},parse:function(e){var t=e.length,r=this._map,n=this._reverseMap;if(!n){n=this._reverseMap=[];for(var i=0;i<r.length;i++)n[r.charCodeAt(i)]=i}var s=r.charAt(64);if(s){var a=e.indexOf(s);-1!==a&&(t=a)}return function(e,t,r){for(var n=[],i=0,s=0;s<t;s++)if(s%4){var a=r[e.charCodeAt(s-1)]<<s%4*2|r[e.charCodeAt(s)]>>>6-s%4*2;n[i>>>2]|=a<<24-i%4*8,i++}return o.create(n,i)}(e,t,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},n.enc.Base64)},743:function(e,t,r){e.exports=r(249).enc.Utf8},888:function(e,t,r){var n,i,o,s,a,l,c,u;e.exports=(u=r(249),r(783),r(824),o=(i=(n=u).lib).Base,s=i.WordArray,l=(a=n.algo).MD5,c=a.EvpKDF=o.extend({cfg:o.extend({keySize:4,hasher:l,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r,n=this.cfg,i=n.hasher.create(),o=s.create(),a=o.words,l=n.keySize,c=n.iterations;a.length<l;){r&&i.update(r),r=i.update(e).finalize(t),i.reset();for(var u=1;u<c;u++)r=i.finalize(r),i.reset();o.concat(r)}return o.sigBytes=4*l,o}}),n.EvpKDF=function(e,t,r){return c.create(r).compute(e,t)},u.EvpKDF)},398:function(e,t,r){var n;e.exports=(n=r(249),r(783),r(824),n.HmacSHA1)},824:function(e,t,r){var n,i,o;e.exports=(i=(n=r(249)).lib.Base,o=n.enc.Utf8,void(n.algo.HMAC=i.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=o.parse(t));var r=e.blockSize,n=4*r;t.sigBytes>n&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),s=this._iKey=t.clone(),a=i.words,l=s.words,c=0;c<r;c++)a[c]^=1549556828,l[c]^=909522486;i.sigBytes=s.sigBytes=n,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,r=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(r))}})))},214:function(e,t,r){var n;e.exports=(n=r(249),function(e){var t=n,r=t.lib,i=r.WordArray,o=r.Hasher,s=t.algo,a=[];!function(){for(var t=0;t<64;t++)a[t]=4294967296*e.abs(e.sin(t+1))|0}();var l=s.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,i=e[n];e[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,s=e[t+0],l=e[t+1],p=e[t+2],f=e[t+3],y=e[t+4],g=e[t+5],v=e[t+6],m=e[t+7],_=e[t+8],b=e[t+9],E=e[t+10],T=e[t+11],$=e[t+12],S=e[t+13],w=e[t+14],C=e[t+15],P=o[0],O=o[1],A=o[2],I=o[3];P=c(P,O,A,I,s,7,a[0]),I=c(I,P,O,A,l,12,a[1]),A=c(A,I,P,O,p,17,a[2]),O=c(O,A,I,P,f,22,a[3]),P=c(P,O,A,I,y,7,a[4]),I=c(I,P,O,A,g,12,a[5]),A=c(A,I,P,O,v,17,a[6]),O=c(O,A,I,P,m,22,a[7]),P=c(P,O,A,I,_,7,a[8]),I=c(I,P,O,A,b,12,a[9]),A=c(A,I,P,O,E,17,a[10]),O=c(O,A,I,P,T,22,a[11]),P=c(P,O,A,I,$,7,a[12]),I=c(I,P,O,A,S,12,a[13]),A=c(A,I,P,O,w,17,a[14]),P=u(P,O=c(O,A,I,P,C,22,a[15]),A,I,l,5,a[16]),I=u(I,P,O,A,v,9,a[17]),A=u(A,I,P,O,T,14,a[18]),O=u(O,A,I,P,s,20,a[19]),P=u(P,O,A,I,g,5,a[20]),I=u(I,P,O,A,E,9,a[21]),A=u(A,I,P,O,C,14,a[22]),O=u(O,A,I,P,y,20,a[23]),P=u(P,O,A,I,b,5,a[24]),I=u(I,P,O,A,w,9,a[25]),A=u(A,I,P,O,f,14,a[26]),O=u(O,A,I,P,_,20,a[27]),P=u(P,O,A,I,S,5,a[28]),I=u(I,P,O,A,p,9,a[29]),A=u(A,I,P,O,m,14,a[30]),P=h(P,O=u(O,A,I,P,$,20,a[31]),A,I,g,4,a[32]),I=h(I,P,O,A,_,11,a[33]),A=h(A,I,P,O,T,16,a[34]),O=h(O,A,I,P,w,23,a[35]),P=h(P,O,A,I,l,4,a[36]),I=h(I,P,O,A,y,11,a[37]),A=h(A,I,P,O,m,16,a[38]),O=h(O,A,I,P,E,23,a[39]),P=h(P,O,A,I,S,4,a[40]),I=h(I,P,O,A,s,11,a[41]),A=h(A,I,P,O,f,16,a[42]),O=h(O,A,I,P,v,23,a[43]),P=h(P,O,A,I,b,4,a[44]),I=h(I,P,O,A,$,11,a[45]),A=h(A,I,P,O,C,16,a[46]),P=d(P,O=h(O,A,I,P,p,23,a[47]),A,I,s,6,a[48]),I=d(I,P,O,A,m,10,a[49]),A=d(A,I,P,O,w,15,a[50]),O=d(O,A,I,P,g,21,a[51]),P=d(P,O,A,I,$,6,a[52]),I=d(I,P,O,A,f,10,a[53]),A=d(A,I,P,O,E,15,a[54]),O=d(O,A,I,P,l,21,a[55]),P=d(P,O,A,I,_,6,a[56]),I=d(I,P,O,A,C,10,a[57]),A=d(A,I,P,O,v,15,a[58]),O=d(O,A,I,P,S,21,a[59]),P=d(P,O,A,I,y,6,a[60]),I=d(I,P,O,A,T,10,a[61]),A=d(A,I,P,O,p,15,a[62]),O=d(O,A,I,P,b,21,a[63]),o[0]=o[0]+P|0,o[1]=o[1]+O|0,o[2]=o[2]+A|0,o[3]=o[3]+I|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;r[i>>>5]|=128<<24-i%32;var o=e.floor(n/4294967296),s=n;r[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),r[14+(i+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),t.sigBytes=4*(r.length+1),this._process();for(var a=this._hash,l=a.words,c=0;c<4;c++){var u=l[c];l[c]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return a},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function c(e,t,r,n,i,o,s){var a=e+(t&r|~t&n)+i+s;return(a<<o|a>>>32-o)+t}function u(e,t,r,n,i,o,s){var a=e+(t&n|r&~n)+i+s;return(a<<o|a>>>32-o)+t}function h(e,t,r,n,i,o,s){var a=e+(t^r^n)+i+s;return(a<<o|a>>>32-o)+t}function d(e,t,r,n,i,o,s){var a=e+(r^(t|~n))+i+s;return(a<<o|a>>>32-o)+t}t.MD5=o._createHelper(l),t.HmacMD5=o._createHmacHelper(l)}(Math),n.MD5)},957:function(e,t,r){var n;e.exports=(n=r(249),r(109),n.pad.Pkcs7)},783:function(e,t,r){var n,i,o,s,a,l,c,u;e.exports=(i=(n=u=r(249)).lib,o=i.WordArray,s=i.Hasher,a=n.algo,l=[],c=a.SHA1=s.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],s=r[3],a=r[4],c=0;c<80;c++){if(c<16)l[c]=0|e[t+c];else{var u=l[c-3]^l[c-8]^l[c-14]^l[c-16];l[c]=u<<1|u>>>31}var h=(n<<5|n>>>27)+a+l[c];h+=c<20?1518500249+(i&o|~i&s):c<40?1859775393+(i^o^s):c<60?(i&o|i&s|o&s)-1894007588:(i^o^s)-899497514,a=s,s=o,o=i<<30|i>>>2,i=n,n=h}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+s|0,r[4]=r[4]+a|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(n+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}}),n.SHA1=s._createHelper(c),n.HmacSHA1=s._createHmacHelper(c),u.SHA1)},346:function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AliAdapter=void 0;var a,l,c=s(r(125)),u=r(687),h=r(841),d=r(149),p=r(226),f=r(251),y=r(991),g=r(628);(l=a||(a={})).ERROR="error",l.HLSREADY="hlsready",l.LOADEDMETADATA="loadedmetadata",l.HLS_LEVEL_LOADED="hlsLevelLoaded",l.HLS_ERROR="hlsError",l.PLAYER_TYPE_READY="playerTypeReady";var v=function(e){function t(r,n){var i=e.call(this)||this;return y.tracker.setEnable("boolean"!=typeof n.enableLog?t.defaultConfig.enableLog:n.enableLog),i.trackInit(n),i.checkParams(r,n)?(n=o(o({},t.defaultConfig),n||{}),i.service=i.initService(n),i.player=i.initPlayer(r,n),n.antiDebug&&(0,f.n5fg6f)(i,!0),i):i}return i(t,e),Object.defineProperty(t.prototype,"hls",{get:function(){var e;return null===(e=this.player)||void 0===e?void 0:e.getHls()},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){y.tracker.reportDispose(),this.removeAllListeners(),this.player&&(this.player.dispose(),this.player=void 0),this.service&&(this.service.dispose(),this.service=void 0)},t.prototype.initService=function(e){var t=this,r=new u.VodService(e);return r.on(u.EServiceEvents.PLAYINFO,(function(e){var r=e.playInfo,n=e.basicInfo;t.player&&(y.tracker.reportLoadSource({url:r.PlayURL}),t.player.loadSource(r.PlayURL,r._vpk,r.Format),t.emit(a.LOADEDMETADATA,{data:{videoBasicInfo:{name:n.Title,duration:n.Duration,coverUrl:n.CoverURL},videoPlayInfo:{bitDepth:r.BitDepth,bitrate:r.Bitrate,definition:r.Definition,duration:r.Duration,fps:r.Fps,width:r.Width,height:r.Height,playUrl:r.PlayURL,size:r.Size,specification:r.Specification,encryptType:r.EncryptType||g.EEncryptTypeString.Unencrypted}}}))})),r.on(u.EServiceEvents.ERROR,(function(e){t.emit(a.ERROR,e)})),r},t.prototype.initPlayer=function(e,t){var r=this,n=new h.Player({mediaElement:e,hlsConfig:t.hlsConfig,antiRecord:t.antiRecord});return n.on(h.EPlayerEvents.HLS_LEVEL_LOADED,(function(e){r.emit(a.HLS_LEVEL_LOADED,e)})),n.on(h.EPlayerEvents.HLS_ERROR,(function(e){r.emit(a.HLS_ERROR,e)})),n.on(h.EPlayerEvents.ERROR,(function(e){r.emit(a.ERROR,e)})),n.on(h.EPlayerEvents.HLS_LOAD_ERROR,(function(e){r.emit(a.ERROR,e)})),n.on(h.EPlayerEvents.HLS_READY,(function(){r.emit(a.HLSREADY)})),n.on(h.EPlayerEvents.PLAYER_TYPE_READY,(function(e){y.tracker.reportPlayerType({playerType:e.data}),r.emit(a.PLAYER_TYPE_READY,e)})),n},t.prototype.checkParams=function(e,t){var r=this;return void 0===t&&(t={}),e?e instanceof HTMLMediaElement?!["vid","playauth"].some((function(e){if(!t[e])return p.asyncEmit.call(r,a.ERROR,new d.AdapterError(d.AdapterError.ErrorType.PARAMS_ERROR,"Parameter '".concat(e,"' is required."))),!0})):(p.asyncEmit.call(this,a.ERROR,new d.AdapterError(d.AdapterError.ErrorType.PARAMS_ERROR,"First argument should be HTMLMediaElement.")),!1):(p.asyncEmit.call(this,a.ERROR,new d.AdapterError(d.AdapterError.ErrorType.PARAMS_ERROR,"MediaElement is required as first argument.")),!1)},t.prototype.trackInit=function(e){e=e||{};var t=["hlsConfig","enableLog","antiRecord","antiDebug","vid","format","mediaType","definition","defaultDefinition","authTimeout","outputType","playConfig","reAuthInfo"],r=Object.keys(e).reduce((function(r,n){var i;return t.includes(n)?o(o({},r),((i={})[n]=e[n],i)):r}),{});y.tracker.reportInit(r)},t.defaultConfig={mediaType:"",authTimeout:7200,enableLog:!0,antiDebug:!1},t.Events=a,t.getVersion=function(){return"1.5.2"},t.isSupported=function(){var e=(0,p.isMseSupported)(),t=(0,p.isHlsNativeSupported)();return e||t},t.isPrivateEncryptionSupported=function(){return(0,p.isMseSupported)()},t.isStandardEncryptionSupported=function(){return t.isSupported()},t}(c.default);t.AliAdapter=v},628:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.EFormat=t.EEncryptTypeString=void 0,(r=t.EEncryptTypeString||(t.EEncryptTypeString={})).Unencrypted="Unencrypted",r.AliyunVoDEncryption="AliyunVoDEncryption",r.HLSEncryption="HLSEncryption",function(e){e.MP4="mp4",e.HLS="m3u8",e.FLV="flv",e.MP3="mp3",e.M4A="m4a"}(t.EFormat||(t.EFormat={}))},960:function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AntiRecord=t.EAntiRecordEvents=void 0;var s,a=r(149),l=o(r(125)),c=r(226);(s=t.EAntiRecordEvents||(t.EAntiRecordEvents={})).ERROR="error";var u=function(e){function t(t){void 0===t&&(t={});var r=e.call(this)||this;return r.videoElement=t.videoElement,r.hls=t.hls,r.start(),r}return i(t,e),t.prototype.start=function(){var e=this;this.stop(),this.check()||(this.timer=window.setInterval((function(){e.check()}),t.INTERVAL))},t.prototype.stop=function(){this.clearTimer()},t.prototype.check=function(){var e=!1;return(this.detectPrototype()||this.isNotNativeFn()||this.detectSeparateVideo())&&(this.clearTimer(),this.handleError(),this.releaseVideo(),localStorage.setItem("_intercept_mediastream_",""),e=!0),e},t.prototype.dispose=function(){this.stop(),this.videoElement=void 0,this.hls=void 0},t.prototype.clearTimer=function(){this.timer&&(clearInterval(this.timer),this.timer=void 0)},t.prototype.handleError=function(){c.asyncEmit.call(this,s.ERROR,new a.AdapterError(a.AdapterError.ErrorType.RECORD_DETECTED,"Your browser is unsafe, video can be unexpectedly downloaded."))},t.prototype.releaseVideo=function(){this.hls&&(this.hls.stopLoad(),this.hls.destroy()),this.videoElement&&(this.videoElement.srcObject=null,this.videoElement.load())},t.prototype.detectPrototype=function(){var e=window,t=e.MediaSource;return t&&e.EventTarget&&t.__proto__.__proto__===e.EventTarget},t.prototype.isNotNativeFn=function(){return this.isNotNativeFn_AddSourceBuffer()||this.isNotNativeFn_AddSourceBufferToString()},t.prototype.isNotNativeFn_AddSourceBuffer=function(){var e=window.MediaSource;return e&&!this.isNativeFn(e.prototype.addSourceBuffer)},t.prototype.isNotNativeFn_AddSourceBufferToString=function(){var e=window.MediaSource;return e&&!this.isNativeFn(e.prototype.addSourceBuffer.toString)},t.prototype.isNativeFn=function(e){var t=RegExp("^".concat(Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?"),"$")),r=typeof e;return null!==e&&("object"===r||"function"===r)&&t.test(e)},t.prototype.detectSeparateVideo=function(){var e=this.videoElement;if(e)return-1!==(e.getAttribute("id")||"").indexOf("360")},t.INTERVAL=1e3,t}(l.default);t.AntiRecord=u},980:function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.HlsPlayer=t.EPlayerEvents=void 0;var a,l,c=s(r(125)),u=r(991),h=r(526),d=r(960),p=r(149);(l=a=t.EPlayerEvents||(t.EPlayerEvents={})).HLS_READY="hlsReady",l.HLS_LEVEL_LOADED="hlsLevelLoaded",l.HLS_ERROR="hlsError",l.ERROR="error",l.HLS_LOAD_ERROR="hlsLoadError";var f={},y=function(e){function t(t){var r=e.call(this)||this;return r.canplayReported=!1,r.initStartTime=performance.now(),r.hlsConfig=t.hlsConfig,r.mediaElement=t.mediaElement,r.handleCanplay=r._handleCanplay.bind(r),r.handleMediaError=r._handleMediaError.bind(r),r.loadScriptPromise=r.loadHls(),r.initAntiRecord(t),r}return i(t,e),t.prototype.activate=function(){var e=this;return new Promise((function(t,r){e.loadScriptPromise.then((function(){var r=new window.AliHls(o(o({},f),e.hlsConfig||{}));e.hls=r,e.handleReportCanplay(),e.hls.attachMedia(e.mediaElement),e.bindHlsEvents(),e.emit(a.HLS_READY),t(!0)})).catch((function(t){(null==t?void 0:t.errorCode)===a.HLS_LOAD_ERROR&&e.emit(t.errorCode,new p.AdapterError(p.AdapterError.ErrorType.HLSJS_LOAD_ERROR,"Hls.js load failed.")),r(t)}))}))},t.prototype.loadSource=function(e,t){if(this.hls)return this.canplayReported=!1,this.loadStartTime=performance.now(),this.hls.config._vpk=t,this.hls.loadSource(e)},t.prototype.dispose=function(){var e,t;this.removeAllListeners(),this.removeElementEvents(),null===(e=this.hls)||void 0===e||e.destroy(),null===(t=this.antiRecordUtil)||void 0===t||t.dispose(),this.loadStartTime=void 0,this.canplayReported=!1},t.prototype.loadHls=function(){return new Promise((function(e,t){window.AliHls?e():(0,h.loadJS)("https://g.alicdn.com/AliyunVideoClient/prismplayer-hls/1.1.2/aliplayer-hls2-min.js",(function(){e()}),(function(e){t({errorCode:a.HLS_LOAD_ERROR})}))}))},t.prototype.bindHlsEvents=function(){var e=this;this.hls&&(this.hls.on(window.AliHls.Events.ERROR,(function(t,r){e.emit(a.HLS_ERROR,r)})),this.hls.on(window.AliHls.Events.LEVEL_LOADED,(function(t,r){e.emit(a.HLS_LEVEL_LOADED,{data:r})})))},t.prototype.initAntiRecord=function(e){var t=this;!1!==e.antiRecord&&e.mediaElement instanceof HTMLVideoElement&&(this.antiRecordUtil=new d.AntiRecord({videoElement:e.mediaElement,hls:this.hls}),this.antiRecordUtil.on(d.EAntiRecordEvents.ERROR,(function(e){t.emit(a.ERROR,e)})))},t.prototype._handleCanplay=function(){if(!this.canplayReported){this.canplayReported=!0;var e=performance.now();u.tracker.reportFirstCanplay({cost:this.loadStartTime?Math.floor(e-this.loadStartTime):null,costAll:Math.floor(performance.now()-this.initStartTime)})}},t.prototype._handleMediaError=function(){var e,t;this.emit(a.ERROR,new p.AdapterError(p.AdapterError.ErrorType.MEDIA_ERROR,"media element error",{code:null===(e=this.mediaElement.error)||void 0===e?void 0:e.code,message:null===(t=this.mediaElement.error)||void 0===t?void 0:t.message}))},t.prototype.handleReportCanplay=function(){var e,t;null===(e=this.mediaElement)||void 0===e||e.addEventListener("canplay",this.handleCanplay),null===(t=this.mediaElement)||void 0===t||t.addEventListener("error",this.handleMediaError)},t.prototype.removeElementEvents=function(){var e,t;null===(e=this.mediaElement)||void 0===e||e.removeEventListener("canplay",this.handleCanplay),null===(t=this.mediaElement)||void 0===t||t.removeEventListener("error",this.handleMediaError)},t}(c.default);t.HlsPlayer=y},841:function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(l){a=[6,l],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Player=t.EPlayerType=t.EPlayerEvents=void 0;var c,u,h=r(421),d=r(980),p=r(226),f=r(628),y=l(r(125)),g=r(149);(c||(c={})).PLAYER_TYPE_READY="playerTypeReady",t.EPlayerEvents=o(o(o({},d.EPlayerEvents),h.EPlayerEvents),c),function(e){e.HLSJS="hlsjs",e.NATIVE="native"}(u=t.EPlayerType||(t.EPlayerType={}));var v=function(e){function r(t){var r=e.call(this)||this;return r.hlsPlayer=new d.HlsPlayer(t),r.nativePlayer=new h.NativePlayer(t),r.proxyEvents(),r}return i(r,e),r.prototype.getHls=function(){var e;return null===(e=this.hlsPlayer)||void 0===e?void 0:e.hls},r.prototype.loadSource=function(e,r,n){var i;return s(this,void 0,void 0,(function(){var o;return a(this,(function(s){switch(s.label){case 0:return(o=this.selectPlayerType(!!r,n))?o!==u.NATIVE?[3,1]:(this.nativePlayer.activate(),this.activePlayer=this.nativePlayer,[3,6]):[2];case 1:if(o!==u.HLSJS)return[3,6];s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.hlsPlayer.activate()];case 3:return s.sent(),[3,5];case 4:return s.sent(),[2];case 5:this.activePlayer=this.hlsPlayer,s.label=6;case 6:return this.emit(t.EPlayerEvents.PLAYER_TYPE_READY,{data:o}),null===(i=this.activePlayer)||void 0===i||i.loadSource(e,r),[2]}}))}))},r.prototype.dispose=function(){this.nativePlayer.dispose(),this.hlsPlayer.dispose(),this.activePlayer=void 0},r.prototype.selectPlayerType=function(e,r){var n;if(e){if(!(0,p.isMseSupported)())return void this.emit(t.EPlayerEvents.ERROR,new g.AdapterError(g.AdapterError.ErrorType.NOT_SUPPORT_SOURCE,"MSE is not supported by the browser, but it is required for the source."));n=u.HLSJS}else switch(r){case f.EFormat.MP4:case f.EFormat.M4A:case f.EFormat.MP3:n=u.NATIVE;break;case f.EFormat.HLS:if((0,p.isMseSupported)())n=u.HLSJS;else{if(!(0,p.isHlsNativeSupported)())return void this.emit(t.EPlayerEvents.ERROR,new g.AdapterError(g.AdapterError.ErrorType.NOT_SUPPORT_SOURCE,"Neither native nor MSE is supported by the browser to play HLS."));n=u.NATIVE}break;default:return void this.emit(t.EPlayerEvents.ERROR,new g.AdapterError(g.AdapterError.ErrorType.NOT_SUPPORT_SOURCE,"The source format ".concat(r," is not supported.")))}return n},r.prototype.proxyEvents=function(){var e=this;this.nativePlayer.on(h.EPlayerEvents.ERROR,(function(r){e.emit(t.EPlayerEvents.ERROR,r)})),this.hlsPlayer.on(d.EPlayerEvents.ERROR,(function(r){e.emit(t.EPlayerEvents.ERROR,r)})),this.hlsPlayer.on(d.EPlayerEvents.HLS_READY,(function(r){e.emit(t.EPlayerEvents.HLS_READY,r)})),this.hlsPlayer.on(d.EPlayerEvents.HLS_LEVEL_LOADED,(function(r){e.emit(t.EPlayerEvents.HLS_LEVEL_LOADED,r)})),this.hlsPlayer.on(d.EPlayerEvents.HLS_ERROR,(function(r){e.emit(t.EPlayerEvents.HLS_ERROR,r)})),this.hlsPlayer.on(d.EPlayerEvents.HLS_LOAD_ERROR,(function(r){e.emit(t.EPlayerEvents.HLS_LOAD_ERROR,r)}))},r}(y.default);t.Player=v},421:function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.NativePlayer=t.EPlayerEvents=void 0;var s,a=o(r(125)),l=r(991),c=r(149);(s=t.EPlayerEvents||(t.EPlayerEvents={})).ERROR="error";var u=function(e){function t(t){var r=e.call(this)||this;return r.canplayReported=!1,r.mediaElement=t.mediaElement,r.initStartTime=performance.now(),r.handleCanplay=r._handleCanplay.bind(r),r.handleMediaError=r._handleMediaError.bind(r),r}return i(t,e),t.prototype.activate=function(){this.bindEvents()},t.prototype.loadSource=function(e){this.canplayReported=!1,this.loadStartTime=performance.now(),this.mediaElement.src=e},t.prototype.dispose=function(){this.removeElementEvents(),this.mediaElement.pause(),this.mediaElement.removeAttribute("src"),this.mediaElement.load(),this.loadStartTime=void 0,this.canplayReported=!1},t.prototype._handleCanplay=function(){if(!this.canplayReported){this.canplayReported=!0;var e=performance.now();l.tracker.reportFirstCanplay({cost:this.loadStartTime?Math.floor(e-this.loadStartTime):null,costAll:Math.floor(performance.now()-this.initStartTime)})}},t.prototype._handleMediaError=function(){var e,t;this.emit(s.ERROR,new c.AdapterError(c.AdapterError.ErrorType.MEDIA_ERROR,"media element error",{code:null===(e=this.mediaElement.error)||void 0===e?void 0:e.code,message:null===(t=this.mediaElement.error)||void 0===t?void 0:t.message}))},t.prototype.bindEvents=function(){this.mediaElement.addEventListener("canplay",this.handleCanplay),this.mediaElement.addEventListener("error",this.handleMediaError)},t.prototype.removeElementEvents=function(){var e,t;null===(e=this.mediaElement)||void 0===e||e.removeEventListener("canplay",this.handleCanplay),null===(t=this.mediaElement)||void 0===t||t.removeEventListener("error",this.handleMediaError)},t}(a.default);t.NativePlayer=u},33:function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseService=void 0;var s=function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.dispose=function(){this.removeAllListeners()},t}(o(r(125)).default);t.BaseService=s},687:function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(l){a=[6,l],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},l=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};Object.defineProperty(t,"__esModule",{value:!0}),t.EServiceEvents=t.VodService=void 0;var c,u,h,d=r(33),p=r(962),f=r(120),y=r(526),g=r(226),v=r(991),m=r(149),_=r(628),b=function(e){function t(t){var r=e.call(this)||this;return t=t||{},r.load(t),r}return i(t,e),t.prototype.load=function(e){var t,r,n;return s(this,void 0,void 0,(function(){var i,s,l,u,h,d,b,E,T,$,S,w;return a(this,(function(a){switch(a.label){case 0:i={};try{i=(0,p.parsePlayauth)(e.playauth)}catch(C){return g.asyncEmit.call(this,c.ERROR,new m.AdapterError(m.AdapterError.ErrorType.PARAMS_ERROR,"Playauth decode error.",{playauth:e.playauth})),[2]}s=(0,p.randomUUID)(),this.hasEncType(_.EEncryptTypeString.Unencrypted,e)||(l=(0,f._sce_r_skjhfnck)(),s=(0,f._sce_lgtcaygl)(l)),u=e.playConfig||{},e.encryptType&&(u=o({EncryptType:e.encryptType},u)),h={Action:"GetPlayInfo",AccessKeyId:i.AccessKeyId,SecurityToken:i.SecurityToken,AuthInfo:i.AuthInfo,Rand:s,VideoId:e.vid,Formats:e.format,AuthTimeout:e.authTimeout,StreamType:e.mediaType,OutputType:e.outputType,PlayConfig:JSON.stringify(u),ReAuthInfo:e.reAuthInfo?JSON.stringify(e.reAuthInfo):"",Format:"JSON",Version:"2017-03-21",SignatureVersion:"1.0",SignatureMethod:"HMAC-SHA1",SignatureNonce:(0,p.randomUUID)(),Channel:"HTML5",PlayerVersion:"plugin-".concat("1.5.2")},"AUTO"===e.definition?h.ResultType="Multiple":e.definition&&(h.Definition=e.definition),h=this.cleanParams(h),d=(0,p.makeUTF8sort)(h,"=","&")+"&Signature="+(0,p.AliyunEncodeURI)((0,p.makeChangeSiga)(h,i.AccessKeySecret)),b="https://vod."+i.Region+".aliyuncs.com/?"+d,v.tracker.reportServiceRequestStart({action:"GetPlayInfo"}),E=performance.now(),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,(0,y.get)(b)];case 2:return T=a.sent(),[3,4];case 3:return $=a.sent(),this.emit(c.ERROR,new m.AdapterError(m.AdapterError.ErrorType.SERVICE_REQUEST_ERROR,"Vod service request error.",{httpCode:null===(t=null==$?void 0:$.request)||void 0===t?void 0:t.status,responseText:null===(r=null==$?void 0:$.request)||void 0===r?void 0:r.responseText,action:"GetPlayInfo"})),[2];case 4:return this.handleReportRequestOk(T,E),S=(null===(n=T.PlayInfoList)||void 0===n?void 0:n.PlayInfo)||[],(w=S[0]).EncryptType===_.EEncryptTypeString.AliyunVoDEncryption&&(w._vpk=(0,f._sce_dlgtqred)(l,w.Rand,w.Plaintext)),this.emit(c.PLAYINFO,{playInfo:w,basicInfo:T.VideoBase||{}}),[2]}}))}))},t.prototype.cleanParams=function(e){return Object.keys(e).reduce((function(t,r){var n;return e[r]?o(o({},t),((n={})[r]=e[r],n)):t}),{})},t.prototype.handleReportRequestOk=function(e,t){try{var r=(e=e||{}).VideoBase||{},n=(e.PlayInfoList||{}).PlayInfo||[],i={cost:Math.floor(performance.now()-t),response:{RequestId:e.RequestId,VideoBase:{Title:r.Title,Status:r.Status,MediaType:r.MediaType,Duration:r.Duration},PlayInfoList:n.map((function(e){var t=e||{},r=(t.CreationTime,t.ModificationTime,t.Rand,t.Plaintext,t.JobId,t._vpk,l(t,["CreationTime","ModificationTime","Rand","Plaintext","JobId","_vpk"]));return o({},r)}))}};v.tracker.reportServiceRequestOk(i)}catch(s){}},t.prototype.hasEncType=function(e,t){var r;return t.encryptType===e||(null===(r=t.playConfig)||void 0===r?void 0:r.EncryptType)===e},t}(d.BaseService);t.VodService=b,(h=c=t.EServiceEvents||(t.EServiceEvents={})).PLAYINFO="playinfo",h.ERROR="error",function(e){e[e.None=0]="None",e[e.Private=1]="Private"}(u||(u={}))},251:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.n5fg6f=void 0;var devtools_detector_js_1=__importDefault(__webpack_require__(651)),fs56j57="debugger";function kl5f8(){window&&["info","log","debug","warn","error","dir","dirxml","table"].forEach((function(e){return window.console[e]=function(){}}))}function gas4s8(){for(;;)eval(fs56j57)}function n5fg6f(adapter,enable){setTimeout((function(){function cl48s87(isOpen){isOpen&&enable&&(eval(fs56j57),enable?(kl5f8(),adapter.dispose(),gas4s8()):(devtools_detector_js_1.default.removeListener(cl48s87),devtools_detector_js_1.default.setDetectDelay(0),devtools_detector_js_1.default.stop()))}devtools_detector_js_1.default.addListener(cl48s87),devtools_detector_js_1.default.launch()}),document.body?0:100)}exports.n5fg6f=n5fg6f},149:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AdapterError=t.EAdapterErrorType=void 0;var n,i,o=r(991);(i=n=t.EAdapterErrorType||(t.EAdapterErrorType={}))[i.SERVICE_REQUEST_ERROR=1001]="SERVICE_REQUEST_ERROR",i[i.SERVICE_PLAYINFO_INVALID=1002]="SERVICE_PLAYINFO_INVALID",i[i.PARAMS_ERROR=2001]="PARAMS_ERROR",i[i.RECORD_DETECTED=3001]="RECORD_DETECTED",i[i.HLSJS_LOAD_ERROR=3002]="HLSJS_LOAD_ERROR",i[i.NOT_SUPPORT_SOURCE=3003]="NOT_SUPPORT_SOURCE",i[i.MEDIA_ERROR=4001]="MEDIA_ERROR";var s=function(){function e(e,t,r){this.errorCode=e,this.errorMessage=t,this.extraData=r,this.handleReport()}return e.prototype.handleReport=function(){var e={errorCode:this.errorCode,errorMessage:this.errorMessage,extraData:this.extraData};if(e.extraData)try{e.extraData=JSON.parse(JSON.stringify(e.extraData)),delete e.extraData.playauth}catch(t){}o.tracker.reportError(e)},e.ErrorType=n,e}();t.AdapterError=s},125:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this._eventMap={}}return e.prototype.listeners=function(e){return this._eventMap[e]||[]},e.prototype.emit=function(e){for(var t=this,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=this._eventMap[e];return!!Array.isArray(i)&&(i.forEach((function(e){return e.apply(t,r)})),!0)},e.prototype.off=function(e,t){var r=this._eventMap[e];return Array.isArray(r)&&(this._eventMap[e]=r.filter((function(e){return e!==t}))),this},e.prototype.removeAllListeners=function(e){return void 0===e?this._eventMap={}:this._eventMap[e]&&(this._eventMap[e]=[]),this},e.prototype.on=function(e,t){return this._eventMap[e]?this._eventMap[e].push(t):this._eventMap[e]=[t],this},e.prototype.once=function(e,t){var r=this,n=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];r.off(e,n),t.apply(r,i)};return this.on(e,n),this},e}();t.default=r},226:function(e,t,r){var n=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.isHlsNativeSupported=t.isMseSupported=t.createGuid=t.asyncEmit=void 0;var i=r(166);t.asyncEmit=function(e){for(var t=this,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];setTimeout((function(){t.emit.apply(t,n([e],r,!1))}))},t.createGuid=function(e,t){var r,n,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),o=[];if(t=t||i.length,e)for(r=0;r<e;r++)o[r]=i[0|Math.random()*t];else for(o[8]=o[13]=o[18]=o[23]="-",o[14]="4",r=0;r<36;r++)o[r]||(n=0|16*Math.random(),o[r]=i[19==r?3&n|8:n]);return o.join("")},t.isMseSupported=function(){var e,t=self.MediaSource||self.WebKitMediaSource;if(!t)return!1;var r=self.SourceBuffer||self.WebKitSourceBuffer,n=t&&"function"==typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),o=!r||r.prototype&&"function"==typeof r.prototype.appendBuffer&&"function"==typeof r.prototype.remove,s=null===(e=navigator.userAgent)||void 0===e?void 0:e.toLowerCase(),a=/xweb|mqqbrowser/.test(s)&&i.SystemUtil.isAndroid;return!!n&&!!o||a},t.isHlsNativeSupported=function(){var e=document.createElement("video");return Boolean(e.canPlayType("application/vnd.apple.mpegURL")||e.canPlayType("audio/mpegurl"))}},526:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.loadJS=t.get=t._get=t.ajax=void 0;var n,i,o=r(991);(i=n||(n={})).MAIN="main",i.BACKUP="backup";var s=function(e){try{var t=/vod(?:-product)?\.(\S+)\.aliyuncs\.com/.exec(e);return{value:!!t,region:t?t[1]:""}}catch(r){return{value:!1,region:""}}},a=function(e){return(e||"").split("?")[0]};t.ajax=function(e,r,i,l,c,u,h,d,p){var f,y;if(p=p||{type:n.MAIN,time:0},c=c||function(){},"undefined"==typeof XMLHttpRequest)throw new Error("This browser does not support XMLHttpRequest.");(f=new XMLHttpRequest).onreadystatechange=function(){if(4===f.readyState){var g=(T=(E=f).status,$=E.responseText,0===T||T>=500&&T<=599&&-1===($||"").indexOf("RequestId"));if(y&&(clearTimeout(y),y=void 0),g||0!==(null==p?void 0:p.time)&&o.tracker.reportVodRequestFatalErrorResume({url:a(r),status:f.status,response:200!==f.status?f.responseText:"",retryType:null==p?void 0:p.type,retryTime:null==p?void 0:p.time}),200===f.status)l(f);else{if(g){var v=s(r),m=v.value,_=v.region,b=r.replace("vod.".concat(_,".aliyuncs.com"),"vod-product.".concat(_,".aliyuncs.com"));if(m&&p){if(o.tracker.reportVodRequestFatalError({url:a(r),status:f.status,response:f.responseText,retryType:null==p?void 0:p.type,retryTime:null==p?void 0:p.time}),p.type===n.MAIN)return p.time<1?(p.time++,void setTimeout((function(){(0,t.ajax)(e,r,i,l,c,u,h,d,p)}),200)):(p.type=n.BACKUP,p.time=1,void setTimeout((function(){(0,t.ajax)(e,b,i,l,c,u,h,d,p)}),200));if(p.type===n.BACKUP&&p.time<2)return p.time++,void setTimeout((function(){(0,t.ajax)(e,b,i,l,c,u,h,d,p)}),200)}}c(f)}}var E,T,$};try{if(void 0===u&&(u=!0),f.open(e,r,u),h&&(f.withCredentials=!0),d)for(var g in d)d.hasOwnProperty(g)&&f.setRequestHeader(g,d[g])}catch(v){return void c(f,v)}try{s(r).value&&(y=setTimeout((function(){(null==p?void 0:p.type)===n.MAIN?p.time=1:(null==p?void 0:p.type)===n.BACKUP&&(p.time=2),f.abort()}),5e3)),f.send(i)}catch(v){c(f,v)}},t._get=function(e,r,n,i,o){(0,t.ajax)("GET",e,{},r,n,i,o)},t.get=function(e){return new Promise((function(r,n){(0,t._get)(e,(function(e){var t=JSON.parse(e.responseText);r(t)}),(function(e,t){n({request:e,extraError:t})}))}))},t.loadJS=function(e,t,r){var n=document.getElementsByTagName("HEAD").item(0),i=document.createElement("script");e&&e.toLowerCase().indexOf("https://")<0&&e.toLowerCase().indexOf("http://")<0&&(e=document.URL.replace(/(\/[^\/]*?)$/i,"")+e),i.type="text/javascript",i.src=e,i.onload=function(){t&&t()},i.onerror=function(){r&&r()},null==n||n.appendChild(i)}},962:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AliyunEncodeURI=t.makeChangeSiga=t.makeUTF8sort=t.randomUUID=t.parsePlayauth=void 0;var i=n(r(269)),o=n(r(743)),s=n(r(398));t.parsePlayauth=function(e){var t=o.default.stringify(i.default.parse(e));if(!t)throw new Error("playuth参数解析为空");return JSON.parse(t)},t.randomUUID=function(){for(var e=[],t="0123456789abcdef",r=0;r<36;r++)e[r]=t.substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("")},t.makeUTF8sort=function(e,r,n){if(!e)throw new Error("PrismPlayer Error: vid should not be null!");var i=[];for(var o in e)i.push(o);var s=i.sort(),a="",l=s.length;for(o=0;o<l;o++){var c=(0,t.AliyunEncodeURI)(s[o]),u=(0,t.AliyunEncodeURI)(e[s[o]]);""==a?a=c+r+u:a+=n+c+r+u}return a},t.makeChangeSiga=function(e,r,n){if(!e)throw new Error("PrismPlayer Error: vid should not be null!");return n||(n="GET"),i.default.stringify((0,s.default)(n+"&"+(0,t.AliyunEncodeURI)("/")+"&"+(0,t.AliyunEncodeURI)((0,t.makeUTF8sort)(e,"=","&")),r+"&"))},t.AliyunEncodeURI=function(e){var t=encodeURIComponent(e);return(t=(t=t.replace("+","%2B")).replace("*","%2A")).replace("%7E","~")}},991:function(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.tracker=void 0;var o,s,a=i(r(750)),l=r(166),c=r(226);(s=o||(o={}))[s.INIT=1e3]="INIT",s[s.DISPOSE=1001]="DISPOSE",s[s.REQUEST_SERVICE_START=2e3]="REQUEST_SERVICE_START",s[s.REQUEST_SERVICE_OK=2001]="REQUEST_SERVICE_OK",s[s.VOD_REQUEST_FATAL_ERROR=2002]="VOD_REQUEST_FATAL_ERROR",s[s.VOD_REQUEST_FATAL_ERROR_RESUME=2003]="VOD_REQUEST_FATAL_ERROR_RESUME",s[s.LOAD_SOURCE_START=3e3]="LOAD_SOURCE_START",s[s.FIRST_CANPLAY=3001]="FIRST_CANPLAY",s[s.PLAYER_TYPE=3002]="PLAYER_TYPE",s[s.ERROR=4001]="ERROR";var u=function(){function e(){this.enableLog=!1,this.commonParams=this.initParams(),this.tracker=this.initTracker()}return e.prototype.initParams=function(){return{APIVersion:"0.6.0",rv:"1.1.0",fv:"1.5.2",os:l.SystemUtil.platform,osv:l.SystemUtil.systemVersion,bt:l.BrowserUtil.browserName,bv:l.BrowserUtil.browserVersion,host:window.location.origin,pu:window.location.href,sid:"",ua:navigator&&navigator.userAgent||""}},e.prototype.initTracker=function(){return new a.default({host:"cn-hangzhou.log.aliyuncs.com",project:"web-video",logstore:"player-private-plugin",time:5,count:10,topic:"",source:"",tags:{}})},e.prototype.setEnable=function(e){this.enableLog=e},e.prototype.report=function(e){if(this.enableLog){var t=n(n(n({},this.commonParams),e),{ct:(new Date).getTime(),msgname:e.msgid&&o[e.msgid]});this.tracker.send(t)}},e.prototype.updateCommonParams=function(e){void 0===e&&(e={}),this.commonParams=n(n({},this.commonParams),e)},e.prototype.reportInit=function(e){this.updateCommonParams({vid:e.vid,sid:(0,c.createGuid)(32)}),this.report({msgid:o.INIT,args:n({},e)})},e.prototype.reportError=function(e){this.report({msgid:o.ERROR,args:n({},e)})},e.prototype.reportDispose=function(){this.report({msgid:o.DISPOSE})},e.prototype.reportServiceRequestStart=function(e){this.report({msgid:o.REQUEST_SERVICE_START,args:n({},e)})},e.prototype.reportServiceRequestOk=function(e){this.report({msgid:o.REQUEST_SERVICE_OK,args:n({},e)})},e.prototype.reportLoadSource=function(e){this.report({msgid:o.LOAD_SOURCE_START,args:n({},e)})},e.prototype.reportFirstCanplay=function(e){this.report({msgid:o.FIRST_CANPLAY,args:n({},e)})},e.prototype.reportPlayerType=function(e){this.report({msgid:o.PLAYER_TYPE,args:n({},e)})},e.prototype.reportVodRequestFatalError=function(e){this.report({msgid:o.VOD_REQUEST_FATAL_ERROR,args:n({},e)})},e.prototype.reportVodRequestFatalErrorResume=function(e){this.report({msgid:o.VOD_REQUEST_FATAL_ERROR_RESUME,args:n({},e)})},e}();t.tracker=new u},166:e=>{
/*! useragent-util - ver 1.2.0 created:2022/10/26 20:53:20 */
e.exports=(()=>{var e={622:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserUtil=t.BrowserType=void 0;var n,i,o=r(101);(i=n=t.BrowserType||(t.BrowserType={})).IE="IE",i.Chrome="Chrome",i.Safari="Safari",i.Firefox="Firefox",i.Opera="Opera",i.Edge="Edge",i.MicroMessenger="MicroMessenger",i.X5Core="X5Core",i.Quark="Quark",i.QQ="QQ",i.QQBrowser="QQBrowser",i.DingTalk="DingTalk",i.Electron="Electron",i.Sogou="Sogou",i.Vivo="VivoBrowser",i.Oppo="OppoBrowser",i.UC="UCBrowser",i.MI="MiBrowser",i.Lenovo="SLBrowser",i.Maxthon="Maxthon",i.Liebao="Liebao",i.Huawei="Huawei",i.Meizu="MZBrowser",i.Finger="FingerBrowser",i.Samsung="SamsungBrowser",i.WebVeiw="WebVeiw",i.Unknown="unknown";var s=function(){function e(){}return Object.defineProperty(e,"isBrowser",{get:function(){return"undefined"!=typeof document},enumerable:!1,configurable:!0}),Object.defineProperty(e,"domain",{get:function(){return window.location.protocol+window.location.host},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isHttps",{get:function(){return this.isBrowser&&document.location&&("https:"==document.location.protocol||0===document.location.host.indexOf("127.0.0.1:")||0===document.location.host.indexOf("localhost:"))},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isSupportScreenShare",{get:function(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isChrome",{get:function(){return e._getBrowserInfo(),n.Chrome===e._browserName},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isSafari",{get:function(){return e._getBrowserInfo(),n.Safari===e._browserName},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isIE",{get:function(){return e._getBrowserInfo(),n.IE===e._browserName},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isFirefox",{get:function(){return e._getBrowserInfo(),n.Firefox===e._browserName},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isEdge",{get:function(){return e._getBrowserInfo(),n.Edge===e.browserName},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isSogou",{get:function(){return e._getBrowserInfo(),n.Sogou===e.browserName},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isVivoBroswer",{get:function(){return e._getBrowserInfo(),n.Vivo===e.browserName},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isOppoBrowser",{get:function(){return e._getBrowserInfo(),n.Oppo===e.browserName},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isMiBrowser",{get:function(){return e._getBrowserInfo(),n.MI===e.browserName},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isLenovoBrowser",{get:function(){return e._getBrowserInfo(),n.Lenovo===e.browserName},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isMaxthonBrowser",{get:function(){return e._getBrowserInfo(),n.Maxthon===e.browserName},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isLiebaoBrowser",{get:function(){return e._getBrowserInfo(),n.Liebao===e.browserName},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isHuaweiBrowser",{get:function(){return e._getBrowserInfo(),n.Huawei===e.browserName},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isMZBrowser",{get:function(){return e._getBrowserInfo(),n.Meizu===e._browserName},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isSamsungBrowser",{get:function(){return e._getBrowserInfo(),n.Samsung===e._browserName},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isOpera",{get:function(){return e._getBrowserInfo(),n.Opera===e._browserName},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isMicroMessenger",{get:function(){return e._getBrowserInfo(),e._browserName===n.MicroMessenger},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isQQ",{get:function(){return e._getBrowserInfo(),n.QQ===e.browserName},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isQQBrowser",{get:function(){return e._getBrowserInfo(),n.QQBrowser===e.browserName},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isX5Core",{get:function(){return e._getBrowserInfo(),e._browserName===n.X5Core},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isUCBrowser",{get:function(){return e._getBrowserInfo(),e._browserName===n.UC},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isQuarkBrowser",{get:function(){return e._getBrowserInfo(),e._browserName===n.Quark},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isFingerBrowser",{get:function(){return e._getBrowserInfo(),e._browserName===n.Finger},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isChromeCore",{get:function(){return e._getBrowserInfo(),"Chrome"===e._core},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isWebView",{get:function(){return e._getBrowserInfo(),e._browserName===n.WebVeiw},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isDingTalk",{get:function(){return e._getBrowserInfo(),e._browserName===n.DingTalk},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isUnknown",{get:function(){return e._getBrowserInfo(),n.Unknown===e.browserName},enumerable:!1,configurable:!0}),Object.defineProperty(e,"browserName",{get:function(){return e._getBrowserInfo(),e._browserName},enumerable:!1,configurable:!0}),Object.defineProperty(e,"browserVersion",{get:function(){return e._getBrowserInfo(),e._browserVersion},enumerable:!1,configurable:!0}),Object.defineProperty(e,"browserMainVersion",{get:function(){return e._getBrowserInfo(),e._browserVersion?parseInt(e._browserVersion.split(".")[0],10):0},enumerable:!1,configurable:!0}),Object.defineProperty(e,"browserCoreVersion",{get:function(){return navigator.userAgent.toLowerCase(),o.SystemUtil.isIos||o.SystemUtil.isMacOS,e.browserMainVersion},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isElectron",{get:function(){return e._getBrowserInfo(),n.Electron===e.browserName},enumerable:!1,configurable:!0}),Object.defineProperty(e,"userAgent",{get:function(){var e=navigator.userAgent.toLowerCase(),t=e.indexOf("gecko");if(t>-1){t=e.indexOf(" ",t);var r=(e=e.substring(t+1,e.length)).split(" ");e="";for(var n=0;n<r.length;++n){var i=r[n].split("/");i&&i.length&&(e+=i[0]+" ")}}return e},enumerable:!1,configurable:!0}),e.compareVersion=function(t){if(e._getBrowserInfo(),e._browserVersion){for(var r=e._browserVersion.split("."),n=t.split("."),i=0,o=0,s=0;s<r.length&&s<n.length;++s){if((i=isNaN(parseInt(r[s],10))?0:parseInt(r[s],10))<(o=isNaN(parseInt(n[s],10))?0:parseInt(n[s],10)))return!1;if(i>o)return!0}return!0}return!0},e._getBrowserInfo=function(){if(!e._browserName||!e._browserVersion)if(navigator&&navigator.userAgent){var t=navigator.userAgent.toLowerCase(),r=void 0;(r=t.match(/edg[e|a]?\/([\d.]+)/))||(r=t.match(/edgios\/([\d.]+)/))?e._updateBrowserInfo(n.Edge,t,r[1]):(r=t.match(/rv:([\d.]+)\) like gecko/))||(r=t.match(/msie ([\d.]+)/))?e._updateBrowserInfo(n.IE,t,r[1]):(r=t.match(/vivobrowser\/([\d.]+)/))?e._updateBrowserInfo(n.Vivo,t,r[1]):(r=t.match(/miuibrowser\/([\d.]+)/))?e._updateBrowserInfo(n.MI,t,r[1]):(r=t.match(/samsungbrowser\/([\d.]+)/))?e._updateBrowserInfo(n.Samsung,t,r[1]):(r=t.match(/heytapbrowser\/([\d.]+)/))?e._updateBrowserInfo(n.Oppo,t,r[1]):(r=t.match(/mzbrowser\/([\d.]+)/))?e._updateBrowserInfo(n.Meizu,t,r[1]):(r=t.match(/ucbrowser\/([\d.]+)/))?e._updateBrowserInfo(n.UC,t,r[1]):(r=t.match(/quark\/([\d.]+)/))?e._updateBrowserInfo(n.Quark,t,r[1]):(r=t.match(/slbrowser\/([\d.]+)/))?e._updateBrowserInfo(n.Lenovo,t,r[1]):(r=t.match(/lbbrowser\/([\d.]+)/))?e._updateBrowserInfo(n.Liebao,t,r[1]):(r=t.match(/fingerbrowser\/([\d.]+)/))?e._updateBrowserInfo(n.Finger,t,r[1]):(r=t.match(/huaweibrowser\/([\d.]+)/))?e._updateBrowserInfo(n.Huawei,t,r[1]):(r=t.match(/maxthon\/([\d.]+)/))?e._updateBrowserInfo(n.Maxthon,t,r[1]):(r=t.match(/firefox\/([\d.]+)/))?e._updateBrowserInfo(n.Firefox,t,r[1]):(r=t.match(/electron\/([\d.]+)/))?e._updateBrowserInfo(n.Electron,t,r[1]):(r=t.match(/chrome\/([\d.]+)/))&&this._isChrome(t)||(r=t.match(/crios\/([\d.]+)/))&&this._isChrome(t)?e._updateBrowserInfo(n.Chrome,t,r[1]):(r=t.match(/metasr\s([\d.]+)/))||(r=t.match(/sogoumobilebrowser\/([\d.]+)/))?e._updateBrowserInfo(n.Sogou,t,r[1]):(r=t.match(/opr.([\d.]+)/))?e._updateBrowserInfo(n.Opera,t,r[1]):(r=t.match(/micromessenger.([\d.]+)/))?e._updateBrowserInfo(n.MicroMessenger,t,r[1]):(r=t.match(/qq\/([\d.]+)/))?e._updateBrowserInfo(n.QQ,t,r[1]):(r=t.match(/m?qqbrowser\/([\d.]+)/))||(r=t.match(/qqbrowserlite\/([\d.]+)/))?e._updateBrowserInfo(n.QQBrowser,t,r[1]):(r=t.match(/dingtalk.([\d.]+)/))?e._updateBrowserInfo(n.DingTalk,t,r[1]):(r=t.match(/tbs\/([\d.]+)/))?e._updateBrowserInfo(n.X5Core,t,r[1]):(r=t.match(/version\/([\d.]+).*safari/))&&this._isSafari(t)&&e._updateBrowserInfo(n.Safari,t,r[1]),e._browserName===n.Unknown&&e._isWebview(t)&&e._updateBrowserInfo(n.WebVeiw,t,"")}else e._browserName=n.Unknown,e._browserVersion="0.0"},e._isChrome=function(t){var r=t.split(/\(|\)/);if(e._core="Chrome",5===r.length){var n=r[4].trim().split(" ");if(2===n.length){if(n[0].indexOf("chrome")>-1&&n[1].indexOf("safari")>-1)return!0}else if(3===n.length){if(n[1].indexOf("mobile")>-1&&n[2].indexOf("safari")>-1&&(n[0].indexOf("chrome")>-1||n[0].indexOf("crios")>-1))return!0}else if(t.indexOf("qianniu")>-1)return!0}else if(t.indexOf("dingtalk")>-1)return!0;return!1},e._isSafari=function(e){var t=e.split(/\(|\)/);if(5===t.length){var r=t[4].trim().split(" ");if(2===r.length){if(r[0].indexOf("version")>-1&&r[1].indexOf("safari")>-1)return!0}else if(3===r.length&&r[0].indexOf("version")>-1&&r[1].indexOf("mobile")>-1&&r[2].indexOf("safari")>-1)return!0}return!1},e._isWebview=function(e){if(e){var t=new RegExp("("+["WebView","(iPhone|iPod|iPad)(?!.*Safari)","Android.*(wv|.0.0.0)","Linux; U; Android"].join("|")+")","ig"),r=new RegExp("("+["VivoBrowser","MZBrowser","MiuiBrowser"].join("|")+")","ig");return!!e.match(t)&&!e.match(r)}},e._updateBrowserInfo=function(t,r,i){e._browserName=t;var s=null;switch(t){case n.QQBrowser:o.SystemUtil.isIos||o.SystemUtil.isMacOS?(s=r.match(/version\/([\d.]+).*safari/),e._browserVersion=s?s[1]:"0.0"):(s=r.match(/chrome\/([\d.]+)/),e._browserVersion=s?s[1]:"0.0");break;case n.Vivo:case n.Oppo:case n.Meizu:case n.Huawei:case n.Sogou:case n.Samsung:s=r.match(/chrome\/([\d.]+)/),e._browserVersion=s?s[1]:"0.0";break;case n.WebVeiw:o.SystemUtil.isAndroid?(s=r.match(/chrome\/([\d.]+)/),e._browserVersion=s?s[1]:"0.0"):o.SystemUtil.isIos&&(e._browserVersion=o.SystemUtil.systemVersion);break;default:e._browserVersion=i}},e._browserName=n.Unknown,e._browserVersion="",e._core="",e}();t.BrowserUtil=s},864:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Guid=void 0;var r=function(){function e(){}return e.create=function(e,t){void 0===t&&(t=16);var r,n,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),o=[];if(t=t||i.length,e)for(r=0;r<e;r++)o[r]=i[0|Math.random()*t];else for(o[8]=o[13]=o[18]=o[23]="-",o[14]="4",r=0;r<36;r++)o[r]||(n=0|16*Math.random(),o[r]=i[19==r?3&n|8:n]);return o.join("")},e}();t.Guid=r},442:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LocalStorage=void 0;var n=r(864),i=function(){function e(){}return Object.defineProperty(e,"uuid",{get:function(){var t="alirtc_uuid",r=e.get(t);return r||(r=n.Guid.create(32),e.set(t,r)),r},enumerable:!1,configurable:!0}),e.get=function(e){var t="";return window&&window.localStorage&&(t=window.localStorage.getItem(e)||""),t},e.set=function(e,t){e&&window&&window.localStorage&&window.localStorage.setItem(e,t)},e}();t.LocalStorage=i},72:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ApiRequest=void 0;var r=function(){function e(){}return e.postBody=function(t,r,n){t=e._getUrl(t,r);var i,o={};return o.headers||(o.headers={}),o.headers.Accept="application/json",o.headers["Content-Type"]="application/json",new Promise((function(r,o){e.requestBody("POST",t,n).then((function(e){return i=e,e.ok?e.json():e.text()})).then((function(t){i.ok?t.code?(t=e._intercept(t),o(t)):r(t.data):o(e._httpErrorMessage(i,t))})).catch((function(t){t=e._httpErrorMessage(t),o(t)}))}))},e.get=function(t,r,n){var i;return void 0===n&&(n={}),t=e._getUrl(t,r),n.headers||(n.headers={}),n.headers["Content-Type"]="application/json",new Promise((function(r,o){e.request("GET",t,n).then((function(e){return i=e,e.ok?e.json():e.text()})).then((function(t){i.ok?t.code?(t=e._intercept(t),o(t)):r(t.data):o(e._httpErrorMessage(i,t))})).catch((function(t){t=e._httpErrorMessage(t),o(t)}))}))},e.post=function(t,r,n,i){var o;return void 0===i&&(i={}),t=e._getUrl(t,r),i.headers||(i.headers={}),i.body=n,i.headers.Accept="application/json",i.headers["Content-Type"]="application/json",new Promise((function(r,n){e.request("POST",t,i).then((function(e){return o=e,e.ok?e.json():e.text()})).then((function(t){o.ok?t.code?(t=e._intercept(t),n(t)):r(t.data):n(e._httpErrorMessage(o,t))})).catch((function(t){t=e._httpErrorMessage(t),n(t)}))}))},e.request=function(e,t,r){void 0===e&&(e="GET");var n=new Headers(r.headers),i=new Request(t,{method:e,headers:n});return fetch(i)},e.requestBody=function(e,t,r){return void 0===e&&(e="GET"),fetch(t,{method:e,body:r,headers:new Headers({"Content-Type":"application/json"})})},e.ajaxPost=function(t,r,n,i){return void 0===i&&(i={}),t=e._getUrl(t,r),i.headers||(i.headers={}),i.headers.Accept="application/json",i.headers["Content-Type"]="application/json",e.ajax("POST",t,n,i)},e.ajax=function(t,r,n,i){void 0===t&&(t="GET"),void 0===i&&(i={});var o=new XMLHttpRequest;return new Promise((function(s,a){o.onreadystatechange=function(){if(4===o.readyState)if(200===o.status){var t=JSON.parse(o.responseText);t.code?(t=e._intercept(t),a(t)):s(t)}else a({message:o.responseText||"请求失败:"+r})},o.open(t,r,!0);try{if(i.withCredentials&&(o.withCredentials=!0),i.headers)for(var l in i.headers)o.setRequestHeader(l,i.headers[l])}catch(c){return void a(c)}try{o.send(n)}catch(c){a(c)}}))},e._getUrl=function(e,t){var r=[];if(t)for(var n in t)r.push(n+"="+t[n]);var i=r.join("&");return(-1!=e.indexOf("?")?e:e+"?")+i},e._httpErrorMessage=function(e,t){return e.message||(e.message="HTTP "+e.status+"("+e.statusText+") : "+t),e},e._intercept=function(e){var t=e.data;return e.code&&((t=t||{}).data=e.data,t.code=e.code,t.description=e.description,t.message="0x"+Number(e.code).toString(16)+", "+e.description,t.tid&&(t.message+=", tid="+t.tid)),t},e}();t.ApiRequest=r},101:(e,t)=>{var r,n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.SystemUtil=t.WindowsType=t.SystemType=void 0,(i=r=t.SystemType||(t.SystemType={})).Unknown="Unknown",i.MacOS="Mac",i.Windows="Windows",i.Android="Android",i.Iphone="iphone",i.Ipad="ipad",i.iOS="iOS",i.Linux="Linux",i.ChromeOS="ChromeOS",function(e){e.Windows10="Windows 10",e.Windows7="Windows 7",e.WindowsVista="Windows vista",e.WindowsXP="Windows xp"}(n=t.WindowsType||(t.WindowsType={}));var o=function(){function e(){}return Object.defineProperty(e,"isMacOS",{get:function(){return r.MacOS===e.systemName},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isWindows",{get:function(){return e.systemName.indexOf(r.Windows)>-1},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isIos",{get:function(){return r.Iphone===e.systemName||r.Ipad===e.systemName},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isAndroid",{get:function(){return r.Android===e.systemName},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isLinux",{get:function(){return r.Linux===e.systemName||r.Linux===e._platform},enumerable:!1,configurable:!0}),Object.defineProperty(e,"systemName",{get:function(){return e._getSystemInfo(),e._systemName},enumerable:!1,configurable:!0}),Object.defineProperty(e,"systemVersion",{get:function(){return e._getSystemInfo(),e._systemVersion},enumerable:!1,configurable:!0}),Object.defineProperty(e,"platform",{get:function(){return e._getSystemInfo(),e._platform},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isUnknown",{get:function(){return!e.platform||e.platform===r.Unknown},enumerable:!1,configurable:!0}),e.compareVersion=function(t){if(e._getSystemInfo(),e._systemVersion){for(var r=e._systemVersion.split("."),n=t.split("."),i=0,o=0,s=0;s<r.length&&s<n.length;++s){if((i=isNaN(parseInt(r[s],10))?0:parseInt(r[s],10))<(o=isNaN(parseInt(n[s],10))?0:parseInt(n[s],10)))return!1;if(i>o)return!0}return!0}return!0},e._getSystemInfo=function(){if(!e._systemName||!e._systemVersion||!e._platform)if(navigator&&navigator.userAgent){var t=navigator.userAgent.toLowerCase();t.indexOf("ipad")>-1?(e._systemName=r.Ipad,e._platform=r.iOS,e._systemVersion=e._getIosSystemVersion(t)):t.indexOf("iphone")>-1?(e._systemName=r.Iphone,e._platform=r.iOS,e._systemVersion=e._getIosSystemVersion(t)):t.indexOf("android")>-1?(e._platform=r.Android,e._systemName=r.Android,e._systemVersion=e._getAndroidSystemVersion(t)):t.indexOf("win")>-1?t.indexOf("windwos nt 10")>-1||t.indexOf("windows 10")?(e._systemName=n.Windows10,e._platform=r.Windows,e._systemVersion="10"):t.indexOf("windows nt 6.1")>-1||t.indexOf("windows 7")>-1?(e._systemName=n.Windows7,e._platform=r.Windows,e._systemVersion="7"):t.indexOf("windows nt 6.0")>-1||t.indexOf("windows vista")>-1?(e._systemName=n.WindowsVista,e._platform=r.Windows,e._systemVersion="vista"):t.indexOf("widows nt 5.1")>-1||t.indexOf("windows xp")>-1?(e._systemName=n.WindowsXP,e._platform=r.Windows,e._systemVersion="xp"):(e._platform=r.Windows,e._systemName=r.Windows,e._systemVersion="0.0"):t.indexOf("mac")>-1?navigator&&navigator.maxTouchPoints&&navigator.maxTouchPoints>0?(e._systemName=r.Ipad,e._platform=r.iOS,e._systemVersion=e._getIosSystemVersion(t)):(e._platform=r.MacOS,e._systemName=r.MacOS,e._systemVersion=e._getMacSystemVersion(t)):t.indexOf("linux")>-1?(e._platform=r.Linux,e._systemName=r.Linux,e._systemVersion="0.0"):t.indexOf("cros")>-1?(e._platform=r.Linux,e._systemName=r.ChromeOS,e._systemVersion="0.0"):(e._systemName=r.Unknown,e._platform=r.Windows,e._systemVersion="0.0")}else e._systemName=r.Unknown,e._platform=r.Unknown,e._systemVersion="0.0"},e._getIosSystemVersion=function(e){return(e.match(/OS [\d._]*/gi)+"").replace(/[^0-9|_.]/gi,"").replace(/_/gi,".")},e._getMacSystemVersion=function(e){return(e.match(/OS X [\d._]*/gi)+"").replace(/[^0-9|_.]/gi,"").replace(/_/gi,".")},e._getAndroidSystemVersion=function(e){return e.substr(e.indexOf("android")+8,e.indexOf(";",e.indexOf("android"))-e.indexOf("android")-8)},e._systemName="",e._systemVersion="",e._platform=r.Unknown,e}();t.SystemUtil=o}},t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}var n={};return(()=>{var e=n;Object.defineProperty(e,"__esModule",{value:!0}),e.ApiRequest=e.LocalStorage=e.Guid=e.BrowserUtil=e.SystemUtil=void 0;var t=r(101);Object.defineProperty(e,"SystemUtil",{enumerable:!0,get:function(){return t.SystemUtil}});var i=r(622);Object.defineProperty(e,"BrowserUtil",{enumerable:!0,get:function(){return i.BrowserUtil}});var o=r(864);Object.defineProperty(e,"Guid",{enumerable:!0,get:function(){return o.Guid}});var s=r(442);Object.defineProperty(e,"LocalStorage",{enumerable:!0,get:function(){return s.LocalStorage}});var a=r(72);Object.defineProperty(e,"ApiRequest",{enumerable:!0,get:function(){return a.ApiRequest}}),window&&(window.SystemUtil=t.SystemUtil,window.BrowserUtil=i.BrowserUtil,window.Guid=o.Guid,window.LocalStorage=s.LocalStorage,window.ApiRequest=a.ApiRequest)})(),n})()},651:function(e){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=6)}([function(e,t,r){(function(e){t.b=function(e){void 0===e&&(e={});for(var t=e.includes,r=void 0===t?[]:t,n=e.excludes,i=void 0===n?[]:n,o=!1,s=!1,a=0,l=r;a<l.length;a++)if(!0===l[a]){o=!0;break}for(var c=0,u=i;c<u.length;c++)if(!0===u[c]){s=!0;break}return o&&!s},t.c=function(e,t,r){var o=i.a[e];return void 0!==o&&Object(n.compare)(o,t,r)},t.a=function(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:this};var n=r(11),i=(r.n(n),r(4))}).call(t,r(10))},function(e,t,r){r.d(t,"c",(function(){return c})),r.d(t,"d",(function(){return u})),r.d(t,"b",(function(){return h})),r.d(t,"f",(function(){return d})),r.d(t,"a",(function(){return p})),r.d(t,"e",(function(){return f}));var n,i,o,s=r(3),a=r(0),l=Object(a.a)(),c="InstallTrigger"in((null==l?void 0:l.window)||{})||/firefox/i.test(s.b),u=/trident/i.test(s.b)||/msie/i.test(s.b),h=/edge/i.test(s.b),d=/webkit/i.test(s.b)&&!h,p=void 0!==(null===(n=null==l?void 0:l.window)||void 0===n?void 0:n.chrome)||/chrome/i.test(s.b),f="[object SafariRemoteNotification]"===((null===(o=null===(i=null==l?void 0:l.window)||void 0===i?void 0:i.safari)||void 0===o?void 0:o.pushNotification)||!1).toString()||/safari/i.test(s.b)&&!p},function(e,t,r){r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return s})),r.d(t,"a",(function(){return a}));var n=r(1);function i(e){if(console){if(!n.d&&!n.b)return console[e];if("log"===e||"clear"===e)return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];console[e].apply(console,t)}}return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]}}var o=i("log"),s=i("table"),a=i("clear")},function(e,t,r){t.a=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return(null==o?void 0:o.document)?(e=o.document).createElement.apply(e,t):{}},r.d(t,"b",(function(){return s}));var n,i=r(0),o=Object(i.a)(),s=(null===(n=null==o?void 0:o.navigator)||void 0===n?void 0:n.userAgent)||"xxxxx"},function(e,t,r){r.d(t,"a",(function(){return n}));for(var n={},i=0,o=(r(3).b||"").match(/\w+\/(\d|\.)+(\s|$)/gi)||[];i<o.length;i++){var s=o[i].split("/"),a=s[0],l=s[1];n[a]=l}},function(e,t,r){r.d(t,"b",(function(){return i})),r.d(t,"d",(function(){return o})),r.d(t,"c",(function(){return s})),r.d(t,"a",(function(){return a})),r.d(t,"e",(function(){return l}));var n=r(3),i=/ipad/i.test(n.b),o=/macintosh/i.test(n.b),s=/iphone/i.test(n.b),a=/android/i.test(n.b),l=/windows/i.test(n.b)},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.addListener=function(e){h.addListener(e)},t.removeListener=function(e){h.removeListener(e)},t.isLaunch=function(){return h.isLaunch()},t.launch=function(){h.launch()},t.stop=function(){h.stop()},t.setDetectDelay=function(e){h.setDetectDelay(e)};var n=r(7),i=r(8);r.d(t,"DevtoolsDetector",(function(){return n.a})),r.d(t,"checkers",(function(){return i}));var o=r(0);r.d(t,"match",(function(){return o.b})),r.d(t,"specificVersionMatch",(function(){return o.c}));var s=r(1);r.d(t,"isFirefox",(function(){return s.c})),r.d(t,"isIE",(function(){return s.d})),r.d(t,"isEdge",(function(){return s.b})),r.d(t,"isWebkit",(function(){return s.f})),r.d(t,"isChrome",(function(){return s.a})),r.d(t,"isSafari",(function(){return s.e}));var a=r(2);r.d(t,"log",(function(){return a.b})),r.d(t,"table",(function(){return a.c})),r.d(t,"clear",(function(){return a.a}));var l=r(17);r.d(t,"isMobile",(function(){return l.a}));var c=r(4);r.d(t,"versionMap",(function(){return c.a}));var u=r(5);r.d(t,"isIpad",(function(){return u.b})),r.d(t,"isMac",(function(){return u.d})),r.d(t,"isIphone",(function(){return u.c})),r.d(t,"isAndroid",(function(){return u.a})),r.d(t,"isWindows",(function(){return u.e}));var h=new n.a({checkers:[i.elementIdChecker,i.regToStringChecker,i.functionToStringChecker,i.depRegToStringChecker,i.dateToStringChecker,i.debuggerChecker]});t.default=h},function(e,t,r){r.d(t,"a",(function(){return o}));var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},o=function(){function e(e){var t=e.checkers;this._listeners=[],this._isOpen=!1,this._detectLoopStopped=!0,this._detectLoopDelay=500,this._checkers=t.slice()}return e.prototype.launch=function(){this._detectLoopDelay<=0&&this.setDetectDelay(500),this._detectLoopStopped&&(this._detectLoopStopped=!1,this._detectLoop())},e.prototype.stop=function(){this._detectLoopStopped||(this._detectLoopStopped=!0,clearTimeout(this._timer))},e.prototype.isLaunch=function(){return!this._detectLoopStopped},e.prototype.setDetectDelay=function(e){this._detectLoopDelay=e},e.prototype.addListener=function(e){this._listeners.push(e)},e.prototype.removeListener=function(e){this._listeners=this._listeners.filter((function(t){return t!==e}))},e.prototype._broadcast=function(e){for(var t=0,r=this._listeners;t<r.length;t++){var n=r[t];try{n(e.isOpen,e)}catch(i){}}},e.prototype._detectLoop=function(){return n(this,void 0,void 0,(function(){var e,t,r,n,o,s=this;return i(this,(function(i){switch(i.label){case 0:e=!1,t="",r=0,n=this._checkers,i.label=1;case 1:return r<n.length?[4,(o=n[r]).isEnable()]:[3,6];case 2:return i.sent()?(t=o.name,[4,o.isOpen()]):[3,4];case 3:e=i.sent(),i.label=4;case 4:if(e)return[3,6];i.label=5;case 5:return r++,[3,1];case 6:return e!=this._isOpen&&(this._isOpen=e,this._broadcast({isOpen:e,checkerName:t})),this._detectLoopDelay>0?this._timer=setTimeout((function(){return s._detectLoop()}),this._detectLoopDelay):this.stop(),[2]}}))}))},e}()},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(9);r.d(t,"depRegToStringChecker",(function(){return n.a}));var i=r(12);r.d(t,"elementIdChecker",(function(){return i.a}));var o=r(13);r.d(t,"functionToStringChecker",(function(){return o.a}));var s=r(14);r.d(t,"regToStringChecker",(function(){return s.a}));var a=r(15);r.d(t,"debuggerChecker",(function(){return a.a}));var l=r(16);r.d(t,"dateToStringChecker",(function(){return l.a}))},function(e,t,r){r.d(t,"a",(function(){return u}));var n=r(1),i=r(2),o=r(0),s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},l=/ /,c=!1;l.toString=function(){return c=!0,u.name};var u={name:"dep-reg-to-string",isOpen:function(){return s(this,void 0,void 0,(function(){return a(this,(function(e){return c=!1,Object(i.c)({dep:l}),Object(i.a)(),[2,c]}))}))},isEnable:function(){return s(this,void 0,void 0,(function(){return a(this,(function(e){return[2,Object(o.b)({includes:[!0],excludes:[n.c,n.d]})]}))}))}}},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(n){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){var n,i,o;i=[],void 0===(o="function"==typeof(n=function(){var e=/^v?(?:\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+))?(?:-[\da-z\-]+(?:\.[\da-z\-]+)*)?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i;function t(e){var t,r=e.replace(/^v/,"").replace(/\+.*$/,""),n=-1===(t=r).indexOf("-")?t.length:t.indexOf("-"),i=r.substring(0,n).split(".");return i.push(r.substring(n+1)),i}function r(e){return isNaN(Number(e))?e:Number(e)}function n(t){if("string"!=typeof t)throw new TypeError("Invalid argument expected string");if(!e.test(t))throw new Error("Invalid argument not valid semver ('"+t+"' received)")}function i(e,i){[e,i].forEach(n);for(var o=t(e),s=t(i),a=0;a<Math.max(o.length-1,s.length-1);a++){var l=parseInt(o[a]||0,10),c=parseInt(s[a]||0,10);if(l>c)return 1;if(c>l)return-1}var u=o[o.length-1],h=s[s.length-1];if(u&&h){var d=u.split(".").map(r),p=h.split(".").map(r);for(a=0;a<Math.max(d.length,p.length);a++){if(void 0===d[a]||"string"==typeof p[a]&&"number"==typeof d[a])return-1;if(void 0===p[a]||"string"==typeof d[a]&&"number"==typeof p[a])return 1;if(d[a]>p[a])return 1;if(p[a]>d[a])return-1}}else if(u||h)return u?-1:1;return 0}var o=[">",">=","=","<","<="],s={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]};return i.validate=function(t){return"string"==typeof t&&e.test(t)},i.compare=function(e,t,r){!function(e){if("string"!=typeof e)throw new TypeError("Invalid operator type, expected string but got "+typeof e);if(-1===o.indexOf(e))throw new TypeError("Invalid operator, expected one of "+o.join("|"))}(r);var n=i(e,t);return s[r].indexOf(n)>-1},i})?n.apply(t,i):n)||(e.exports=o)},function(e,t,r){r.d(t,"a",(function(){return h}));var n=r(1),i=r(2),o=r(0),s=r(3),a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))},l=this&&this.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},c=Object(s.a)("div"),u=!1;Object.defineProperty(c,"id",{get:function(){return u=!0,h.name},configurable:!0});var h={name:"element-id",isOpen:function(){return a(this,void 0,void 0,(function(){return l(this,(function(e){return u=!1,Object(i.b)(c),Object(i.a)(),[2,u]}))}))},isEnable:function(){return a(this,void 0,void 0,(function(){return l(this,(function(e){return[2,Object(o.b)({includes:[!0],excludes:[n.d,n.b,n.c]})]}))}))}}},function(e,t,r){r.d(t,"a",(function(){return h}));var n=r(1),i=r(2),o=r(5),s=r(0),a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))},l=this&&this.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};function c(){}var u=0;c.toString=function(){return u++,""};var h={name:"function-to-string",isOpen:function(){return a(this,void 0,void 0,(function(){return l(this,(function(e){return u=0,Object(i.b)(c),Object(i.a)(),[2,2===u]}))}))},isEnable:function(){return a(this,void 0,void 0,(function(){return l(this,(function(e){return[2,Object(s.b)({includes:[!0],excludes:[n.c,(o.b||o.c)&&n.a]})]}))}))}}},function(e,t,r){r.d(t,"a",(function(){return u}));var n=r(2),i=r(1),o=r(0),s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},l=/ /,c=!1;l.toString=function(){return c=!0,u.name};var u={name:"reg-to-string",isOpen:function(){return s(this,void 0,void 0,(function(){return a(this,(function(e){return c=!1,Object(n.b)(l),Object(n.a)(),[2,c]}))}))},isEnable:function(){return s(this,void 0,void 0,(function(){return a(this,(function(e){return[2,Object(o.b)({includes:[!0],excludes:[i.f]})]}))}))}}},function(e,t,r){r.d(t,"a",(function(){return s}));var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};function o(){return performance?performance.now():Date.now()}var s={name:"debugger-checker",isOpen:function(){return n(this,void 0,void 0,(function(){var e;return i(this,(function(t){return e=o(),function(){}.constructor("debugger")(),[2,o()-e>100]}))}))},isEnable:function(){return n(this,void 0,void 0,(function(){return i(this,(function(e){return[2,!0]}))}))}}},function(e,t,r){r.d(t,"a",(function(){return u}));var n=r(1),i=r(2),o=r(0),s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},l=new Date,c=0;l.toString=function(){return c++,""};var u={name:"date-to-string",isOpen:function(){return s(this,void 0,void 0,(function(){return a(this,(function(e){return c=0,Object(i.b)(l),Object(i.a)(),[2,2===c]}))}))},isEnable:function(){return s(this,void 0,void 0,(function(){return a(this,(function(e){return[2,Object(o.b)({includes:[n.a],excludes:[]})]}))}))}}},function(e,t,r){r.d(t,"a",(function(){return i}));var n=r(3),i=/mobile/i.test(n.b)}])},120:(e,t,r)=>{r.r(t),r.d(t,{_sce_dlgtqred:()=>ue,_sce_lgtcaygl:()=>ce,_sce_r_skjhfnck:()=>le});var n="0123456789abcdefghijklmnopqrstuvwxyz";function i(e){return n.charAt(e)}function o(e,t){return e&t}function s(e,t){return e|t}function a(e,t){return e^t}function l(e,t){return e&~t}function c(e){if(0==e)return-1;var t=0;return!(65535&e)&&(e>>=16,t+=16),!(255&e)&&(e>>=8,t+=8),!(15&e)&&(e>>=4,t+=4),!(3&e)&&(e>>=2,t+=2),!(1&e)&&++t,t}function u(e){for(var t=0;0!=e;)e&=e-1,++t;return t}var h,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function p(e){var t,r,n="";for(t=0;t+3<=e.length;t+=3)r=parseInt(e.substring(t,t+3),16),n+=d.charAt(r>>6)+d.charAt(63&r);for(t+1==e.length?(r=parseInt(e.substring(t,t+1),16),n+=d.charAt(r<<2)):t+2==e.length&&(r=parseInt(e.substring(t,t+2),16),n+=d.charAt(r>>2)+d.charAt((3&r)<<4));(3&n.length)>0;)n+="=";return n}function f(e){var t,r="",n=0,o=0;for(t=0;t<e.length&&"="!=e.charAt(t);++t){var s=d.indexOf(e.charAt(t));s<0||(0==n?(r+=i(s>>2),o=3&s,n=1):1==n?(r+=i(o<<2|s>>4),o=15&s,n=2):2==n?(r+=i(o),r+=i(s>>2),o=3&s,n=3):(r+=i(o<<2|s>>4),r+=i(15&s),n=0))}return 1==n&&(r+=i(o<<2)),r}var y,g={decode:function(e){var t;if(void 0===y){var r="= \f\n\r\t \u2028\u2029";for(y=Object.create(null),t=0;t<64;++t)y["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t)]=t;for(y["-"]=62,y._=63,t=0;t<9;++t)y[r.charAt(t)]=-1}var n=[],i=0,o=0;for(t=0;t<e.length;++t){var s=e.charAt(t);if("="==s)break;if(-1!=(s=y[s])){if(void 0===s)throw new Error("Illegal character at offset "+t);i|=s,++o>=4?(n[n.length]=i>>16,n[n.length]=i>>8&255,n[n.length]=255&i,i=0,o=0):i<<=6}}switch(o){case 1:throw new Error("Base64 encoding incomplete: at least 2 bits missing");case 2:n[n.length]=i>>10;break;case 3:n[n.length]=i>>16,n[n.length]=i>>8&255}return n},re:/-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/,unarmor:function(e){var t=g.re.exec(e);if(t)if(t[1])e=t[1];else{if(!t[2])throw new Error("RegExp out of sync");e=t[2]}return g.decode(e)}},v=1e13,m=function(){function e(e){this.buf=[+e||0]}return e.prototype.mulAdd=function(e,t){var r,n,i=this.buf,o=i.length;for(r=0;r<o;++r)(n=i[r]*e+t)<v?t=0:n-=(t=0|n/v)*v,i[r]=n;t>0&&(i[r]=t)},e.prototype.sub=function(e){var t,r,n=this.buf,i=n.length;for(t=0;t<i;++t)(r=n[t]-e)<0?(r+=v,e=1):e=0,n[t]=r;for(;0===n[n.length-1];)n.pop()},e.prototype.toString=function(e){if(10!=(e||10))throw new Error("only base 10 is supported");for(var t=this.buf,r=t[t.length-1].toString(),n=t.length-2;n>=0;--n)r+=(v+t[n]).toString().substring(1);return r},e.prototype.valueOf=function(){for(var e=this.buf,t=0,r=e.length-1;r>=0;--r)t=t*v+e[r];return t},e.prototype.simplify=function(){var e=this.buf;return 1==e.length?e[0]:this},e}(),_=/^(\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,b=/^(\d\d\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/;function E(e,t){return e.length>t&&(e=e.substring(0,t)+"…"),e}var T,$=function(){function e(t,r){this.hexDigits="0123456789ABCDEF",t instanceof e?(this.enc=t.enc,this.pos=t.pos):(this.enc=t,this.pos=r)}return e.prototype.get=function(e){if(void 0===e&&(e=this.pos++),e>=this.enc.length)throw new Error("Requesting byte offset ".concat(e," on a stream of length ").concat(this.enc.length));return"string"==typeof this.enc?this.enc.charCodeAt(e):this.enc[e]},e.prototype.hexByte=function(e){return this.hexDigits.charAt(e>>4&15)+this.hexDigits.charAt(15&e)},e.prototype.hexDump=function(e,t,r){for(var n="",i=e;i<t;++i)if(n+=this.hexByte(this.get(i)),!0!==r)switch(15&i){case 7:n+="  ";break;case 15:n+="\n";break;default:n+=" "}return n},e.prototype.isASCII=function(e,t){for(var r=e;r<t;++r){var n=this.get(r);if(n<32||n>176)return!1}return!0},e.prototype.parseStringISO=function(e,t){for(var r="",n=e;n<t;++n)r+=String.fromCharCode(this.get(n));return r},e.prototype.parseStringUTF=function(e,t){for(var r="",n=e;n<t;){var i=this.get(n++);r+=i<128?String.fromCharCode(i):i>191&&i<224?String.fromCharCode((31&i)<<6|63&this.get(n++)):String.fromCharCode((15&i)<<12|(63&this.get(n++))<<6|63&this.get(n++))}return r},e.prototype.parseStringBMP=function(e,t){for(var r,n,i="",o=e;o<t;)r=this.get(o++),n=this.get(o++),i+=String.fromCharCode(r<<8|n);return i},e.prototype.parseTime=function(e,t,r){var n=this.parseStringISO(e,t),i=(r?_:b).exec(n);return i?(r&&(i[1]=+i[1],i[1]+=+i[1]<70?2e3:1900),n=i[1]+"-"+i[2]+"-"+i[3]+" "+i[4],i[5]&&(n+=":"+i[5],i[6]&&(n+=":"+i[6],i[7]&&(n+="."+i[7]))),i[8]&&(n+=" UTC","Z"!=i[8]&&(n+=i[8],i[9]&&(n+=":"+i[9]))),n):"Unrecognized time: "+n},e.prototype.parseInteger=function(e,t){for(var r,n=this.get(e),i=n>127,o=i?255:0,s="";n==o&&++e<t;)n=this.get(e);if(0==(r=t-e))return i?-1:0;if(r>4){for(s=n,r<<=3;!(128&(+s^o));)s=+s<<1,--r;s="("+r+" bit)\n"}i&&(n-=256);for(var a=new m(n),l=e+1;l<t;++l)a.mulAdd(256,this.get(l));return s+a.toString()},e.prototype.parseBitString=function(e,t,r){for(var n=this.get(e),i="("+((t-e-1<<3)-n)+" bit)\n",o="",s=e+1;s<t;++s){for(var a=this.get(s),l=s==t-1?n:0,c=7;c>=l;--c)o+=a>>c&1?"1":"0";if(o.length>r)return i+E(o,r)}return i+o},e.prototype.parseOctetString=function(e,t,r){if(this.isASCII(e,t))return E(this.parseStringISO(e,t),r);var n=t-e,i="("+n+" byte)\n";n>(r/=2)&&(t=e+r);for(var o=e;o<t;++o)i+=this.hexByte(this.get(o));return n>r&&(i+="…"),i},e.prototype.parseOID=function(e,t,r){for(var n="",i=new m,o=0,s=e;s<t;++s){var a=this.get(s);if(i.mulAdd(128,127&a),o+=7,!(128&a)){if(""===n)if((i=i.simplify())instanceof m)i.sub(80),n="2."+i.toString();else{var l=i<80?i<40?0:1:2;n=l+"."+(i-40*l)}else n+="."+i.toString();if(n.length>r)return E(n,r);i=new m,o=0}}return o>0&&(n+=".incomplete"),n},e}(),S=function(){function e(e,t,r,n,i){if(!(n instanceof w))throw new Error("Invalid tag value.");this.stream=e,this.header=t,this.length=r,this.tag=n,this.sub=i}return e.prototype.typeName=function(){switch(this.tag.tagClass){case 0:switch(this.tag.tagNumber){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString"}return"Universal_"+this.tag.tagNumber.toString();case 1:return"Application_"+this.tag.tagNumber.toString();case 2:return"["+this.tag.tagNumber.toString()+"]";case 3:return"Private_"+this.tag.tagNumber.toString()}},e.prototype.content=function(e){if(void 0===this.tag)return null;void 0===e&&(e=1/0);var t=this.posContent(),r=Math.abs(this.length);if(!this.tag.isUniversal())return null!==this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(t,t+r,e);switch(this.tag.tagNumber){case 1:return 0===this.stream.get(t)?"false":"true";case 2:return this.stream.parseInteger(t,t+r);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(t,t+r,e);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(t,t+r,e);case 6:return this.stream.parseOID(t,t+r,e);case 16:case 17:return null!==this.sub?"("+this.sub.length+" elem)":"(no elem)";case 12:return E(this.stream.parseStringUTF(t,t+r),e);case 18:case 19:case 20:case 21:case 22:case 26:return E(this.stream.parseStringISO(t,t+r),e);case 30:return E(this.stream.parseStringBMP(t,t+r),e);case 23:case 24:return this.stream.parseTime(t,t+r,23==this.tag.tagNumber)}return null},e.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null===this.sub?"null":this.sub.length)+"]"},e.prototype.toPrettyString=function(e){void 0===e&&(e="");var t=e+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(t+="+"),t+=this.length,this.tag.tagConstructed?t+=" (constructed)":!this.tag.isUniversal()||3!=this.tag.tagNumber&&4!=this.tag.tagNumber||null===this.sub||(t+=" (encapsulates)"),t+="\n",null!==this.sub){e+="  ";for(var r=0,n=this.sub.length;r<n;++r)t+=this.sub[r].toPrettyString(e)}return t},e.prototype.posStart=function(){return this.stream.pos},e.prototype.posContent=function(){return this.stream.pos+this.header},e.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},e.prototype.toHexString=function(){return this.stream.hexDump(this.posStart(),this.posEnd(),!0)},e.decodeLength=function(e){var t=e.get(),r=127&t;if(r==t)return r;if(r>6)throw new Error("Length over 48 bits not supported at position "+(e.pos-1));if(0===r)return null;t=0;for(var n=0;n<r;++n)t=256*t+e.get();return t},e.prototype.getHexStringValue=function(){var e=this.toHexString(),t=2*this.header,r=2*this.length;return e.substr(t,r)},e.decode=function(t){var r;r=t instanceof $?t:new $(t,0);var n=new $(r),i=new w(r),o=e.decodeLength(r),s=r.pos,a=s-n.pos,l=null,c=function(){var t=[];if(null!==o){for(var n=s+o;r.pos<n;)t[t.length]=e.decode(r);if(r.pos!=n)throw new Error("Content size is not correct for container starting at offset "+s)}else try{for(;;){var i=e.decode(r);if(i.tag.isEOC())break;t[t.length]=i}o=s-r.pos}catch(a){throw new Error("Exception while decoding undefined length content: "+a)}return t};if(i.tagConstructed)l=c();else if(i.isUniversal()&&(3==i.tagNumber||4==i.tagNumber))try{if(3==i.tagNumber&&0!=r.get())throw new Error("BIT STRINGs with unused bits cannot encapsulate.");l=c();for(var u=0;u<l.length;++u)if(l[u].tag.isEOC())throw new Error("EOC is not supposed to be actual content.")}catch(h){l=null}if(null===l){if(null===o)throw new Error("We can't skip over an invalid tag with undefined length at offset "+s);r.pos=s+Math.abs(o)}return new e(n,a,o,i,l)},e}(),w=function(){function e(e){var t=e.get();if(this.tagClass=t>>6,this.tagConstructed=!!(32&t),this.tagNumber=31&t,31==this.tagNumber){var r=new m;do{t=e.get(),r.mulAdd(128,127&t)}while(128&t);this.tagNumber=r.simplify()}}return e.prototype.isUniversal=function(){return 0===this.tagClass},e.prototype.isEOC=function(){return 0===this.tagClass&&0===this.tagNumber},e}(),C=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],P=(1<<26)/C[C.length-1],O=function(){function e(e,t,r){null!=e&&("number"==typeof e?this.fromNumber(e,t,r):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}return e.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var r,n=(1<<t)-1,o=!1,s="",a=this.t,l=this.DB-a*this.DB%t;if(a-- >0)for(l<this.DB&&(r=this[a]>>l)>0&&(o=!0,s=i(r));a>=0;)l<t?(r=(this[a]&(1<<l)-1)<<t-l,r|=this[--a]>>(l+=this.DB-t)):(r=this[a]>>(l-=t)&n,l<=0&&(l+=this.DB,--a)),r>0&&(o=!0),o&&(s+=i(r));return o?s:"0"},e.prototype.negate=function(){var t=D();return e.ZERO.subTo(this,t),t},e.prototype.abs=function(){return this.s<0?this.negate():this},e.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.s<0?-t:t;for(;--r>=0;)if(0!=(t=this[r]-e[r]))return t;return 0},e.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+F(this[this.t-1]^this.s&this.DM)},e.prototype.mod=function(t){var r=D();return this.abs().divRemTo(t,null,r),this.s<0&&r.compareTo(e.ZERO)>0&&t.subTo(r,r),r},e.prototype.modPowInt=function(e,t){var r;return r=e<256||t.isEven()?new I(t):new R(t),this.exp(e,r)},e.prototype.clone=function(){var e=D();return this.copyTo(e),e},e.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},e.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},e.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},e.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},e.prototype.toByteArray=function(){var e=this.t,t=[];t[0]=this.s;var r,n=this.DB-e*this.DB%8,i=0;if(e-- >0)for(n<this.DB&&(r=this[e]>>n)!=(this.s&this.DM)>>n&&(t[i++]=r|this.s<<this.DB-n);e>=0;)n<8?(r=(this[e]&(1<<n)-1)<<8-n,r|=this[--e]>>(n+=this.DB-8)):(r=this[e]>>(n-=8)&255,n<=0&&(n+=this.DB,--e)),!!(128&r)&&(r|=-256),0==i&&(128&this.s)!=(128&r)&&++i,(i>0||r!=this.s)&&(t[i++]=r);return t},e.prototype.equals=function(e){return 0==this.compareTo(e)},e.prototype.min=function(e){return this.compareTo(e)<0?this:e},e.prototype.max=function(e){return this.compareTo(e)>0?this:e},e.prototype.and=function(e){var t=D();return this.bitwiseTo(e,o,t),t},e.prototype.or=function(e){var t=D();return this.bitwiseTo(e,s,t),t},e.prototype.xor=function(e){var t=D();return this.bitwiseTo(e,a,t),t},e.prototype.andNot=function(e){var t=D();return this.bitwiseTo(e,l,t),t},e.prototype.not=function(){for(var e=D(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},e.prototype.shiftLeft=function(e){var t=D();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},e.prototype.shiftRight=function(e){var t=D();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},e.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+c(this[e]);return this.s<0?this.t*this.DB:-1},e.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=u(this[r]^t);return e},e.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:!!(this[t]&1<<e%this.DB)},e.prototype.setBit=function(e){return this.changeBit(e,s)},e.prototype.clearBit=function(e){return this.changeBit(e,l)},e.prototype.flipBit=function(e){return this.changeBit(e,a)},e.prototype.add=function(e){var t=D();return this.addTo(e,t),t},e.prototype.subtract=function(e){var t=D();return this.subTo(e,t),t},e.prototype.multiply=function(e){var t=D();return this.multiplyTo(e,t),t},e.prototype.divide=function(e){var t=D();return this.divRemTo(e,t,null),t},e.prototype.remainder=function(e){var t=D();return this.divRemTo(e,null,t),t},e.prototype.divideAndRemainder=function(e){var t=D(),r=D();return this.divRemTo(e,t,r),[t,r]},e.prototype.modPow=function(e,t){var r,n,i=e.bitLength(),o=U(1);if(i<=0)return o;r=i<18?1:i<48?3:i<144?4:i<768?5:6,n=i<8?new I(t):t.isEven()?new k(t):new R(t);var s=[],a=3,l=r-1,c=(1<<r)-1;if(s[1]=n.convert(this),r>1){var u=D();for(n.sqrTo(s[1],u);a<=c;)s[a]=D(),n.mulTo(u,s[a-2],s[a]),a+=2}var h,d,p=e.t-1,f=!0,y=D();for(i=F(e[p])-1;p>=0;){for(i>=l?h=e[p]>>i-l&c:(h=(e[p]&(1<<i+1)-1)<<l-i,p>0&&(h|=e[p-1]>>this.DB+i-l)),a=r;!(1&h);)h>>=1,--a;if((i-=a)<0&&(i+=this.DB,--p),f)s[h].copyTo(o),f=!1;else{for(;a>1;)n.sqrTo(o,y),n.sqrTo(y,o),a-=2;a>0?n.sqrTo(o,y):(d=o,o=y,y=d),n.mulTo(y,s[h],o)}for(;p>=0&&!(e[p]&1<<i);)n.sqrTo(o,y),d=o,o=y,y=d,--i<0&&(i=this.DB-1,--p)}return n.revert(o)},e.prototype.modInverse=function(t){var r=t.isEven();if(this.isEven()&&r||0==t.signum())return e.ZERO;for(var n=t.clone(),i=this.clone(),o=U(1),s=U(0),a=U(0),l=U(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),r?(o.isEven()&&s.isEven()||(o.addTo(this,o),s.subTo(t,s)),o.rShiftTo(1,o)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);for(;i.isEven();)i.rShiftTo(1,i),r?(a.isEven()&&l.isEven()||(a.addTo(this,a),l.subTo(t,l)),a.rShiftTo(1,a)):l.isEven()||l.subTo(t,l),l.rShiftTo(1,l);n.compareTo(i)>=0?(n.subTo(i,n),r&&o.subTo(a,o),s.subTo(l,s)):(i.subTo(n,i),r&&a.subTo(o,a),l.subTo(s,l))}return 0!=i.compareTo(e.ONE)?e.ZERO:l.compareTo(t)>=0?l.subtract(t):l.signum()<0?(l.addTo(t,l),l.signum()<0?l.add(t):l):l},e.prototype.pow=function(e){return this.exp(e,new A)},e.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var i=t.getLowestSetBit(),o=r.getLowestSetBit();if(o<0)return t;for(i<o&&(o=i),o>0&&(t.rShiftTo(o,t),r.rShiftTo(o,r));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return o>0&&r.lShiftTo(o,r),r},e.prototype.isProbablePrime=function(e){var t,r=this.abs();if(1==r.t&&r[0]<=C[C.length-1]){for(t=0;t<C.length;++t)if(r[0]==C[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<C.length;){for(var n=C[t],i=t+1;i<C.length&&n<P;)n*=C[i++];for(n=r.modInt(n);t<i;)if(n%C[t++]==0)return!1}return r.millerRabin(e)},e.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},e.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},e.prototype.fromString=function(t,r){var n;if(16==r)n=4;else if(8==r)n=3;else if(256==r)n=8;else if(2==r)n=1;else if(32==r)n=5;else{if(4!=r)return void this.fromRadix(t,r);n=2}this.t=0,this.s=0;for(var i=t.length,o=!1,s=0;--i>=0;){var a=8==n?255&+t[i]:M(t,i);a<0?"-"==t.charAt(i)&&(o=!0):(o=!1,0==s?this[this.t++]=a:s+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this[this.t++]=a>>this.DB-s):this[this.t-1]|=a<<s,(s+=n)>=this.DB&&(s-=this.DB))}8==n&&!!(128&+t[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),o&&e.ZERO.subTo(this,this)},e.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},e.prototype.dlShiftTo=function(e,t){var r;for(r=this.t-1;r>=0;--r)t[r+e]=this[r];for(r=e-1;r>=0;--r)t[r]=0;t.t=this.t+e,t.s=this.s},e.prototype.drShiftTo=function(e,t){for(var r=e;r<this.t;++r)t[r-e]=this[r];t.t=Math.max(this.t-e,0),t.s=this.s},e.prototype.lShiftTo=function(e,t){for(var r=e%this.DB,n=this.DB-r,i=(1<<n)-1,o=Math.floor(e/this.DB),s=this.s<<r&this.DM,a=this.t-1;a>=0;--a)t[a+o+1]=this[a]>>n|s,s=(this[a]&i)<<r;for(a=o-1;a>=0;--a)t[a]=0;t[o]=s,t.t=this.t+o+1,t.s=this.s,t.clamp()},e.prototype.rShiftTo=function(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t)t.t=0;else{var n=e%this.DB,i=this.DB-n,o=(1<<n)-1;t[0]=this[r]>>n;for(var s=r+1;s<this.t;++s)t[s-r-1]|=(this[s]&o)<<i,t[s-r]=this[s]>>n;n>0&&(t[this.t-r-1]|=(this.s&o)<<i),t.t=this.t-r,t.clamp()}},e.prototype.subTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]-e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e[r],t[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t[r++]=this.DV+n:n>0&&(t[r++]=n),t.t=r,t.clamp()},e.prototype.multiplyTo=function(t,r){var n=this.abs(),i=t.abs(),o=n.t;for(r.t=o+i.t;--o>=0;)r[o]=0;for(o=0;o<i.t;++o)r[o+n.t]=n.am(0,i[o],r,o,0,n.t);r.s=0,r.clamp(),this.s!=t.s&&e.ZERO.subTo(r,r)},e.prototype.squareTo=function(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t[r],e,2*r,0,1);(e[r+t.t]+=t.am(r+1,2*t[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e[r+t.t]-=t.DV,e[r+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(r,t[r],e,2*r,0,1)),e.s=0,e.clamp()},e.prototype.divRemTo=function(t,r,n){var i=t.abs();if(!(i.t<=0)){var o=this.abs();if(o.t<i.t)return null!=r&&r.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=D());var s=D(),a=this.s,l=t.s,c=this.DB-F(i[i.t-1]);c>0?(i.lShiftTo(c,s),o.lShiftTo(c,n)):(i.copyTo(s),o.copyTo(n));var u=s.t,h=s[u-1];if(0!=h){var d=h*(1<<this.F1)+(u>1?s[u-2]>>this.F2:0),p=this.FV/d,f=(1<<this.F1)/d,y=1<<this.F2,g=n.t,v=g-u,m=null==r?D():r;for(s.dlShiftTo(v,m),n.compareTo(m)>=0&&(n[n.t++]=1,n.subTo(m,n)),e.ONE.dlShiftTo(u,m),m.subTo(s,s);s.t<u;)s[s.t++]=0;for(;--v>=0;){var _=n[--g]==h?this.DM:Math.floor(n[g]*p+(n[g-1]+y)*f);if((n[g]+=s.am(0,_,n,v,0,u))<_)for(s.dlShiftTo(v,m),n.subTo(m,n);n[g]<--_;)n.subTo(m,n)}null!=r&&(n.drShiftTo(u,r),a!=l&&e.ZERO.subTo(r,r)),n.t=u,n.clamp(),c>0&&n.rShiftTo(c,n),a<0&&e.ZERO.subTo(n,n)}}},e.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(!(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},e.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},e.prototype.exp=function(t,r){if(t>4294967295||t<1)return e.ONE;var n=D(),i=D(),o=r.convert(this),s=F(t)-1;for(o.copyTo(n);--s>=0;)if(r.sqrTo(n,i),(t&1<<s)>0)r.mulTo(i,o,n);else{var a=n;n=i,i=a}return r.revert(n)},e.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},e.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=U(r),i=D(),o=D(),s="";for(this.divRemTo(n,i,o);i.signum()>0;)s=(r+o.intValue()).toString(e).substr(1)+s,i.divRemTo(n,i,o);return o.intValue().toString(e)+s},e.prototype.fromRadix=function(t,r){this.fromInt(0),null==r&&(r=10);for(var n=this.chunkSize(r),i=Math.pow(r,n),o=!1,s=0,a=0,l=0;l<t.length;++l){var c=M(t,l);c<0?"-"==t.charAt(l)&&0==this.signum()&&(o=!0):(a=r*a+c,++s>=n&&(this.dMultiply(i),this.dAddOffset(a,0),s=0,a=0))}s>0&&(this.dMultiply(Math.pow(r,s)),this.dAddOffset(a,0)),o&&e.ZERO.subTo(this,this)},e.prototype.fromNumber=function(t,r,n){if("number"==typeof r)if(t<2)this.fromInt(1);else for(this.fromNumber(t,n),this.testBit(t-1)||this.bitwiseTo(e.ONE.shiftLeft(t-1),s,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(r);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(e.ONE.shiftLeft(t-1),this);else{var i=[],o=7&t;i.length=1+(t>>3),r.nextBytes(i),o>0?i[0]&=(1<<o)-1:i[0]=0,this.fromString(i,256)}},e.prototype.bitwiseTo=function(e,t,r){var n,i,o=Math.min(e.t,this.t);for(n=0;n<o;++n)r[n]=t(this[n],e[n]);if(e.t<this.t){for(i=e.s&this.DM,n=o;n<this.t;++n)r[n]=t(this[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=o;n<e.t;++n)r[n]=t(i,e[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()},e.prototype.changeBit=function(t,r){var n=e.ONE.shiftLeft(t);return this.bitwiseTo(n,r,n),n},e.prototype.addTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]+e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e[r],t[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t[r++]=n:n<-1&&(t[r++]=this.DV+n),t.t=r,t.clamp()},e.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},e.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},e.prototype.multiplyLowerTo=function(e,t,r){var n=Math.min(this.t+e.t,t);for(r.s=0,r.t=n;n>0;)r[--n]=0;for(var i=r.t-this.t;n<i;++n)r[n+this.t]=this.am(0,e[n],r,n,0,this.t);for(i=Math.min(e.t,t);n<i;++n)this.am(0,e[n],r,n,0,t-n);r.clamp()},e.prototype.multiplyUpperTo=function(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r[this.t+n-t]=this.am(t-n,e[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)},e.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(0==t)r=this[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this[n])%e;return r},e.prototype.millerRabin=function(t){var r=this.subtract(e.ONE),n=r.getLowestSetBit();if(n<=0)return!1;var i=r.shiftRight(n);(t=t+1>>1)>C.length&&(t=C.length);for(var o=D(),s=0;s<t;++s){o.fromInt(C[Math.floor(Math.random()*C.length)]);var a=o.modPow(i,this);if(0!=a.compareTo(e.ONE)&&0!=a.compareTo(r)){for(var l=1;l++<n&&0!=a.compareTo(r);)if(0==(a=a.modPowInt(2,this)).compareTo(e.ONE))return!1;if(0!=a.compareTo(r))return!1}}return!0},e.prototype.square=function(){var e=D();return this.squareTo(e),e},e.prototype.gcda=function(e,t){var r=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(r.compareTo(n)<0){var i=r;r=n,n=i}var o=r.getLowestSetBit(),s=n.getLowestSetBit();if(s<0)t(r);else{o<s&&(s=o),s>0&&(r.rShiftTo(s,r),n.rShiftTo(s,n));var a=function(){(o=r.getLowestSetBit())>0&&r.rShiftTo(o,r),(o=n.getLowestSetBit())>0&&n.rShiftTo(o,n),r.compareTo(n)>=0?(r.subTo(n,r),r.rShiftTo(1,r)):(n.subTo(r,n),n.rShiftTo(1,n)),r.signum()>0?setTimeout(a,0):(s>0&&n.lShiftTo(s,n),setTimeout((function(){t(n)}),0))};setTimeout(a,10)}},e.prototype.fromNumberAsync=function(t,r,n,i){if("number"==typeof r)if(t<2)this.fromInt(1);else{this.fromNumber(t,n),this.testBit(t-1)||this.bitwiseTo(e.ONE.shiftLeft(t-1),s,this),this.isEven()&&this.dAddOffset(1,0);var o=this,a=function(){o.dAddOffset(2,0),o.bitLength()>t&&o.subTo(e.ONE.shiftLeft(t-1),o),o.isProbablePrime(r)?setTimeout((function(){i()}),0):setTimeout(a,0)};setTimeout(a,0)}else{var l=[],c=7&t;l.length=1+(t>>3),r.nextBytes(l),c>0?l[0]&=(1<<c)-1:l[0]=0,this.fromString(l,256)}},e}(),A=function(){function e(){}return e.prototype.convert=function(e){return e},e.prototype.revert=function(e){return e},e.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r)},e.prototype.sqrTo=function(e,t){e.squareTo(t)},e}(),I=function(){function e(e){this.m=e}return e.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},e.prototype.revert=function(e){return e},e.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},e.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}(),R=function(){function e(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}return e.prototype.convert=function(e){var t=D();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(O.ZERO)>0&&this.m.subTo(t,t),t},e.prototype.revert=function(e){var t=D();return e.copyTo(t),this.reduce(t),t},e.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e[t],n=r*this.mpl+((r*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[r=t+this.m.t]+=this.m.am(0,n,e,t,0,this.m.t);e[r]>=e.DV;)e[r]-=e.DV,e[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},e.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}(),k=function(){function e(e){this.m=e,this.r2=D(),this.q3=D(),O.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e)}return e.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=D();return e.copyTo(t),this.reduce(t),t},e.prototype.revert=function(e){return e},e.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},e.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}();function D(){return new O(null)}function x(e,t){return new O(e,t)}var L="undefined"!=typeof navigator;L&&"Microsoft Internet Explorer"==navigator.appName?(O.prototype.am=function(e,t,r,n,i,o){for(var s=32767&t,a=t>>15;--o>=0;){var l=32767&this[e],c=this[e++]>>15,u=a*l+c*s;i=((l=s*l+((32767&u)<<15)+r[n]+(1073741823&i))>>>30)+(u>>>15)+a*c+(i>>>30),r[n++]=1073741823&l}return i},T=30):L&&"Netscape"!=navigator.appName?(O.prototype.am=function(e,t,r,n,i,o){for(;--o>=0;){var s=t*this[e++]+r[n]+i;i=Math.floor(s/67108864),r[n++]=67108863&s}return i},T=26):(O.prototype.am=function(e,t,r,n,i,o){for(var s=16383&t,a=t>>14;--o>=0;){var l=16383&this[e],c=this[e++]>>14,u=a*l+c*s;i=((l=s*l+((16383&u)<<14)+r[n]+i)>>28)+(u>>14)+a*c,r[n++]=268435455&l}return i},T=28),O.prototype.DB=T,O.prototype.DM=(1<<T)-1,O.prototype.DV=1<<T,O.prototype.FV=Math.pow(2,52),O.prototype.F1=52-T,O.prototype.F2=2*T-52;var N,j,B=[];for(N="0".charCodeAt(0),j=0;j<=9;++j)B[N++]=j;for(N="a".charCodeAt(0),j=10;j<36;++j)B[N++]=j;for(N="A".charCodeAt(0),j=10;j<36;++j)B[N++]=j;function M(e,t){var r=B[e.charCodeAt(t)];return null==r?-1:r}function U(e){var t=D();return t.fromInt(e),t}function F(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}O.ZERO=U(0),O.ONE=U(1);var H,V,K=function(){function e(){this.i=0,this.j=0,this.S=[]}return e.prototype.init=function(e){var t,r,n;for(t=0;t<256;++t)this.S[t]=t;for(r=0,t=0;t<256;++t)r=r+this.S[t]+e[t%e.length]&255,n=this.S[t],this.S[t]=this.S[r],this.S[r]=n;this.i=0,this.j=0},e.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]},e}(),q=null;if(null==q){q=[],V=0;var G=void 0;if("undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues){var Y=new Uint32Array(256);for(window.crypto.getRandomValues(Y),G=0;G<Y.length;++G)q[V++]=255&Y[G]}var W=0,z=function(e){if((W=W||0)>=256||V>=256)window.removeEventListener?window.removeEventListener("mousemove",z,!1):window.detachEvent&&window.detachEvent("onmousemove",z);else try{var t=e.x+e.y;q[V++]=255&t,W+=1}catch(r){}};"undefined"!=typeof window&&(window.addEventListener?window.addEventListener("mousemove",z,!1):window.attachEvent&&window.attachEvent("onmousemove",z))}function Q(){if(null==H){for(H=new K;V<256;){var e=Math.floor(65536*Math.random());q[V++]=255&e}for(H.init(q),V=0;V<q.length;++V)q[V]=0;V=0}return H.next()}var J=function(){function e(){}return e.prototype.nextBytes=function(e){for(var t=0;t<e.length;++t)e[t]=Q()},e}(),X=function(){function e(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}return e.prototype.doPublic=function(e){return e.modPowInt(this.e,this.n)},e.prototype.doPrivate=function(e){if(null==this.p||null==this.q)return e.modPow(this.d,this.n);for(var t=e.mod(this.p).modPow(this.dmp1,this.p),r=e.mod(this.q).modPow(this.dmq1,this.q);t.compareTo(r)<0;)t=t.add(this.p);return t.subtract(r).multiply(this.coeff).mod(this.p).multiply(this.q).add(r)},e.prototype.setPublic=function(e,t){null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=x(e,16),this.e=parseInt(t,16)):console.error("Invalid RSA public key")},e.prototype.encrypt=function(e){var t=this.n.bitLength()+7>>3,r=function(e,t){if(t<e.length+11)return console.error("Message too long for RSA"),null;for(var r=[],n=e.length-1;n>=0&&t>0;){var i=e.charCodeAt(n--);i<128?r[--t]=i:i>127&&i<2048?(r[--t]=63&i|128,r[--t]=i>>6|192):(r[--t]=63&i|128,r[--t]=i>>6&63|128,r[--t]=i>>12|224)}r[--t]=0;for(var o=new J,s=[];t>2;){for(s[0]=0;0==s[0];)o.nextBytes(s);r[--t]=s[0]}return r[--t]=2,r[--t]=0,new O(r)}(e,t);if(null==r)return null;var n=this.doPublic(r);if(null==n)return null;for(var i=n.toString(16),o=i.length,s=0;s<2*t-o;s++)i="0"+i;return i},e.prototype.setPrivate=function(e,t,r){null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=x(e,16),this.e=parseInt(t,16),this.d=x(r,16)):console.error("Invalid RSA private key")},e.prototype.setPrivateEx=function(e,t,r,n,i,o,s,a){null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=x(e,16),this.e=parseInt(t,16),this.d=x(r,16),this.p=x(n,16),this.q=x(i,16),this.dmp1=x(o,16),this.dmq1=x(s,16),this.coeff=x(a,16)):console.error("Invalid RSA private key")},e.prototype.generate=function(e,t){var r=new J,n=e>>1;this.e=parseInt(t,16);for(var i=new O(t,16);;){for(;this.p=new O(e-n,1,r),0!=this.p.subtract(O.ONE).gcd(i).compareTo(O.ONE)||!this.p.isProbablePrime(10););for(;this.q=new O(n,1,r),0!=this.q.subtract(O.ONE).gcd(i).compareTo(O.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var o=this.p;this.p=this.q,this.q=o}var s=this.p.subtract(O.ONE),a=this.q.subtract(O.ONE),l=s.multiply(a);if(0==l.gcd(i).compareTo(O.ONE)){this.n=this.p.multiply(this.q),this.d=i.modInverse(l),this.dmp1=this.d.mod(s),this.dmq1=this.d.mod(a),this.coeff=this.q.modInverse(this.p);break}}},e.prototype.decrypt=function(e){var t=x(e,16),r=this.doPrivate(t);return null==r?null:function(e,t){for(var r=e.toByteArray(),n=0;n<r.length&&0==r[n];)++n;if(r.length-n!=t-1||2!=r[n])return null;for(++n;0!=r[n];)if(++n>=r.length)return null;for(var i="";++n<r.length;){var o=255&r[n];o<128?i+=String.fromCharCode(o):o>191&&o<224?(i+=String.fromCharCode((31&o)<<6|63&r[n+1]),++n):(i+=String.fromCharCode((15&o)<<12|(63&r[n+1])<<6|63&r[n+2]),n+=2)}return i}(r,this.n.bitLength()+7>>3)},e.prototype.generateAsync=function(e,t,r){var n=new J,i=e>>1;this.e=parseInt(t,16);var o=new O(t,16),s=this,a=function(){var t=function(){if(s.p.compareTo(s.q)<=0){var e=s.p;s.p=s.q,s.q=e}var t=s.p.subtract(O.ONE),n=s.q.subtract(O.ONE),i=t.multiply(n);0==i.gcd(o).compareTo(O.ONE)?(s.n=s.p.multiply(s.q),s.d=o.modInverse(i),s.dmp1=s.d.mod(t),s.dmq1=s.d.mod(n),s.coeff=s.q.modInverse(s.p),setTimeout((function(){r()}),0)):setTimeout(a,0)},l=function(){s.q=D(),s.q.fromNumberAsync(i,1,n,(function(){s.q.subtract(O.ONE).gcda(o,(function(e){0==e.compareTo(O.ONE)&&s.q.isProbablePrime(10)?setTimeout(t,0):setTimeout(l,0)}))}))},c=function(){s.p=D(),s.p.fromNumberAsync(e-i,1,n,(function(){s.p.subtract(O.ONE).gcda(o,(function(e){0==e.compareTo(O.ONE)&&s.p.isProbablePrime(10)?setTimeout(l,0):setTimeout(c,0)}))}))};setTimeout(c,0)};setTimeout(a,0)},e.prototype.sign=function(e,t,r){var n=function(e,t){if(t<e.length+22)return console.error("Message too long for RSA"),null;for(var r=t-e.length-6,n="",i=0;i<r;i+=2)n+="ff";return x("0001"+n+"00"+e,16)}((Z[r]||"")+t(e).toString(),this.n.bitLength()/4);if(null==n)return null;var i=this.doPrivate(n);if(null==i)return null;var o=i.toString(16);return 1&o.length?"0"+o:o},e.prototype.verify=function(e,t,r){var n=x(t,16),i=this.doPublic(n);return null==i?null:function(e){for(var t in Z)if(Z.hasOwnProperty(t)){var r=Z[t],n=r.length;if(e.substr(0,n)==r)return e.substr(n)}return e}(i.toString(16).replace(/^1f+00/,""))==r(e).toString()},e}(),Z={md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",ripemd160:"3021300906052b2403020105000414"},ee={};ee.lang={extend:function(e,t,r){if(!t||!e)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var n=function(){};if(n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t),r){var i;for(i in r)e.prototype[i]=r[i];var o=function(){},s=["toString","valueOf"];try{/MSIE/.test(navigator.userAgent)&&(o=function(e,t){for(i=0;i<s.length;i+=1){var r=s[i],n=t[r];"function"==typeof n&&n!=Object.prototype[r]&&(e[r]=n)}})}catch(a){}o(e.prototype,r)}}};
/**
         * @fileOverview
         * @name asn1-1.0.js
         * @author Kenji Urushima kenji.urushima@gmail.com
         * @version asn1 1.0.13 (2017-Jun-02)
         * @since jsrsasign 2.1
         * @license <a href="https://kjur.github.io/jsrsasign/license/">MIT License</a>
         */
var te={};void 0!==te.asn1&&te.asn1||(te.asn1={}),te.asn1.ASN1Util=new function(){this.integerToByteHex=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.bigIntToMinTwosComplementsHex=function(e){var t=e.toString(16);if("-"!=t.substr(0,1))t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t);else{var r=t.substr(1).length;r%2==1?r+=1:t.match(/^[0-7]/)||(r+=2);for(var n="",i=0;i<r;i++)n+="f";t=new O(n,16).xor(e).add(O.ONE).toString(16).replace(/^-/,"")}return t},this.getPEMStringFromHex=function(e,t){return hextopem(e,t)},this.newObject=function(e){var t=te.asn1,r=t.DERBoolean,n=t.DERInteger,i=t.DERBitString,o=t.DEROctetString,s=t.DERNull,a=t.DERObjectIdentifier,l=t.DEREnumerated,c=t.DERUTF8String,u=t.DERNumericString,h=t.DERPrintableString,d=t.DERTeletexString,p=t.DERIA5String,f=t.DERUTCTime,y=t.DERGeneralizedTime,g=t.DERSequence,v=t.DERSet,m=t.DERTaggedObject,_=t.ASN1Util.newObject,b=Object.keys(e);if(1!=b.length)throw"key of param shall be only one.";var E=b[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+E+":"))throw"undefined key: "+E;if("bool"==E)return new r(e[E]);if("int"==E)return new n(e[E]);if("bitstr"==E)return new i(e[E]);if("octstr"==E)return new o(e[E]);if("null"==E)return new s(e[E]);if("oid"==E)return new a(e[E]);if("enum"==E)return new l(e[E]);if("utf8str"==E)return new c(e[E]);if("numstr"==E)return new u(e[E]);if("prnstr"==E)return new h(e[E]);if("telstr"==E)return new d(e[E]);if("ia5str"==E)return new p(e[E]);if("utctime"==E)return new f(e[E]);if("gentime"==E)return new y(e[E]);if("seq"==E){for(var T=e[E],$=[],S=0;S<T.length;S++){var w=_(T[S]);$.push(w)}return new g({array:$})}if("set"==E){for(T=e[E],$=[],S=0;S<T.length;S++)w=_(T[S]),$.push(w);return new v({array:$})}if("tag"==E){var C=e[E];if("[object Array]"===Object.prototype.toString.call(C)&&3==C.length){var P=_(C[2]);return new m({tag:C[0],explicit:C[1],obj:P})}var O={};if(void 0!==C.explicit&&(O.explicit=C.explicit),void 0!==C.tag&&(O.tag=C.tag),void 0===C.obj)throw"obj shall be specified for 'tag'.";return O.obj=_(C.obj),new m(O)}},this.jsonToASN1HEX=function(e){return this.newObject(e).getEncodedHex()}},te.asn1.ASN1Util.oidHexToInt=function(e){for(var t="",r=parseInt(e.substr(0,2),16),n=(t=Math.floor(r/40)+"."+r%40,""),i=2;i<e.length;i+=2){var o=("00000000"+parseInt(e.substr(i,2),16).toString(2)).slice(-8);n+=o.substr(1,7),"0"==o.substr(0,1)&&(t=t+"."+new O(n,2).toString(10),n="")}return t},te.asn1.ASN1Util.oidIntToHex=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},r=function(e){var r="",n=new O(e,10).toString(2),i=7-n.length%7;7==i&&(i=0);for(var o="",s=0;s<i;s++)o+="0";for(n=o+n,s=0;s<n.length-1;s+=7){var a=n.substr(s,7);s!=n.length-7&&(a="1"+a),r+=t(parseInt(a,2))}return r};if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var n="",i=e.split("."),o=40*parseInt(i[0])+parseInt(i[1]);n+=t(o),i.splice(0,2);for(var s=0;s<i.length;s++)n+=r(i[s]);return n},te.asn1.ASN1Object=function(){this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n=0,v="+this.hV;var e=this.hV.length/2,t=e.toString(16);if(t.length%2==1&&(t="0"+t),e<128)return t;var r=t.length/2;if(r>15)throw"ASN.1 length too long to represent by 8x: n = "+e.toString(16);return(128+r).toString(16)+t},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},te.asn1.DERAbstractString=function(e){te.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=stohex(this.s)},this.setStringHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?this.setString(e):void 0!==e.str?this.setString(e.str):void 0!==e.hex&&this.setStringHex(e.hex))},ee.lang.extend(te.asn1.DERAbstractString,te.asn1.ASN1Object),te.asn1.DERAbstractTime=function(e){te.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(e){return utc=e.getTime()+6e4*e.getTimezoneOffset(),new Date(utc)},this.formatDate=function(e,t,r){var n=this.zeroPadding,i=this.localDateToUTC(e),o=String(i.getFullYear());"utc"==t&&(o=o.substr(2,2));var s=o+n(String(i.getMonth()+1),2)+n(String(i.getDate()),2)+n(String(i.getHours()),2)+n(String(i.getMinutes()),2)+n(String(i.getSeconds()),2);if(!0===r){var a=i.getMilliseconds();if(0!=a){var l=n(String(a),3);s=s+"."+(l=l.replace(/[0]+$/,""))}}return s+"Z"},this.zeroPadding=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=stohex(e)},this.setByDateValue=function(e,t,r,n,i,o){var s=new Date(Date.UTC(e,t-1,r,n,i,o,0));this.setByDate(s)},this.getFreshValueHex=function(){return this.hV}},ee.lang.extend(te.asn1.DERAbstractTime,te.asn1.ASN1Object),te.asn1.DERAbstractStructured=function(e){te.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array=e},this.appendASN1Object=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array.push(e)},this.asn1Array=new Array,void 0!==e&&void 0!==e.array&&(this.asn1Array=e.array)},ee.lang.extend(te.asn1.DERAbstractStructured,te.asn1.ASN1Object),te.asn1.DERBoolean=function(){te.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},ee.lang.extend(te.asn1.DERBoolean,te.asn1.ASN1Object),te.asn1.DERInteger=function(e){te.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=te.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new O(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.bigint?this.setByBigInteger(e.bigint):void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},ee.lang.extend(te.asn1.DERInteger,te.asn1.ASN1Object),te.asn1.DERBitString=function(e){if(void 0!==e&&void 0!==e.obj){var t=te.asn1.ASN1Util.newObject(e.obj);e.hex="00"+t.getEncodedHex()}te.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(e){this.hTLV=null,this.isModified=!0,this.hV=e},this.setUnusedBitsAndHexValue=function(e,t){if(e<0||7<e)throw"unused bits shall be from 0 to 7: u = "+e;var r="0"+e;this.hTLV=null,this.isModified=!0,this.hV=r+t},this.setByBinaryString=function(e){var t=8-(e=e.replace(/0+$/,"")).length%8;8==t&&(t=0);for(var r=0;r<=t;r++)e+="0";var n="";for(r=0;r<e.length-1;r+=8){var i=e.substr(r,8),o=parseInt(i,2).toString(16);1==o.length&&(o="0"+o),n+=o}this.hTLV=null,this.isModified=!0,this.hV="0"+t+n},this.setByBooleanArray=function(e){for(var t="",r=0;r<e.length;r++)1==e[r]?t+="1":t+="0";this.setByBinaryString(t)},this.newFalseArray=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=!1;return t},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e&&e.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(e):void 0!==e.hex?this.setHexValueIncludingUnusedBits(e.hex):void 0!==e.bin?this.setByBinaryString(e.bin):void 0!==e.array&&this.setByBooleanArray(e.array))},ee.lang.extend(te.asn1.DERBitString,te.asn1.ASN1Object),te.asn1.DEROctetString=function(e){if(void 0!==e&&void 0!==e.obj){var t=te.asn1.ASN1Util.newObject(e.obj);e.hex=t.getEncodedHex()}te.asn1.DEROctetString.superclass.constructor.call(this,e),this.hT="04"},ee.lang.extend(te.asn1.DEROctetString,te.asn1.DERAbstractString),te.asn1.DERNull=function(){te.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},ee.lang.extend(te.asn1.DERNull,te.asn1.ASN1Object),te.asn1.DERObjectIdentifier=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},r=function(e){var r="",n=new O(e,10).toString(2),i=7-n.length%7;7==i&&(i=0);for(var o="",s=0;s<i;s++)o+="0";for(n=o+n,s=0;s<n.length-1;s+=7){var a=n.substr(s,7);s!=n.length-7&&(a="1"+a),r+=t(parseInt(a,2))}return r};te.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueOidString=function(e){if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var n="",i=e.split("."),o=40*parseInt(i[0])+parseInt(i[1]);n+=t(o),i.splice(0,2);for(var s=0;s<i.length;s++)n+=r(i[s]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=n},this.setValueName=function(e){var t=te.asn1.x509.OID.name2oid(e);if(""===t)throw"DERObjectIdentifier oidName undefined: "+e;this.setValueOidString(t)},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?e.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(e):this.setValueName(e):void 0!==e.oid?this.setValueOidString(e.oid):void 0!==e.hex?this.setValueHex(e.hex):void 0!==e.name&&this.setValueName(e.name))},ee.lang.extend(te.asn1.DERObjectIdentifier,te.asn1.ASN1Object),te.asn1.DEREnumerated=function(e){te.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=te.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new O(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},ee.lang.extend(te.asn1.DEREnumerated,te.asn1.ASN1Object),te.asn1.DERUTF8String=function(e){te.asn1.DERUTF8String.superclass.constructor.call(this,e),this.hT="0c"},ee.lang.extend(te.asn1.DERUTF8String,te.asn1.DERAbstractString),te.asn1.DERNumericString=function(e){te.asn1.DERNumericString.superclass.constructor.call(this,e),this.hT="12"},ee.lang.extend(te.asn1.DERNumericString,te.asn1.DERAbstractString),te.asn1.DERPrintableString=function(e){te.asn1.DERPrintableString.superclass.constructor.call(this,e),this.hT="13"},ee.lang.extend(te.asn1.DERPrintableString,te.asn1.DERAbstractString),te.asn1.DERTeletexString=function(e){te.asn1.DERTeletexString.superclass.constructor.call(this,e),this.hT="14"},ee.lang.extend(te.asn1.DERTeletexString,te.asn1.DERAbstractString),te.asn1.DERIA5String=function(e){te.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="16"},ee.lang.extend(te.asn1.DERIA5String,te.asn1.DERAbstractString),te.asn1.DERUTCTime=function(e){te.asn1.DERUTCTime.superclass.constructor.call(this,e),this.hT="17",this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{12}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date))},ee.lang.extend(te.asn1.DERUTCTime,te.asn1.DERAbstractTime),te.asn1.DERGeneralizedTime=function(e){te.asn1.DERGeneralizedTime.superclass.constructor.call(this,e),this.hT="18",this.withMillis=!1,this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{14}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date),!0===e.millis&&(this.withMillis=!0))},ee.lang.extend(te.asn1.DERGeneralizedTime,te.asn1.DERAbstractTime),te.asn1.DERSequence=function(e){te.asn1.DERSequence.superclass.constructor.call(this,e),this.hT="30",this.getFreshValueHex=function(){for(var e="",t=0;t<this.asn1Array.length;t++)e+=this.asn1Array[t].getEncodedHex();return this.hV=e,this.hV}},ee.lang.extend(te.asn1.DERSequence,te.asn1.DERAbstractStructured),te.asn1.DERSet=function(e){te.asn1.DERSet.superclass.constructor.call(this,e),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var e=new Array,t=0;t<this.asn1Array.length;t++){var r=this.asn1Array[t];e.push(r.getEncodedHex())}return 1==this.sortFlag&&e.sort(),this.hV=e.join(""),this.hV},void 0!==e&&void 0!==e.sortflag&&0==e.sortflag&&(this.sortFlag=!1)},ee.lang.extend(te.asn1.DERSet,te.asn1.DERAbstractStructured),te.asn1.DERTaggedObject=function(e){te.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(e,t,r){this.hT=t,this.isExplicit=e,this.asn1Object=r,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=r.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,t),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.tag&&(this.hT=e.tag),void 0!==e.explicit&&(this.isExplicit=e.explicit),void 0!==e.obj&&(this.asn1Object=e.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},ee.lang.extend(te.asn1.DERTaggedObject,te.asn1.ASN1Object);var re,ne,ie=(re=function(e,t){return(re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}re(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),oe=function(e){function t(r){var n=e.call(this)||this;return r&&("string"==typeof r?n.parseKey(r):(t.hasPrivateKeyProperty(r)||t.hasPublicKeyProperty(r))&&n.parsePropertiesFrom(r)),n}return ie(t,e),t.prototype.parseKey=function(e){try{var t=0,r=0,n=/^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/.test(e)?function(e){var t;if(void 0===h){var r="0123456789ABCDEF",n=" \f\n\r\t \u2028\u2029";for(h={},t=0;t<16;++t)h[r.charAt(t)]=t;for(r=r.toLowerCase(),t=10;t<16;++t)h[r.charAt(t)]=t;for(t=0;t<8;++t)h[n.charAt(t)]=-1}var i=[],o=0,s=0;for(t=0;t<e.length;++t){var a=e.charAt(t);if("="==a)break;if(-1!=(a=h[a])){if(void 0===a)throw new Error("Illegal character at offset "+t);o|=a,++s>=2?(i[i.length]=o,o=0,s=0):o<<=4}}if(s)throw new Error("Hex encoding incomplete: 4 bits missing");return i}(e):g.unarmor(e),i=S.decode(n);if(3===i.sub.length&&(i=i.sub[2].sub[0]),9===i.sub.length){t=i.sub[1].getHexStringValue(),this.n=x(t,16),r=i.sub[2].getHexStringValue(),this.e=parseInt(r,16);var o=i.sub[3].getHexStringValue();this.d=x(o,16);var s=i.sub[4].getHexStringValue();this.p=x(s,16);var a=i.sub[5].getHexStringValue();this.q=x(a,16);var l=i.sub[6].getHexStringValue();this.dmp1=x(l,16);var c=i.sub[7].getHexStringValue();this.dmq1=x(c,16);var u=i.sub[8].getHexStringValue();this.coeff=x(u,16)}else{if(2!==i.sub.length)return!1;if(i.sub[0].sub){var d=i.sub[1].sub[0];t=d.sub[0].getHexStringValue(),this.n=x(t,16),r=d.sub[1].getHexStringValue(),this.e=parseInt(r,16)}else t=i.sub[0].getHexStringValue(),this.n=x(t,16),r=i.sub[1].getHexStringValue(),this.e=parseInt(r,16)}return!0}catch(p){return!1}},t.prototype.getPrivateBaseKey=function(){var e={array:[new te.asn1.DERInteger({int:0}),new te.asn1.DERInteger({bigint:this.n}),new te.asn1.DERInteger({int:this.e}),new te.asn1.DERInteger({bigint:this.d}),new te.asn1.DERInteger({bigint:this.p}),new te.asn1.DERInteger({bigint:this.q}),new te.asn1.DERInteger({bigint:this.dmp1}),new te.asn1.DERInteger({bigint:this.dmq1}),new te.asn1.DERInteger({bigint:this.coeff})]};return new te.asn1.DERSequence(e).getEncodedHex()},t.prototype.getPrivateBaseKeyB64=function(){return p(this.getPrivateBaseKey())},t.prototype.getPublicBaseKey=function(){var e=new te.asn1.DERSequence({array:[new te.asn1.DERObjectIdentifier({oid:"1.2.840.113549.1.1.1"}),new te.asn1.DERNull]}),t=new te.asn1.DERSequence({array:[new te.asn1.DERInteger({bigint:this.n}),new te.asn1.DERInteger({int:this.e})]}),r=new te.asn1.DERBitString({hex:"00"+t.getEncodedHex()});return new te.asn1.DERSequence({array:[e,r]}).getEncodedHex()},t.prototype.getPublicBaseKeyB64=function(){return p(this.getPublicBaseKey())},t.wordwrap=function(e,t){if(!e)return e;var r="(.{1,"+(t=t||64)+"})( +|$\n?)|(.{1,"+t+"})";return e.match(RegExp(r,"g")).join("\n")},t.prototype.getPrivateKey=function(){var e="-----BEGIN RSA PRIVATE KEY-----\n";return(e+=t.wordwrap(this.getPrivateBaseKeyB64())+"\n")+"-----END RSA PRIVATE KEY-----"},t.prototype.getPublicKey=function(){var e="-----BEGIN PUBLIC KEY-----\n";return(e+=t.wordwrap(this.getPublicBaseKeyB64())+"\n")+"-----END PUBLIC KEY-----"},t.hasPublicKeyProperty=function(e){return(e=e||{}).hasOwnProperty("n")&&e.hasOwnProperty("e")},t.hasPrivateKeyProperty=function(e){return(e=e||{}).hasOwnProperty("n")&&e.hasOwnProperty("e")&&e.hasOwnProperty("d")&&e.hasOwnProperty("p")&&e.hasOwnProperty("q")&&e.hasOwnProperty("dmp1")&&e.hasOwnProperty("dmq1")&&e.hasOwnProperty("coeff")},t.prototype.parsePropertiesFrom=function(e){this.n=e.n,this.e=e.e,e.hasOwnProperty("d")&&(this.d=e.d,this.p=e.p,this.q=e.q,this.dmp1=e.dmp1,this.dmq1=e.dmq1,this.coeff=e.coeff)},t}(X),se="undefined"!=typeof process?null===(ne=process.env)||void 0===ne?void 0:ne.npm_package_version:void 0;const ae=function(){function e(e){void 0===e&&(e={}),e=e||{},this.default_key_size=e.default_key_size?parseInt(e.default_key_size,10):1024,this.default_public_exponent=e.default_public_exponent||"010001",this.log=e.log||!1,this.key=null}return e.prototype.setKey=function(e){this.log&&this.key&&console.warn("A key was already set, overriding existing."),this.key=new oe(e)},e.prototype.setPrivateKey=function(e){this.setKey(e)},e.prototype.setPublicKey=function(e){this.setKey(e)},e.prototype.decrypt=function(e){try{return this.getKey().decrypt(f(e))}catch(t){return!1}},e.prototype.encrypt=function(e){try{return p(this.getKey().encrypt(e))}catch(t){return!1}},e.prototype.sign=function(e,t,r){try{return p(this.getKey().sign(e,t,r))}catch(n){return!1}},e.prototype.verify=function(e,t,r){try{return this.getKey().verify(e,f(t),r)}catch(n){return!1}},e.prototype.getKey=function(e){if(!this.key){if(this.key=new oe,e&&"[object Function]"==={}.toString.call(e))return void this.key.generateAsync(this.default_key_size,this.default_public_exponent,e);this.key.generate(this.default_key_size,this.default_public_exponent)}return this.key},e.prototype.getPrivateKey=function(){return this.getKey().getPrivateKey()},e.prototype.getPrivateKeyB64=function(){return this.getKey().getPrivateBaseKeyB64()},e.prototype.getPublicKey=function(){return this.getKey().getPublicKey()},e.prototype.getPublicKeyB64=function(){return this.getKey().getPublicBaseKeyB64()},e.version=se,e}();var le,ce,ue,he=r(249),de=r.n(he),pe=r(214),fe=r.n(pe),ye=r(743),ge=r.n(ye),ve=r(269),me=r.n(ve),_e=r(452),be=r.n(_e),Ee=r(957),Te=r.n(Ee);(function(e,t){function r(r){var n=4;e:for(;void 0!==n;){var i=3&n>>2;switch(3&n){case 0:switch(i){case 0:return s;case 1:var o=t[1],s=(t[1],[]),a=t[1],l=e[0],c=e[14],u=t[46],h=e[46];n=1;continue e;case 2:l=t[12],n=(o=(o=a)<r[c])?9:2;continue e}continue e;case 1:switch(i){case 0:n=e[11]?6:0;continue e;case 1:a+=e[47],n=8;continue e;case 2:o=r[u](a,t[8]),o=parseInt(o,t[3]),s[h](o),n=1;continue e}continue e;case 2:switch(i){case 0:n=0;continue e;case 1:n=l?5:8;continue e}continue e}}}[][t[0]]([]),le=function(r){var n=4;e:for(;void 0!==n;){var i=3&n>>2;switch(3&n){case 0:switch(i){case 0:o=h,s=Math[y](),s*=u,s=Math[g](s),h=o+(s=E[m](s)),n=6;continue e;case 1:var o=t[1],s=e[0],a=(t[1],e[1]),l=e[2],c=e[0];n=14;continue e;case 2:r=T;var u=E[t[2]],h=e[2],d=e[0],p=t[1],f=t[9];f+=e[7];var y=f+=e[8],g=e[9],v=t[10];v+=e[10];var m=v+=t[11];n=6;continue e;case 3:n=13;continue e}continue e;case 1:switch(i){case 0:d+=e[11],n=3;continue e;case 1:c++,n=14;continue e;case 2:n=p?1:3;continue e;case 3:return h}continue e;case 2:switch(i){case 0:T=t[7]-parseInt(e[6],t[8]),n=8;continue e;case 1:n=t[12]?9:13;continue e;case 2:var _=parseInt(e[3],t[3]),b=a[t[4]](c)-(parseInt(e[4],e[5])+_);l+=t[5][t[6]](b),n=5;continue e;case 3:n=c<a[t[2]]?10:7;continue e}continue e;case 3:switch(i){case 0:p=t[12],n=(o=d<r)?0:12;continue e;case 1:var E=l,T=r;n=T?8:2;continue e}continue e}}},ce=function(r){var n=0;e:for(;void 0!==n;){var i=3&n>>2;switch(3&n){case 0:switch(i){case 0:var o=t[13],s=(o=o[t[14]](t[15])[t[16]]()[e[12]](e[2]))+e[13],a=t[17],l=e[2],c=e[0];n=4;continue e;case 1:n=c<a[e[14]]?8:5;continue e;case 2:var u=t[18],h=a[e[15]](c)-(e[16]+u);l+=e[17][t[6]](h),n=1;continue e}continue e;case 1:switch(i){case 0:c++,n=4;continue e;case 1:var d=(s+=l)+t[19],p=new ae;return p[e[18]](d),p[e[19]](r)}continue e}}},ue=function(n,i,o){var s=8;e:for(;void 0!==s;){var a=7&s>>3;switch(7&s){case 0:switch(a){case 0:M++,s=26;continue e;case 1:var l=t[1],c=t[1],u=e[0],h=fe()(n),d=t[20];d+=t[21],l=h[d+=t[22]]();var p=e[20];p+=e[21];var f=l[p+=e[22]](e[23],parseInt(e[24],e[25])),y=ge()[e[26]](f),g=t[9];g+=t[23],l=i=i[g+=e[27]](new t[24](e[28],t[25]),e[2]),c=y;var v={};v[t[26]]=y;var m=e[29],_=t[15],b=e[0];s=24;continue e;case 2:u=de()[_];var E=e[32];E+=t[28],v[E+=t[29]]=u[e[33]],v[t[30]]=Te(),u=v;var T=be()[t[31]](l,c,u),$=e[34],S=e[2],w=t[1];s=18;continue e;case 3:s=b<m[e[14]]?35:16;continue e;case 4:var C=parseInt(t[43],e[23]),P=H[e[15]](K)-(parseInt(e[44],t[8])+C);V+=t[5][e[31]](P),s=2;continue e}continue e;case 1:switch(a){case 0:w++,s=18;continue e;case 1:var O=parseInt(t[41],t[33]),A=j[e[15]](M)-(O-e[43]);B+=t[5][t[6]](A),s=0;continue e;case 2:Z++,s=12;continue e;case 3:s=Z?3:33;continue e;case 4:var I=parseInt(t[36],e[25]);X=t[37]+I,s=3;continue e}continue e;case 2:switch(a){case 0:K++,s=34;continue e;case 1:l=z[J]();var R=e[20];R+=t[38],R+=e[36];var k=e[37];k+=e[38];var D=l[R](parseInt(e[38],t[8]),parseInt(k,t[8])),x=t[39];x+=e[39],l=o,c=ge()[x](D);var L={};L[t[26]]=y,u=de()[t[40]];var N=e[40];N+=e[41],L[t[40]]=u[N];var j=e[42],B=e[2],M=t[1];s=26;continue e;case 2:s=w<$[t[2]]?27:20;continue e;case 3:s=M<j[e[14]]?9:11;continue e;case 4:s=K<H[t[2]]?32:19;continue e}continue e;case 3:switch(a){case 0:var U=Q[e[15]](Z),F=~(~(U&~X)&~(~U&X));X=U,J+=e[17][e[31]](F),s=17;continue e;case 1:L[B]=Te(),u=L;var H=t[42],V=e[2],K=e[0];s=34;continue e;case 2:var q=be()[V](l,c,u)[e[45]](ge());return r((l=me()[t[44]](q))[t[45]]());case 3:var G=~(~($[t[4]](w)&~parseInt(t[32],t[33]))&~(~($[e[15]](w)&$[t[4]](w))&parseInt(e[35],t[34])));S+=e[17][t[6]](G),s=1;continue e;case 4:var Y=~(~(m[t[4]](b)&~e[30])&~(~(m[e[15]](b)&m[e[15]](b))&t[27]));_+=t[5][e[31]](Y),s=4;continue e}continue e;case 4:switch(a){case 0:b++,s=24;continue e;case 1:s=Z<Q[e[14]]?25:10;continue e;case 2:var W=T[S](ge()),z=fe()(l=n+W),Q=t[35],J=e[2],X=t[1],Z=t[1];s=12;continue e}continue e}}}}).call(void 0,[0,"ǧǨǩǪǫǬǭǮǰǱǳǴǶǷǸǹǺǽǾǿȀȇȈȉȊȋȌȎȏȐȑȓȔȖȘșȚȝȞȟȠǘǙǚǛǜǝǞǟǖ","","2a","17c",16,"110101001","a","ndom","floor","arA",1,"join","MFwwDQYJKoZIhvcNAQEBBQADSwAwSAJBAIcLeIt2wmIyXckgNhCGpMTAZyBGO+nk0/IdOrhIdfRR\n","length","charCodeAt",283,String,"setPublicKey","encrypt","su","bs","tring",8,"24",10,"parse","lace","[\\r\\n]","̋̉̂̃",870,"fromCharCode","mo","CBC","ϽϦϚϽϻϠϧϮ","1611","ring","1","1000","arse","C","BC","¬  ¥ª£",327,"101001101","toString","push",2],["unshift",0,"length",16,"charCodeAt",String,"fromCharCode",441,2,"r","ch","t",1,"\n-----YEK CILBUP NIGEB-----","split","","reverse","ǉƤƮƪǆǛǆǕǈǖƯƸƲưƪǔƴǗƲƭƳưƼƴǕǎƹƧƓǘǘǉǚƚƒǙƛǎƥǎǎƫƷƥƣǙƧƣƣƳƟƟŬ",71,"-----END PUBLIC KEY-----\n","to","Stri","ng","ep",RegExp,"g","iv",870,"d","e","padding","decrypt","905",10,8,"ˏʠ˳ʇ˵ʜ˲ʕ","335",364,"bst","p","mode","387","˪˫˩˸˿˶˺","471","parse","toString","substr"])},480:()=>{}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};return(()=>{var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),e.AliAdapter=void 0;var t=__webpack_require__(346);Object.defineProperty(e,"AliAdapter",{enumerable:!0,get:function(){return t.AliAdapter}}),window&&(window.AliAdapter=t.AliAdapter)})(),__webpack_exports__})(),module.exports=e2()})(aliadapterAsync);var aliadapterAsyncExports=aliadapterAsync.exports;function ownKeys$r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$r(Object(r),!0).forEach((function(t){_defineProperty$1(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$r(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const AliEventName={[AdapterEvent.ERROR]:aliadapterAsyncExports.AliAdapter.Events.HLS_ERROR,[AdapterEvent.HLSREADY]:aliadapterAsyncExports.AliAdapter.Events.HLSREADY,[AdapterEvent.LOADEDMETADATA]:aliadapterAsyncExports.AliAdapter.Events.LOADEDMETADATA,[AdapterEvent.HLS_LEVEL_LOADED]:aliadapterAsyncExports.AliAdapter.Events.HLS_LEVEL_LOADED};class Ali_Adapter{constructor(e,t,r){_defineProperty$1(this,"_adapter",void 0),_defineProperty$1(this,"_node",void 0),_defineProperty$1(this,"adapterOptions",void 0),_defineProperty$1(this,"_emitter",void 0),_defineProperty$1(this,"_videoInfo",void 0),this.adapterOptions=t,this._emitter=new Event,this._node=e,this.init(r)}static isSupportPrivate(){try{return aliadapterAsyncExports.AliAdapter.isPrivateEncryptionSupported()}catch(e){return!1}}static isSupportStandard(){try{return aliadapterAsyncExports.AliAdapter.isStandardEncryptionSupported()}catch(e){return!1}}loadHls(){return __async2(this,null,(function*(){try{window._mst_ali_hls?window.AliHls=window._mst_ali_hls:(yield loadScript("".concat("https://cdn.ewt360.com/resources/app/prod/mst-video-player/dist/","js/ali-hls.min.1.1.2.js")),window.AliHls?window._mst_ali_hls=window.AliHls:this._emitter.emit(AdapterEvent.ERROR,{errMsg:"加载阿里云Hls后，window上未挂载",fatal:!0}))}catch(e){this._emitter.emit(AdapterEvent.ERROR,{errMsg:e.message||"加载阿里云Hls失败",extraData:e,fatal:!0})}}))}init(e){return __async2(this,null,(function*(){yield this.loadHls();const{videoId:t,psign:r,definition:n="",hlsConfig:i={},mediaType:o="",moreConfig:s}=this.adapterOptions||{};t&&r?(this._adapter=new aliadapterAsyncExports.AliAdapter(this._node,_objectSpread$r({vid:t,playauth:r,definition:n,mediaType:o,hlsConfig:i},s)),this._adapter.on(aliadapterAsyncExports.AliAdapter.Events.LOADEDMETADATA,(e=>{this._videoInfo=e})),e&&Object.keys(e).forEach((t=>{this.on(t,e[t])}))):this._emitter.emit(AdapterEvent.ERROR,{errMsg:"初始化阿里云参数缺失: videoId-".concat(!!t,"，psign-").concat(!!r),fatal:!0})}))}on(e,t){this._emitter.on(e,t);const r=AliEventName[e]||e;var n,i,o;"error"===e?(null===(n=this._adapter)||void 0===n||n.on(r,(t=>{let r=!1;r=!!t.fatal;const n={errMsg:t.errorMessage||"error",errCode:t.errorCode,extraData:t,fatal:r};this._emitter.emit(e,n)})),null===(i=this._adapter)||void 0===i||i.on(aliadapterAsyncExports.AliAdapter.Events.ERROR,(t=>{const r={errMsg:t.errorMessage||"error",errCode:t.errorCode,extraData:t,fatal:!0};this._emitter.emit(e,r)}))):null===(o=this._adapter)||void 0===o||o.on(r,(t=>{this._emitter.emit(e,t)}))}getVideoBasicInfo(){return this._videoInfo}dispose(){var e;(this._emitter.removeAllListeners(),this._adapter)&&(this._adapter.dispose(),null===(e=this._adapter.hls)||void 0===e||e.destroy());this._adapter=void 0}}class AdapterManager{static checkPrivateSupport(){const e=[];return Tc_Adapter.isSupportPrivate()&&e.push(RouteType.TENCENT),Ali_Adapter.isSupportPrivate()&&e.push(RouteType.ALI),e}static checkStandardSupport(){const e=[];return Tc_Adapter.isSupportStandard()&&e.push(RouteType.TENCENT),Ali_Adapter.isSupportStandard()&&e.push(RouteType.ALI),e}constructor(e,t,r,n){switch(_defineProperty$1(this,"_type",void 0),_defineProperty$1(this,"_adapter",void 0),this._type=e,this._type){case RouteType.TENCENT:this._adapter=new Tc_Adapter(t,r,n);break;case RouteType.ALI:this._adapter=new Ali_Adapter(t,r,n)}}getType(){return this._type}getHlsInstance(){var e;return null===(e=this._adapter)||void 0===e||null===(e=e._adapter)||void 0===e?void 0:e.hls}getVideoBasicInfo(){var e;return null===(e=this._adapter)||void 0===e?void 0:e.getVideoBasicInfo()}dispose(){try{var e;null===(e=this._adapter)||void 0===e||e.dispose()}catch(t){console.error("[mst-adapter]销毁失败：",t)}}}function ownKeys$q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$q(Object(r),!0).forEach((function(t){_defineProperty$1(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}_defineProperty$1(AdapterManager,"Route",RouteType),_defineProperty$1(AdapterManager,"Events",AdapterEvent);const Tech=videojs.getTech("Tech"),isSupport=e=>!!e&&[RouteType.ALI,RouteType.TENCENT].includes(e);function triggerError(e,t,r){var n,i,o,s;if(!t)return;t._isTech=!0,t._isFatal=!!t.fatal,t._source=r,delete t._source.detail,t.message=t.message||(null===(n=t.extraData)||void 0===n?void 0:n.message)||(null===(i=t.extraData)||void 0===i?void 0:i.details)||(null===(o=t.extraData)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.details)||(null===(s=t.extraData)||void 0===s?void 0:s.errorMessage)||t.errMsg||"";const a=e.error;e.error=Tech.prototype.error,e.error(t),e.error=a}const HlsSourceHandler={name:"hlsSourceHandler",canHandleSource:function(e){return isSupport(e.type)?"probably":""},handleSource:function(e,t){try{t._adapter&&(t._adapter.dispose(),t._adapter=void 0),t._adapter=new AdapterManager(e.type,t.el(),_objectSpread$q({},e.detail),{[AdapterEvent.ERROR]:r=>{triggerError(t,r,e)}})}catch(r){triggerError(t,_objectSpread$q(_objectSpread$q({},r),{},{fatal:!0}),e)}return t._adapter},canPlayType:function(e){return isSupport(e)?"probably":""}};function mountHlsProvider(){try{const e=videojs.getTech("Html5");e&&e.registerSourceHandler(HlsSourceHandler,0)}catch(e){console.error("mst-tech init failed")}}mountHlsProvider();const index$m="";var RightStatusEnum=(e=>(e[e.UNCHECK=0]="UNCHECK",e[e.CORRECT=1]="CORRECT",e[e.HALF_CORRECT=2]="HALF_CORRECT",e[e.INCORRECT=3]="INCORRECT",e))(RightStatusEnum||{}),QuestionContentTypeEnum=(e=>(e[e.IMAGE=1]="IMAGE",e[e.VIDEO=2]="VIDEO",e))(QuestionContentTypeEnum||{}),CateEnum=(e=>(e[e.RADIO=1]="RADIO",e[e.MULTI_SELECT=2]="MULTI_SELECT",e[e.JUDGE=3]="JUDGE",e))(CateEnum||{}),InteractiveEndEnum=(e=>(e[e.NORMAL=0]="NORMAL",e[e.SKIP=1]="SKIP",e[e.AUTO_SKIP=2]="AUTO_SKIP",e[e.ANSWER_SKIP=3]="ANSWER_SKIP",e[e.INIT_SKIP=4]="INIT_SKIP",e))(InteractiveEndEnum||{}),InteractiveErrorEnum=(e=>(e[e.LOAD_DETAIL=0]="LOAD_DETAIL",e[e.ANSWER=1]="ANSWER",e))(InteractiveErrorEnum||{}),InteractiveEvent=(e=>(e.INIT="interactiveinit",e.START="interactivestart",e.END="interactiveend",e.OPTION="interactiveoption",e.SUBMIT="interactivesubmit",e.SKIP="interactiveskip",e.ERROR_SKIP="interactiveerrorskip",e.ERROR_RETRY="interactiveerrorretry",e))(InteractiveEvent||{}),FCStatusEnum=(e=>(e[e.START=1]="START",e[e.PLAYING=2]="PLAYING",e[e.PAUSED=3]="PAUSED",e[e.END=4]="END",e))(FCStatusEnum||{}),ClogStatusEnum=(e=>(e[e.WATCH=1]="WATCH",e[e.PAUSED=3]="PAUSED",e))(ClogStatusEnum||{}),VideoTypeEnum=(e=>(e[e.LIVE=0]="LIVE",e[e.NORMAL=1]="NORMAL",e[e.FM=3]="FM",e[e.SCHOOL=6]="SCHOOL",e))(VideoTypeEnum||{}),HeaderFooterEvent=(e=>(e.HEADER_START="headerstart",e.HEADER_END="headerend",e.HEADER_PLAYING="headerplaying",e.HEADER_SKIP="headerskip",e.FOOTER_START="footerstart",e.FOOTER_END="footerend",e.FOOTER_PLAYING="footerplaying",e.FOOTER_SKIP="footerskip",e))(HeaderFooterEvent||{}),LinePlatEnum=(e=>(e[e.SELF=0]="SELF",e[e.DANGHONG=2]="DANGHONG",e[e.CC=3]="CC",e[e.ALI=4]="ALI",e[e.TENCENT=5]="TENCENT",e))(LinePlatEnum||{}),ClarityIdEnum=(e=>(e[e.UNKNOWN=0]="UNKNOWN",e[e.LD=10]="LD",e[e.SD=20]="SD",e[e.HD=30]="HD",e))(ClarityIdEnum||{}),DefinitionEvent=(e=>(e.CHANGE="definitionchange",e.LIST_CHANGE="definitionlistchange",e.CLICK="definitionclick",e))(DefinitionEvent||{}),EncryptTypeEnum=(e=>(e.UNENCRYPTED="unEncrypted",e.PRIVATE_ENCRYPTION="privateEncryption",e.STANDARD_ENCRYPTION="standardEncryption",e))(EncryptTypeEnum||{}),LinesEvent=(e=>(e.CHANGE="linechange",e.LIST_CHANGE="linelistchange",e))(LinesEvent||{}),ErrorEnum=(e=>(e[e.MEDIA_UNKNOWN=1e3]="MEDIA_UNKNOWN",e[e.GET_BASE_INFO=1001]="GET_BASE_INFO",e[e.NO_SUPPORT_LINE=1002]="NO_SUPPORT_LINE",e[e.VIDEO_SDK=1003]="VIDEO_SDK",e[e.ERROR_UNKNOWN=1004]="ERROR_UNKNOWN",e[e.INIT_CONFIG_INVALID=1005]="INIT_CONFIG_INVALID",e[e.CHANGE_CONFIG_INVALID=1006]="CHANGE_CONFIG_INVALID",e[e.TOO_MANY_DEMOTE_ERROR=1007]="TOO_MANY_DEMOTE_ERROR",e[e.MENU_CHANGE_VIDEO_ERROR=1008]="MENU_CHANGE_VIDEO_ERROR",e[e.UNKNOWN=2e3]="UNKNOWN",e[e.GET_GLOBAL_CONF=2001]="GET_GLOBAL_CONF",e[e.POINT_ILLEGAL=2002]="POINT_ILLEGAL",e[e.POINT_FC=2003]="POINT_FC",e[e.POINT_CLOG=2004]="POINT_CLOG",e[e.LOGIN=2005]="LOGIN",e[e.NOT_LOGIN=2006]="NOT_LOGIN",e[e.VIDEO_SDK_WARN=2007]="VIDEO_SDK_WARN",e[e.PLAY_RATE=2008]="PLAY_RATE",e))(ErrorEnum||{}),DisplayErrorEvent=(e=>(e.SHOW="showdisplayerror",e.HIDE="hidedisplayerror",e))(DisplayErrorEvent||{}),PlayRateEvent=(e=>(e.CLICK="playrateclick",e))(PlayRateEvent||{}),MediaTypeEnum=(e=>(e[e.VIDEO=1]="VIDEO",e[e.AUDIO=2]="AUDIO",e))(MediaTypeEnum||{}),MSTPlayerStatusEnum=(e=>(e.PLAY="play",e.PAUSE="pause",e.INIT="init",e))(MSTPlayerStatusEnum||{}),MSTPlayerEvent=(e=>(e.SEEK="mstplayerseek",e))(MSTPlayerEvent||{}),QualityPointEvent=(e=>(e.INIT_START="init_start",e.INIT_FAILED="init_failed",e.LOAD_START="load_start",e.LOAD_FAILED="load_failed",e.START_PLAY="start_play",e.FIRST_FRAME_PLAYED="first_frame_played",e.PLAY_FAILED="play_failed",e.BUFFERING="buffering",e.BUFFERING_END="buffering_end",e))(QualityPointEvent||{}),QualityPointVideoType=(e=>(e.HEADER="header",e.MAIN="main",e.FOOTER="footer",e))(QualityPointVideoType||{}),BizAnalyticsEventType=(e=>(e.EXP="EXP",e.CLK="CLK",e.OTHER="OTHER",e))(BizAnalyticsEventType||{}),AnalyticsEventCodeEnum=(e=>(e.HOTKEYS_ACTION="ewt_pc_base_public_videoplayer_hotkeys_click",e.BUTTON_CLICK="ewt_pc_base_public_videoplayer_button_click",e.MENU_EXPO="ewt_pc_base_public_videoplayer_menu_expo",e.MENU_ITEM_CLICK="ewt_pc_base_public_videoplayer_menu_item_click",e.SUBTITLES_EXPO="ewt_pc_base_public_videoplayer_subtitles_expo",e.SUBTITLES_CLICK="ewt_pc_base_public_videoplayer_subtitles_click",e))(AnalyticsEventCodeEnum||{}),AnalyticsEventWithTag=(e=>(e.tagEntryClick="ewt_pc_base_public_videoplayer_tag_click",e.tagEntryExpo="ewt_pc_base_public_videoplayer_tag_expo",e.tagTypeClick="ewt_pc_base_public_videoplaye_tag_tagSelect_click",e.tagPointPlayClick="ewt_pc_base_public_videoplayer_tag_tagPreviewModal_play_click",e.tagPointDeleteClick="ewt_pc_base_public_videoplayer_tag_tagPreviewModal_delete_click",e))(AnalyticsEventWithTag||{}),HotKeysLockNameEnum=(e=>(e.HEADER_FOOTER="header-footer",e.INTERACTIVE="interactive",e.ERROR="error",e.DEFINITION="definition",e.SEEK="SEEK",e.MENU="menu",e.FEEDBACK="feedback",e.USER="user",e))(HotKeysLockNameEnum||{}),MSTMenuItemStatusEnum=(e=>(e[e.NORMAL=0]="NORMAL",e[e.PROGRESS=1]="PROGRESS",e[e.DONE=2]="DONE",e))(MSTMenuItemStatusEnum||{}),ProgressControlEvent=(e=>(e.SEEK_START="seekstart",e.SEEK_END="seekend",e))(ProgressControlEvent||{}),EToastType=(e=>(e[e.success=0]="success",e[e.error=1]="error",e))(EToastType||{}),EToastEvent=(e=>(e.TOAST_SHOW="toast-show",e.TOAST_HIDDEN="toast-hidden",e))(EToastEvent||{}),SubtitlesEvent=(e=>(e.ENABLE_CHANGE="subtitlesenablechange",e.SWITCH_CHANGE="subtitlesswitchchange",e))(SubtitlesEvent||{});const Component$p=videojs.getComponent("Component"),feedbackButtonCompName="FeedbackButton",buttonTemplateStr='\n  <div class="vjs-feedback-btn">\n    <span>反馈</span>\n  </div>';class FeedbackButton extends Component$p{constructor(e,t){var r;super(e,t),_defineProperty$1(this,"config",void 0),this.config=t.config;const n=null===(r=t.config)||void 0===r?void 0:r.initConfig;this.on(this.el(),"click",(()=>{null!=n&&n.onVisibleChange&&n.onVisibleChange(!0),e.addChild("FeedbackModal",{config:this.config}),e.bizAnalytics().clickPv(AnalyticsEventCodeEnum.BUTTON_CLICK,{action:"点击反馈按钮"},!0)}))}createEl(){return template(buttonTemplateStr)}}videojs.registerComponent(feedbackButtonCompName,FeedbackButton);var aCallable=aCallable$c,toObject$3=toObject$d,IndexedObject$1=indexedObject,lengthOfArrayLike$2=lengthOfArrayLike$g,$TypeError$2=TypeError,REDUCE_EMPTY="Reduce of empty array with no initial value",createMethod=function(e){return function(t,r,n,i){var o=toObject$3(t),s=IndexedObject$1(o),a=lengthOfArrayLike$2(o);if(aCallable(r),0===a&&n<2)throw new $TypeError$2(REDUCE_EMPTY);var l=e?a-1:0,c=e?-1:1;if(n<2)for(;;){if(l in s){i=s[l],l+=c;break}if(l+=c,e?l<0:a<=l)throw new $TypeError$2(REDUCE_EMPTY)}for(;e?l>=0:a>l;l+=c)l in s&&(i=r(i,s[l],l,o));return i}},arrayReduce={left:createMethod(!1),right:createMethod(!0)},$$a=_export,$reduce=arrayReduce.left,arrayMethodIsStrict=arrayMethodIsStrict$2,CHROME_VERSION=engineV8Version,IS_NODE=engineIsNode,CHROME_BUG=!IS_NODE&&CHROME_VERSION>79&&CHROME_VERSION<83,FORCED$1=CHROME_BUG||!arrayMethodIsStrict("reduce");$$a({target:"Array",proto:!0,forced:FORCED$1},{reduce:function(e){var t=arguments.length;return $reduce(this,e,t,t>1?arguments[1]:void 0)}});var charAt$2=stringMultibyte.charAt,toString$5=toString$g,InternalStateModule$3=internalState,defineIterator=iteratorDefine,createIterResultObject$2=createIterResultObject$4,STRING_ITERATOR="String Iterator",setInternalState$3=InternalStateModule$3.set,getInternalState$1=InternalStateModule$3.getterFor(STRING_ITERATOR);defineIterator(String,"String",(function(e){setInternalState$3(this,{type:STRING_ITERATOR,string:toString$5(e),index:0})}),(function(){var e,t=getInternalState$1(this),r=t.string,n=t.index;return n>=r.length?createIterResultObject$2(void 0,!0):(e=charAt$2(r,n),t.index+=e.length,createIterResultObject$2(e,!1))}));var fails$2=fails$B,wellKnownSymbol$3=wellKnownSymbol$o,DESCRIPTORS$7=descriptors$1,IS_PURE$1=isPure,ITERATOR$1=wellKnownSymbol$3("iterator"),urlConstructorDetection=!fails$2((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r=new URLSearchParams("a=1&a=2&b=3"),n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),r.delete("a",2),r.delete("b",void 0),IS_PURE$1&&(!e.toJSON||!r.has("a",1)||r.has("a",2)||!r.has("a",void 0)||r.has("b"))||!t.size&&(IS_PURE$1||!DESCRIPTORS$7)||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[ITERATOR$1]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host})),DESCRIPTORS$6=descriptors$1,uncurryThis$9=functionUncurryThis,call$4=functionCall,fails$1=fails$B,objectKeys=objectKeys$2,getOwnPropertySymbolsModule=objectGetOwnPropertySymbols,propertyIsEnumerableModule=objectPropertyIsEnumerable,toObject$2=toObject$d,IndexedObject=indexedObject,$assign=Object.assign,defineProperty$2=Object.defineProperty,concat=uncurryThis$9([].concat),objectAssign=!$assign||fails$1((function(){if(DESCRIPTORS$6&&1!==$assign({b:1},$assign(defineProperty$2({},"a",{enumerable:!0,get:function(){defineProperty$2(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol("assign detection"),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach((function(e){t[e]=e})),7!==$assign({},e)[r]||objectKeys($assign({},t)).join("")!==n}))?function(e,t){for(var r=toObject$2(e),n=arguments.length,i=1,o=getOwnPropertySymbolsModule.f,s=propertyIsEnumerableModule.f;n>i;)for(var a,l=IndexedObject(arguments[i++]),c=o?concat(objectKeys(l),o(l)):objectKeys(l),u=c.length,h=0;u>h;)a=c[h++],DESCRIPTORS$6&&!call$4(s,l,a)||(r[a]=l[a]);return r}:$assign,anObject$2=anObject$i,iteratorClose=iteratorClose$2,callWithSafeIterationClosing$1=function(e,t,r,n){try{return n?t(anObject$2(r)[0],r[1]):t(r)}catch(error){iteratorClose(e,"throw",error)}},DESCRIPTORS$5=descriptors$1,definePropertyModule=objectDefineProperty,createPropertyDescriptor$1=createPropertyDescriptor$9,createProperty$1=function(e,t,r){DESCRIPTORS$5?definePropertyModule.f(e,t,createPropertyDescriptor$1(0,r)):e[t]=r},bind$3=functionBindContext,call$3=functionCall,toObject$1=toObject$d,callWithSafeIterationClosing=callWithSafeIterationClosing$1,isArrayIteratorMethod=isArrayIteratorMethod$3,isConstructor=isConstructor$3,lengthOfArrayLike$1=lengthOfArrayLike$g,createProperty=createProperty$1,getIterator$1=getIterator$4,getIteratorMethod$1=getIteratorMethod$5,$Array=Array,arrayFrom$1=function(e){var t=toObject$1(e),r=isConstructor(this),n=arguments.length,i=n>1?arguments[1]:void 0,o=void 0!==i;o&&(i=bind$3(i,n>2?arguments[2]:void 0));var s,a,l,c,u,h,d=getIteratorMethod$1(t),p=0;if(!d||this===$Array&&isArrayIteratorMethod(d))for(s=lengthOfArrayLike$1(t),a=r?new this(s):$Array(s);s>p;p++)h=o?i(t[p],p):t[p],createProperty(a,p,h);else for(a=r?new this:[],u=(c=getIterator$1(t,d)).next;!(l=call$3(u,c)).done;p++)h=o?callWithSafeIterationClosing(c,i,[l.value,p],!0):l.value,createProperty(a,p,h);return a.length=p,a},uncurryThis$8=functionUncurryThis,maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexNonASCII=/[^\0-\u007E]/,regexSeparators=/[.\u3002\uFF0E\uFF61]/g,OVERFLOW_ERROR="Overflow: input needs wider integers to process",baseMinusTMin=base-tMin,$RangeError=RangeError,exec$1=uncurryThis$8(regexSeparators.exec),floor$1=Math.floor,fromCharCode=String.fromCharCode,charCodeAt=uncurryThis$8("".charCodeAt),join$2=uncurryThis$8([].join),push$3=uncurryThis$8([].push),replace$3=uncurryThis$8("".replace),split$2=uncurryThis$8("".split),toLowerCase$1=uncurryThis$8("".toLowerCase),ucs2decode=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=charCodeAt(e,r++);if(i>=55296&&i<=56319&&r<n){var o=charCodeAt(e,r++);56320==(64512&o)?push$3(t,((1023&i)<<10)+(1023&o)+65536):(push$3(t,i),r--)}else push$3(t,i)}return t},digitToBasic=function(e){return e+22+75*(e<26)},adapt=function(e,t,r){var n=0;for(e=r?floor$1(e/damp):e>>1,e+=floor$1(e/t);e>baseMinusTMin*tMax>>1;)e=floor$1(e/baseMinusTMin),n+=base;return floor$1(n+(baseMinusTMin+1)*e/(e+skew))},encode$2=function(e){var t,r,n=[],i=(e=ucs2decode(e)).length,o=initialN,s=0,a=initialBias;for(t=0;t<e.length;t++)(r=e[t])<128&&push$3(n,fromCharCode(r));var l=n.length,c=l;for(l&&push$3(n,delimiter);c<i;){var u=maxInt;for(t=0;t<e.length;t++)(r=e[t])>=o&&r<u&&(u=r);var h=c+1;if(u-o>floor$1((maxInt-s)/h))throw new $RangeError(OVERFLOW_ERROR);for(s+=(u-o)*h,o=u,t=0;t<e.length;t++){if((r=e[t])<o&&++s>maxInt)throw new $RangeError(OVERFLOW_ERROR);if(r===o){for(var d=s,p=base;;){var f=p<=a?tMin:p>=a+tMax?tMax:p-a;if(d<f)break;var y=d-f,g=base-f;push$3(n,fromCharCode(digitToBasic(f+y%g))),d=floor$1(y/g),p+=base}push$3(n,fromCharCode(digitToBasic(d))),a=adapt(s,h,c===l),s=0,c++}}s++,o++}return join$2(n,"")},stringPunycodeToAscii=function(e){var t,r,n=[],i=split$2(replace$3(toLowerCase$1(e),regexSeparators,"."),".");for(t=0;t<i.length;t++)r=i[t],push$3(n,exec$1(regexNonASCII,r)?"xn--"+encode$2(r):r);return join$2(n,".")},$$9=_export,global$6=global$E,safeGetBuiltIn=safeGetBuiltIn$2,call$2=functionCall,uncurryThis$7=functionUncurryThis,DESCRIPTORS$4=descriptors$1,USE_NATIVE_URL$1=urlConstructorDetection,defineBuiltIn$4=defineBuiltIn$f,defineBuiltInAccessor$4=defineBuiltInAccessor$c,defineBuiltIns=defineBuiltIns$2,setToStringTag$1=setToStringTag$8,createIteratorConstructor$1=iteratorCreateConstructor,InternalStateModule$2=internalState,anInstance$1=anInstance$7,isCallable$1=isCallable$r,hasOwn$3=hasOwnProperty_1,bind$2=functionBindContext,classof$1=classof$g,anObject$1=anObject$i,isObject$1=isObject$k,$toString$1=toString$g,create=objectCreate,createPropertyDescriptor=createPropertyDescriptor$9,getIterator=getIterator$4,getIteratorMethod=getIteratorMethod$5,createIterResultObject$1=createIterResultObject$4,validateArgumentsLength$3=validateArgumentsLength$5,wellKnownSymbol$2=wellKnownSymbol$o,arraySort=arraySort$1,ITERATOR=wellKnownSymbol$2("iterator"),URL_SEARCH_PARAMS="URLSearchParams",URL_SEARCH_PARAMS_ITERATOR=URL_SEARCH_PARAMS+"Iterator",setInternalState$2=InternalStateModule$2.set,getInternalParamsState=InternalStateModule$2.getterFor(URL_SEARCH_PARAMS),getInternalIteratorState=InternalStateModule$2.getterFor(URL_SEARCH_PARAMS_ITERATOR),nativeFetch=safeGetBuiltIn("fetch"),NativeRequest=safeGetBuiltIn("Request"),Headers$1=safeGetBuiltIn("Headers"),RequestPrototype=NativeRequest&&NativeRequest.prototype,HeadersPrototype=Headers$1&&Headers$1.prototype,RegExp$1=global$6.RegExp,TypeError$2=global$6.TypeError,decodeURIComponent$1=global$6.decodeURIComponent,encodeURIComponent$1=global$6.encodeURIComponent,charAt$1=uncurryThis$7("".charAt),join$1=uncurryThis$7([].join),push$2=uncurryThis$7([].push),replace$2=uncurryThis$7("".replace),shift$1=uncurryThis$7([].shift),splice=uncurryThis$7([].splice),split$1=uncurryThis$7("".split),stringSlice$2=uncurryThis$7("".slice),plus=/\+/g,sequences=Array(4),percentSequence=function(e){return sequences[e-1]||(sequences[e-1]=RegExp$1("((?:%[\\da-f]{2}){"+e+"})","gi"))},percentDecode=function(e){try{return decodeURIComponent$1(e)}catch(error){return e}},deserialize=function(e){var t=replace$2(e,plus," "),r=4;try{return decodeURIComponent$1(t)}catch(error){for(;r;)t=replace$2(t,percentSequence(r--),percentDecode);return t}},find=/[!'()~]|%20/g,replacements={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},replacer=function(e){return replacements[e]},serialize=function(e){return replace$2(encodeURIComponent$1(e),find,replacer)},URLSearchParamsIterator=createIteratorConstructor$1((function(e,t){setInternalState$2(this,{type:URL_SEARCH_PARAMS_ITERATOR,target:getInternalParamsState(e).entries,index:0,kind:t})}),URL_SEARCH_PARAMS,(function(){var e=getInternalIteratorState(this),t=e.target,r=e.index++;if(!t||r>=t.length)return e.target=void 0,createIterResultObject$1(void 0,!0);var n=t[r];switch(e.kind){case"keys":return createIterResultObject$1(n.key,!1);case"values":return createIterResultObject$1(n.value,!1)}return createIterResultObject$1([n.key,n.value],!1)}),!0),URLSearchParamsState=function(e){this.entries=[],this.url=null,void 0!==e&&(isObject$1(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===charAt$1(e,0)?stringSlice$2(e,1):e:$toString$1(e)))};URLSearchParamsState.prototype={type:URL_SEARCH_PARAMS,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,r,n,i,o,s,a,l=this.entries,c=getIteratorMethod(e);if(c)for(r=(t=getIterator(e,c)).next;!(n=call$2(r,t)).done;){if(o=(i=getIterator(anObject$1(n.value))).next,(s=call$2(o,i)).done||(a=call$2(o,i)).done||!call$2(o,i).done)throw new TypeError$2("Expected sequence with length 2");push$2(l,{key:$toString$1(s.value),value:$toString$1(a.value)})}else for(var u in e)hasOwn$3(e,u)&&push$2(l,{key:u,value:$toString$1(e[u])})},parseQuery:function(e){if(e)for(var t,r,n=this.entries,i=split$1(e,"&"),o=0;o<i.length;)(t=i[o++]).length&&(r=split$1(t,"="),push$2(n,{key:deserialize(shift$1(r)),value:deserialize(join$1(r,"="))}))},serialize:function(){for(var e,t=this.entries,r=[],n=0;n<t.length;)e=t[n++],push$2(r,serialize(e.key)+"="+serialize(e.value));return join$1(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var URLSearchParamsConstructor=function(){anInstance$1(this,URLSearchParamsPrototype$3);var e=setInternalState$2(this,new URLSearchParamsState(arguments.length>0?arguments[0]:void 0));DESCRIPTORS$4||(this.size=e.entries.length)},URLSearchParamsPrototype$3=URLSearchParamsConstructor.prototype;if(defineBuiltIns(URLSearchParamsPrototype$3,{append:function(e,t){var r=getInternalParamsState(this);validateArgumentsLength$3(arguments.length,2),push$2(r.entries,{key:$toString$1(e),value:$toString$1(t)}),DESCRIPTORS$4||this.length++,r.updateURL()},delete:function(e){for(var t=getInternalParamsState(this),r=validateArgumentsLength$3(arguments.length,1),n=t.entries,i=$toString$1(e),o=r<2?void 0:arguments[1],s=void 0===o?o:$toString$1(o),a=0;a<n.length;){var l=n[a];if(l.key!==i||void 0!==s&&l.value!==s)a++;else if(splice(n,a,1),void 0!==s)break}DESCRIPTORS$4||(this.size=n.length),t.updateURL()},get:function(e){var t=getInternalParamsState(this).entries;validateArgumentsLength$3(arguments.length,1);for(var r=$toString$1(e),n=0;n<t.length;n++)if(t[n].key===r)return t[n].value;return null},getAll:function(e){var t=getInternalParamsState(this).entries;validateArgumentsLength$3(arguments.length,1);for(var r=$toString$1(e),n=[],i=0;i<t.length;i++)t[i].key===r&&push$2(n,t[i].value);return n},has:function(e){for(var t=getInternalParamsState(this).entries,r=validateArgumentsLength$3(arguments.length,1),n=$toString$1(e),i=r<2?void 0:arguments[1],o=void 0===i?i:$toString$1(i),s=0;s<t.length;){var a=t[s++];if(a.key===n&&(void 0===o||a.value===o))return!0}return!1},set:function(e,t){var r=getInternalParamsState(this);validateArgumentsLength$3(arguments.length,1);for(var n,i=r.entries,o=!1,s=$toString$1(e),a=$toString$1(t),l=0;l<i.length;l++)(n=i[l]).key===s&&(o?splice(i,l--,1):(o=!0,n.value=a));o||push$2(i,{key:s,value:a}),DESCRIPTORS$4||(this.size=i.length),r.updateURL()},sort:function(){var e=getInternalParamsState(this);arraySort(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,r=getInternalParamsState(this).entries,n=bind$2(e,arguments.length>1?arguments[1]:void 0),i=0;i<r.length;)n((t=r[i++]).value,t.key,this)},keys:function(){return new URLSearchParamsIterator(this,"keys")},values:function(){return new URLSearchParamsIterator(this,"values")},entries:function(){return new URLSearchParamsIterator(this,"entries")}},{enumerable:!0}),defineBuiltIn$4(URLSearchParamsPrototype$3,ITERATOR,URLSearchParamsPrototype$3.entries,{name:"entries"}),defineBuiltIn$4(URLSearchParamsPrototype$3,"toString",(function(){return getInternalParamsState(this).serialize()}),{enumerable:!0}),DESCRIPTORS$4&&defineBuiltInAccessor$4(URLSearchParamsPrototype$3,"size",{get:function(){return getInternalParamsState(this).entries.length},configurable:!0,enumerable:!0}),setToStringTag$1(URLSearchParamsConstructor,URL_SEARCH_PARAMS),$$9({global:!0,constructor:!0,forced:!USE_NATIVE_URL$1},{URLSearchParams:URLSearchParamsConstructor}),!USE_NATIVE_URL$1&&isCallable$1(Headers$1)){var headersHas=uncurryThis$7(HeadersPrototype.has),headersSet=uncurryThis$7(HeadersPrototype.set),wrapRequestOptions=function(e){if(isObject$1(e)){var t,r=e.body;if(classof$1(r)===URL_SEARCH_PARAMS)return t=e.headers?new Headers$1(e.headers):new Headers$1,headersHas(t,"content-type")||headersSet(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),create(e,{body:createPropertyDescriptor(0,$toString$1(r)),headers:createPropertyDescriptor(0,t)})}return e};if(isCallable$1(nativeFetch)&&$$9({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return nativeFetch(e,arguments.length>1?wrapRequestOptions(arguments[1]):{})}}),isCallable$1(NativeRequest)){var RequestConstructor=function(e){return anInstance$1(this,RequestPrototype),new NativeRequest(e,arguments.length>1?wrapRequestOptions(arguments[1]):{})};RequestPrototype.constructor=RequestConstructor,RequestConstructor.prototype=RequestPrototype,$$9({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:RequestConstructor})}}var web_urlSearchParams_constructor={URLSearchParams:URLSearchParamsConstructor,getState:getInternalParamsState},$$8=_export,DESCRIPTORS$3=descriptors$1,USE_NATIVE_URL=urlConstructorDetection,global$5=global$E,bind$1=functionBindContext,uncurryThis$6=functionUncurryThis,defineBuiltIn$3=defineBuiltIn$f,defineBuiltInAccessor$3=defineBuiltInAccessor$c,anInstance=anInstance$7,hasOwn$2=hasOwnProperty_1,assign=objectAssign,arrayFrom=arrayFrom$1,arraySlice=arraySlice$5,codeAt=stringMultibyte.codeAt,toASCII=stringPunycodeToAscii,$toString=toString$g,setToStringTag=setToStringTag$8,validateArgumentsLength$2=validateArgumentsLength$5,URLSearchParamsModule=web_urlSearchParams_constructor,InternalStateModule$1=internalState,setInternalState$1=InternalStateModule$1.set,getInternalURLState=InternalStateModule$1.getterFor("URL"),URLSearchParams$2=URLSearchParamsModule.URLSearchParams,getInternalSearchParamsState=URLSearchParamsModule.getState,NativeURL=global$5.URL,TypeError$1=global$5.TypeError,parseInt$1=global$5.parseInt,floor=Math.floor,pow=Math.pow,charAt=uncurryThis$6("".charAt),exec=uncurryThis$6(/./.exec),join=uncurryThis$6([].join),numberToString=uncurryThis$6(1..toString),pop=uncurryThis$6([].pop),push$1=uncurryThis$6([].push),replace$1=uncurryThis$6("".replace),shift=uncurryThis$6([].shift),split=uncurryThis$6("".split),stringSlice$1=uncurryThis$6("".slice),toLowerCase=uncurryThis$6("".toLowerCase),unshift=uncurryThis$6([].unshift),INVALID_AUTHORITY="Invalid authority",INVALID_SCHEME="Invalid scheme",INVALID_HOST="Invalid host",INVALID_PORT="Invalid port",ALPHA$1=/[a-z]/i,ALPHANUMERIC=/[\d+-.a-z]/i,DIGIT$1=/\d/,HEX_START=/^0x/i,OCT=/^[0-7]+$/,DEC=/^\d+$/,HEX=/^[\da-f]+$/i,FORBIDDEN_HOST_CODE_POINT=/[\0\t\n\r #%/:<>?@[\\\]^|]/,FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT=/[\0\t\n\r #/:<>?@[\\\]^|]/,LEADING_C0_CONTROL_OR_SPACE=/^[\u0000-\u0020]+/,TRAILING_C0_CONTROL_OR_SPACE=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,TAB_AND_NEW_LINE=/[\t\n\r]/g,EOF,parseIPv4=function(e){var t,r,n,i,o,s,a,l=split(e,".");if(l.length&&""===l[l.length-1]&&l.length--,(t=l.length)>4)return e;for(r=[],n=0;n<t;n++){if(""===(i=l[n]))return e;if(o=10,i.length>1&&"0"===charAt(i,0)&&(o=exec(HEX_START,i)?16:8,i=stringSlice$1(i,8===o?1:2)),""===i)s=0;else{if(!exec(10===o?DEC:8===o?OCT:HEX,i))return e;s=parseInt$1(i,o)}push$1(r,s)}for(n=0;n<t;n++)if(s=r[n],n===t-1){if(s>=pow(256,5-t))return null}else if(s>255)return null;for(a=pop(r),n=0;n<r.length;n++)a+=r[n]*pow(256,3-n);return a},parseIPv6=function(e){var t,r,n,i,o,s,a,l=[0,0,0,0,0,0,0,0],c=0,u=null,h=0,d=function(){return charAt(e,h)};if(":"===d()){if(":"!==charAt(e,1))return;h+=2,u=++c}for(;d();){if(8===c)return;if(":"!==d()){for(t=r=0;r<4&&exec(HEX,d());)t=16*t+parseInt$1(d(),16),h++,r++;if("."===d()){if(0===r)return;if(h-=r,c>6)return;for(n=0;d();){if(i=null,n>0){if(!("."===d()&&n<4))return;h++}if(!exec(DIGIT$1,d()))return;for(;exec(DIGIT$1,d());){if(o=parseInt$1(d(),10),null===i)i=o;else{if(0===i)return;i=10*i+o}if(i>255)return;h++}l[c]=256*l[c]+i,2!==++n&&4!==n||c++}if(4!==n)return;break}if(":"===d()){if(h++,!d())return}else if(d())return;l[c++]=t}else{if(null!==u)return;h++,u=++c}}if(null!==u)for(s=c-u,c=7;0!==c&&s>0;)a=l[c],l[c--]=l[u+s-1],l[u+--s]=a;else if(8!==c)return;return l},findLongestZeroSequence=function(e){for(var t=null,r=1,n=null,i=0,o=0;o<8;o++)0!==e[o]?(i>r&&(t=n,r=i),n=null,i=0):(null===n&&(n=o),++i);return i>r&&(t=n,r=i),t},serializeHost=function(e){var t,r,n,i;if("number"==typeof e){for(t=[],r=0;r<4;r++)unshift(t,e%256),e=floor(e/256);return join(t,".")}if("object"==typeof e){for(t="",n=findLongestZeroSequence(e),r=0;r<8;r++)i&&0===e[r]||(i&&(i=!1),n===r?(t+=r?":":"::",i=!0):(t+=numberToString(e[r],16),r<7&&(t+=":")));return"["+t+"]"}return e},C0ControlPercentEncodeSet={},fragmentPercentEncodeSet=assign({},C0ControlPercentEncodeSet,{" ":1,'"':1,"<":1,">":1,"`":1}),pathPercentEncodeSet=assign({},fragmentPercentEncodeSet,{"#":1,"?":1,"{":1,"}":1}),userinfoPercentEncodeSet=assign({},pathPercentEncodeSet,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),percentEncode=function(e,t){var r=codeAt(e,0);return r>32&&r<127&&!hasOwn$2(t,e)?e:encodeURIComponent(e)},specialSchemes={ftp:21,file:null,http:80,https:443,ws:80,wss:443},isWindowsDriveLetter=function(e,t){var r;return 2===e.length&&exec(ALPHA$1,charAt(e,0))&&(":"===(r=charAt(e,1))||!t&&"|"===r)},startsWithWindowsDriveLetter=function(e){var t;return e.length>1&&isWindowsDriveLetter(stringSlice$1(e,0,2))&&(2===e.length||"/"===(t=charAt(e,2))||"\\"===t||"?"===t||"#"===t)},isSingleDot=function(e){return"."===e||"%2e"===toLowerCase(e)},isDoubleDot=function(e){return".."===(e=toLowerCase(e))||"%2e."===e||".%2e"===e||"%2e%2e"===e},SCHEME_START={},SCHEME={},NO_SCHEME={},SPECIAL_RELATIVE_OR_AUTHORITY={},PATH_OR_AUTHORITY={},RELATIVE={},RELATIVE_SLASH={},SPECIAL_AUTHORITY_SLASHES={},SPECIAL_AUTHORITY_IGNORE_SLASHES={},AUTHORITY={},HOST={},HOSTNAME={},PORT={},FILE={},FILE_SLASH={},FILE_HOST={},PATH_START={},PATH={},CANNOT_BE_A_BASE_URL_PATH={},QUERY={},FRAGMENT={},URLState=function(e,t,r){var n,i,o,s=$toString(e);if(t){if(i=this.parse(s))throw new TypeError$1(i);this.searchParams=null}else{if(void 0!==r&&(n=new URLState(r,!0)),i=this.parse(s,null,n))throw new TypeError$1(i);(o=getInternalSearchParamsState(new URLSearchParams$2)).bindURL(this),this.searchParams=o}};URLState.prototype={type:"URL",parse:function(e,t,r){var n,i,o,s,a=this,l=t||SCHEME_START,c=0,u="",h=!1,d=!1,p=!1;for(e=$toString(e),t||(a.scheme="",a.username="",a.password="",a.host=null,a.port=null,a.path=[],a.query=null,a.fragment=null,a.cannotBeABaseURL=!1,e=replace$1(e,LEADING_C0_CONTROL_OR_SPACE,""),e=replace$1(e,TRAILING_C0_CONTROL_OR_SPACE,"$1")),e=replace$1(e,TAB_AND_NEW_LINE,""),n=arrayFrom(e);c<=n.length;){switch(i=n[c],l){case SCHEME_START:if(!i||!exec(ALPHA$1,i)){if(t)return INVALID_SCHEME;l=NO_SCHEME;continue}u+=toLowerCase(i),l=SCHEME;break;case SCHEME:if(i&&(exec(ALPHANUMERIC,i)||"+"===i||"-"===i||"."===i))u+=toLowerCase(i);else{if(":"!==i){if(t)return INVALID_SCHEME;u="",l=NO_SCHEME,c=0;continue}if(t&&(a.isSpecial()!==hasOwn$2(specialSchemes,u)||"file"===u&&(a.includesCredentials()||null!==a.port)||"file"===a.scheme&&!a.host))return;if(a.scheme=u,t)return void(a.isSpecial()&&specialSchemes[a.scheme]===a.port&&(a.port=null));u="","file"===a.scheme?l=FILE:a.isSpecial()&&r&&r.scheme===a.scheme?l=SPECIAL_RELATIVE_OR_AUTHORITY:a.isSpecial()?l=SPECIAL_AUTHORITY_SLASHES:"/"===n[c+1]?(l=PATH_OR_AUTHORITY,c++):(a.cannotBeABaseURL=!0,push$1(a.path,""),l=CANNOT_BE_A_BASE_URL_PATH)}break;case NO_SCHEME:if(!r||r.cannotBeABaseURL&&"#"!==i)return INVALID_SCHEME;if(r.cannotBeABaseURL&&"#"===i){a.scheme=r.scheme,a.path=arraySlice(r.path),a.query=r.query,a.fragment="",a.cannotBeABaseURL=!0,l=FRAGMENT;break}l="file"===r.scheme?FILE:RELATIVE;continue;case SPECIAL_RELATIVE_OR_AUTHORITY:if("/"!==i||"/"!==n[c+1]){l=RELATIVE;continue}l=SPECIAL_AUTHORITY_IGNORE_SLASHES,c++;break;case PATH_OR_AUTHORITY:if("/"===i){l=AUTHORITY;break}l=PATH;continue;case RELATIVE:if(a.scheme=r.scheme,i===EOF)a.username=r.username,a.password=r.password,a.host=r.host,a.port=r.port,a.path=arraySlice(r.path),a.query=r.query;else if("/"===i||"\\"===i&&a.isSpecial())l=RELATIVE_SLASH;else if("?"===i)a.username=r.username,a.password=r.password,a.host=r.host,a.port=r.port,a.path=arraySlice(r.path),a.query="",l=QUERY;else{if("#"!==i){a.username=r.username,a.password=r.password,a.host=r.host,a.port=r.port,a.path=arraySlice(r.path),a.path.length--,l=PATH;continue}a.username=r.username,a.password=r.password,a.host=r.host,a.port=r.port,a.path=arraySlice(r.path),a.query=r.query,a.fragment="",l=FRAGMENT}break;case RELATIVE_SLASH:if(!a.isSpecial()||"/"!==i&&"\\"!==i){if("/"!==i){a.username=r.username,a.password=r.password,a.host=r.host,a.port=r.port,l=PATH;continue}l=AUTHORITY}else l=SPECIAL_AUTHORITY_IGNORE_SLASHES;break;case SPECIAL_AUTHORITY_SLASHES:if(l=SPECIAL_AUTHORITY_IGNORE_SLASHES,"/"!==i||"/"!==charAt(u,c+1))continue;c++;break;case SPECIAL_AUTHORITY_IGNORE_SLASHES:if("/"!==i&&"\\"!==i){l=AUTHORITY;continue}break;case AUTHORITY:if("@"===i){h&&(u="%40"+u),h=!0,o=arrayFrom(u);for(var f=0;f<o.length;f++){var y=o[f];if(":"!==y||p){var g=percentEncode(y,userinfoPercentEncodeSet);p?a.password+=g:a.username+=g}else p=!0}u=""}else if(i===EOF||"/"===i||"?"===i||"#"===i||"\\"===i&&a.isSpecial()){if(h&&""===u)return INVALID_AUTHORITY;c-=arrayFrom(u).length+1,u="",l=HOST}else u+=i;break;case HOST:case HOSTNAME:if(t&&"file"===a.scheme){l=FILE_HOST;continue}if(":"!==i||d){if(i===EOF||"/"===i||"?"===i||"#"===i||"\\"===i&&a.isSpecial()){if(a.isSpecial()&&""===u)return INVALID_HOST;if(t&&""===u&&(a.includesCredentials()||null!==a.port))return;if(s=a.parseHost(u))return s;if(u="",l=PATH_START,t)return;continue}"["===i?d=!0:"]"===i&&(d=!1),u+=i}else{if(""===u)return INVALID_HOST;if(s=a.parseHost(u))return s;if(u="",l=PORT,t===HOSTNAME)return}break;case PORT:if(!exec(DIGIT$1,i)){if(i===EOF||"/"===i||"?"===i||"#"===i||"\\"===i&&a.isSpecial()||t){if(""!==u){var v=parseInt$1(u,10);if(v>65535)return INVALID_PORT;a.port=a.isSpecial()&&v===specialSchemes[a.scheme]?null:v,u=""}if(t)return;l=PATH_START;continue}return INVALID_PORT}u+=i;break;case FILE:if(a.scheme="file","/"===i||"\\"===i)l=FILE_SLASH;else{if(!r||"file"!==r.scheme){l=PATH;continue}switch(i){case EOF:a.host=r.host,a.path=arraySlice(r.path),a.query=r.query;break;case"?":a.host=r.host,a.path=arraySlice(r.path),a.query="",l=QUERY;break;case"#":a.host=r.host,a.path=arraySlice(r.path),a.query=r.query,a.fragment="",l=FRAGMENT;break;default:startsWithWindowsDriveLetter(join(arraySlice(n,c),""))||(a.host=r.host,a.path=arraySlice(r.path),a.shortenPath()),l=PATH;continue}}break;case FILE_SLASH:if("/"===i||"\\"===i){l=FILE_HOST;break}r&&"file"===r.scheme&&!startsWithWindowsDriveLetter(join(arraySlice(n,c),""))&&(isWindowsDriveLetter(r.path[0],!0)?push$1(a.path,r.path[0]):a.host=r.host),l=PATH;continue;case FILE_HOST:if(i===EOF||"/"===i||"\\"===i||"?"===i||"#"===i){if(!t&&isWindowsDriveLetter(u))l=PATH;else if(""===u){if(a.host="",t)return;l=PATH_START}else{if(s=a.parseHost(u))return s;if("localhost"===a.host&&(a.host=""),t)return;u="",l=PATH_START}continue}u+=i;break;case PATH_START:if(a.isSpecial()){if(l=PATH,"/"!==i&&"\\"!==i)continue}else if(t||"?"!==i)if(t||"#"!==i){if(i!==EOF&&(l=PATH,"/"!==i))continue}else a.fragment="",l=FRAGMENT;else a.query="",l=QUERY;break;case PATH:if(i===EOF||"/"===i||"\\"===i&&a.isSpecial()||!t&&("?"===i||"#"===i)){if(isDoubleDot(u)?(a.shortenPath(),"/"===i||"\\"===i&&a.isSpecial()||push$1(a.path,"")):isSingleDot(u)?"/"===i||"\\"===i&&a.isSpecial()||push$1(a.path,""):("file"===a.scheme&&!a.path.length&&isWindowsDriveLetter(u)&&(a.host&&(a.host=""),u=charAt(u,0)+":"),push$1(a.path,u)),u="","file"===a.scheme&&(i===EOF||"?"===i||"#"===i))for(;a.path.length>1&&""===a.path[0];)shift(a.path);"?"===i?(a.query="",l=QUERY):"#"===i&&(a.fragment="",l=FRAGMENT)}else u+=percentEncode(i,pathPercentEncodeSet);break;case CANNOT_BE_A_BASE_URL_PATH:"?"===i?(a.query="",l=QUERY):"#"===i?(a.fragment="",l=FRAGMENT):i!==EOF&&(a.path[0]+=percentEncode(i,C0ControlPercentEncodeSet));break;case QUERY:t||"#"!==i?i!==EOF&&("'"===i&&a.isSpecial()?a.query+="%27":a.query+="#"===i?"%23":percentEncode(i,C0ControlPercentEncodeSet)):(a.fragment="",l=FRAGMENT);break;case FRAGMENT:i!==EOF&&(a.fragment+=percentEncode(i,fragmentPercentEncodeSet))}c++}},parseHost:function(e){var t,r,n;if("["===charAt(e,0)){if("]"!==charAt(e,e.length-1))return INVALID_HOST;if(!(t=parseIPv6(stringSlice$1(e,1,-1))))return INVALID_HOST;this.host=t}else if(this.isSpecial()){if(e=toASCII(e),exec(FORBIDDEN_HOST_CODE_POINT,e))return INVALID_HOST;if(null===(t=parseIPv4(e)))return INVALID_HOST;this.host=t}else{if(exec(FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT,e))return INVALID_HOST;for(t="",r=arrayFrom(e),n=0;n<r.length;n++)t+=percentEncode(r[n],C0ControlPercentEncodeSet);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"===this.scheme},includesCredentials:function(){return""!==this.username||""!==this.password},isSpecial:function(){return hasOwn$2(specialSchemes,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"===this.scheme&&1===t&&isWindowsDriveLetter(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,r=e.username,n=e.password,i=e.host,o=e.port,s=e.path,a=e.query,l=e.fragment,c=t+":";return null!==i?(c+="//",e.includesCredentials()&&(c+=r+(n?":"+n:"")+"@"),c+=serializeHost(i),null!==o&&(c+=":"+o)):"file"===t&&(c+="//"),c+=e.cannotBeABaseURL?s[0]:s.length?"/"+join(s,"/"):"",null!==a&&(c+="?"+a),null!==l&&(c+="#"+l),c},setHref:function(e){var t=this.parse(e);if(t)throw new TypeError$1(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"===e)try{return new URLConstructor(e.path[0]).origin}catch(error){return"null"}return"file"!==e&&this.isSpecial()?e+"://"+serializeHost(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse($toString(e)+":",SCHEME_START)},getUsername:function(){return this.username},setUsername:function(e){var t=arrayFrom($toString(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<t.length;r++)this.username+=percentEncode(t[r],userinfoPercentEncodeSet)}},getPassword:function(){return this.password},setPassword:function(e){var t=arrayFrom($toString(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<t.length;r++)this.password+=percentEncode(t[r],userinfoPercentEncodeSet)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?serializeHost(e):serializeHost(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,HOST)},getHostname:function(){var e=this.host;return null===e?"":serializeHost(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,HOSTNAME)},getPort:function(){var e=this.port;return null===e?"":$toString(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""===(e=$toString(e))?this.port=null:this.parse(e,PORT))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+join(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,PATH_START))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""===(e=$toString(e))?this.query=null:("?"===charAt(e,0)&&(e=stringSlice$1(e,1)),this.query="",this.parse(e,QUERY)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!==(e=$toString(e))?("#"===charAt(e,0)&&(e=stringSlice$1(e,1)),this.fragment="",this.parse(e,FRAGMENT)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var URLConstructor=function(e){var t=anInstance(this,URLPrototype),r=validateArgumentsLength$2(arguments.length,1)>1?arguments[1]:void 0,n=setInternalState$1(t,new URLState(e,!1,r));DESCRIPTORS$3||(t.href=n.serialize(),t.origin=n.getOrigin(),t.protocol=n.getProtocol(),t.username=n.getUsername(),t.password=n.getPassword(),t.host=n.getHost(),t.hostname=n.getHostname(),t.port=n.getPort(),t.pathname=n.getPathname(),t.search=n.getSearch(),t.searchParams=n.getSearchParams(),t.hash=n.getHash())},URLPrototype=URLConstructor.prototype,accessorDescriptor=function(e,t){return{get:function(){return getInternalURLState(this)[e]()},set:t&&function(e){return getInternalURLState(this)[t](e)},configurable:!0,enumerable:!0}};if(DESCRIPTORS$3&&(defineBuiltInAccessor$3(URLPrototype,"href",accessorDescriptor("serialize","setHref")),defineBuiltInAccessor$3(URLPrototype,"origin",accessorDescriptor("getOrigin")),defineBuiltInAccessor$3(URLPrototype,"protocol",accessorDescriptor("getProtocol","setProtocol")),defineBuiltInAccessor$3(URLPrototype,"username",accessorDescriptor("getUsername","setUsername")),defineBuiltInAccessor$3(URLPrototype,"password",accessorDescriptor("getPassword","setPassword")),defineBuiltInAccessor$3(URLPrototype,"host",accessorDescriptor("getHost","setHost")),defineBuiltInAccessor$3(URLPrototype,"hostname",accessorDescriptor("getHostname","setHostname")),defineBuiltInAccessor$3(URLPrototype,"port",accessorDescriptor("getPort","setPort")),defineBuiltInAccessor$3(URLPrototype,"pathname",accessorDescriptor("getPathname","setPathname")),defineBuiltInAccessor$3(URLPrototype,"search",accessorDescriptor("getSearch","setSearch")),defineBuiltInAccessor$3(URLPrototype,"searchParams",accessorDescriptor("getSearchParams")),defineBuiltInAccessor$3(URLPrototype,"hash",accessorDescriptor("getHash","setHash"))),defineBuiltIn$3(URLPrototype,"toJSON",(function(){return getInternalURLState(this).serialize()}),{enumerable:!0}),defineBuiltIn$3(URLPrototype,"toString",(function(){return getInternalURLState(this).serialize()}),{enumerable:!0}),NativeURL){var nativeCreateObjectURL=NativeURL.createObjectURL,nativeRevokeObjectURL=NativeURL.revokeObjectURL;nativeCreateObjectURL&&defineBuiltIn$3(URLConstructor,"createObjectURL",bind$1(nativeCreateObjectURL,NativeURL)),nativeRevokeObjectURL&&defineBuiltIn$3(URLConstructor,"revokeObjectURL",bind$1(nativeRevokeObjectURL,NativeURL))}setToStringTag(URLConstructor,"URL"),$$8({global:!0,constructor:!0,forced:!USE_NATIVE_URL,sham:!DESCRIPTORS$3},{URL:URLConstructor});var $$7=_export,call$1=functionCall;$$7({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return call$1(URL.prototype.toString,this)}});var defineBuiltIn$2=defineBuiltIn$f,uncurryThis$5=functionUncurryThis,toString$4=toString$g,validateArgumentsLength$1=validateArgumentsLength$5,$URLSearchParams$1=URLSearchParams,URLSearchParamsPrototype$2=$URLSearchParams$1.prototype,append=uncurryThis$5(URLSearchParamsPrototype$2.append),$delete=uncurryThis$5(URLSearchParamsPrototype$2.delete),forEach$2=uncurryThis$5(URLSearchParamsPrototype$2.forEach),push=uncurryThis$5([].push),params$1=new $URLSearchParams$1("a=1&a=2&b=3");params$1.delete("a",1),params$1.delete("b",void 0),params$1+""!="a=2"&&defineBuiltIn$2(URLSearchParamsPrototype$2,"delete",(function(e){var t=arguments.length,r=t<2?void 0:arguments[1];if(t&&void 0===r)return $delete(this,e);var n=[];forEach$2(this,(function(e,t){push(n,{key:t,value:e})})),validateArgumentsLength$1(t,1);for(var i,o=toString$4(e),s=toString$4(r),a=0,l=0,c=!1,u=n.length;a<u;)i=n[a++],c||i.key===o?(c=!0,$delete(this,i.key)):l++;for(;l<u;)(i=n[l++]).key===o&&i.value===s||append(this,i.key,i.value)}),{enumerable:!0,unsafe:!0});var defineBuiltIn$1=defineBuiltIn$f,uncurryThis$4=functionUncurryThis,toString$3=toString$g,validateArgumentsLength=validateArgumentsLength$5,$URLSearchParams=URLSearchParams,URLSearchParamsPrototype$1=$URLSearchParams.prototype,getAll=uncurryThis$4(URLSearchParamsPrototype$1.getAll),$has=uncurryThis$4(URLSearchParamsPrototype$1.has),params=new $URLSearchParams("a=1");!params.has("a",2)&&params.has("a",void 0)||defineBuiltIn$1(URLSearchParamsPrototype$1,"has",(function(e){var t=arguments.length,r=t<2?void 0:arguments[1];if(t&&void 0===r)return $has(this,e);var n=getAll(this,e);validateArgumentsLength(t,1);for(var i=toString$3(r),o=0;o<n.length;)if(n[o++]===i)return!0;return!1}),{enumerable:!0,unsafe:!0});var DESCRIPTORS$2=descriptors$1,uncurryThis$3=functionUncurryThis,defineBuiltInAccessor$2=defineBuiltInAccessor$c,URLSearchParamsPrototype=URLSearchParams.prototype,forEach$1=uncurryThis$3(URLSearchParamsPrototype.forEach);DESCRIPTORS$2&&!("size"in URLSearchParamsPrototype)&&defineBuiltInAccessor$2(URLSearchParamsPrototype,"size",{get:function(){var e=0;return forEach$1(this,(function(){e++})),e},configurable:!0,enumerable:!0});var $$6=_export,global$4=global$E;$$6({global:!0,forced:global$4.globalThis!==global$4},{globalThis:global$4});var $$5=_export,global$3=global$E,defineBuiltInAccessor$1=defineBuiltInAccessor$c,DESCRIPTORS$1=descriptors$1,$TypeError$1=TypeError,defineProperty$1=Object.defineProperty,INCORRECT_VALUE=global$3.self!==global$3;try{if(DESCRIPTORS$1){var descriptor=Object.getOwnPropertyDescriptor(global$3,"self");!INCORRECT_VALUE&&descriptor&&descriptor.get&&descriptor.enumerable||defineBuiltInAccessor$1(global$3,"self",{get:function(){return global$3},set:function(e){if(this!==global$3)throw new $TypeError$1("Illegal invocation");defineProperty$1(global$3,"self",{value:e,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}else $$5({global:!0,simple:!0,forced:INCORRECT_VALUE},{self:global$3})}catch(error){}function bind(e,t){return function(){return e.apply(t,arguments)}}const{toString:toString$2}=Object.prototype,{getPrototypeOf:getPrototypeOf}=Object,kindOf=(cache=Object.create(null),e=>{const t=toString$2.call(e);return cache[t]||(cache[t]=t.slice(8,-1).toLowerCase())});var cache;const kindOfTest=e=>(e=e.toLowerCase(),t=>kindOf(t)===e),typeOfTest=e=>t=>typeof t===e,{isArray:isArray$1}=Array,isUndefined=typeOfTest("undefined");function isBuffer$1(e){return null!==e&&!isUndefined(e)&&null!==e.constructor&&!isUndefined(e.constructor)&&isFunction(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&isArrayBuffer(e.buffer),t}const isString=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject=e=>null!==e&&"object"==typeof e,isBoolean=e=>!0===e||!1===e,isPlainObject=e=>{if("object"!==kindOf(e))return!1;const t=getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=e=>isObject(e)&&isFunction(e.pipe),isFormData=e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||isFunction(e.append)&&("formdata"===(t=kindOf(e))||"object"===t&&isFunction(e.toString)&&"[object FormData]"===e.toString()))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(e,t){let r,n,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!=e)if("object"!=typeof e&&(e=[e]),isArray$1(e))for(r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else{const n=i?Object.getOwnPropertyNames(e):Object.keys(e),o=n.length;let s;for(r=0;r<o;r++)s=n[r],t.call(null,e[s],s,e)}}function findKey(e,t){t=t.toLowerCase();const r=Object.keys(e);let n,i=r.length;for(;i-- >0;)if(n=r[i],t===n.toLowerCase())return n;return null}const _global="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,isContextDefined=e=>!isUndefined(e)&&e!==_global;function merge(){const{caseless:e}=isContextDefined(this)&&this||{},t={},r=(r,n)=>{const i=e&&findKey(t,n)||n;isPlainObject(t[i])&&isPlainObject(r)?t[i]=merge(t[i],r):isPlainObject(r)?t[i]=merge({},r):isArray$1(r)?t[i]=r.slice():t[i]=r};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&forEach(arguments[n],r);return t}const extend=function(e,t,r){let{allOwnKeys:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return forEach(t,((t,n)=>{r&&isFunction(t)?e[n]=bind(t,r):e[n]=t}),{allOwnKeys:n}),e},stripBOM=e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject=(e,t,r,n)=>{let i,o,s;const a={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)s=i[o],n&&!n(s,e,t)||a[s]||(t[s]=e[s],a[s]=!0);e=!1!==r&&getPrototypeOf(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},endsWith=(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return-1!==n&&n===r},toArray=e=>{if(!e)return null;if(isArray$1(e))return e;let t=e.length;if(!isNumber(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},isTypedArray=(TypedArray2="undefined"!=typeof Uint8Array&&getPrototypeOf(Uint8Array),e=>TypedArray2&&e instanceof TypedArray2);var TypedArray2;const forEachEntry=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let n;for(;(n=r.next())&&!n.done;){const r=n.value;t.call(e,r[0],r[1])}},matchAll=(e,t)=>{let r;const n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,r){return t.toUpperCase()+r})),hasOwnProperty=(e=>{let{hasOwnProperty:t}=e;return(e,r)=>t.call(e,r)})(Object.prototype),isRegExp$1=kindOfTest("RegExp"),reduceDescriptors=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};forEach(r,((r,i)=>{let o;!1!==(o=t(r,i,e))&&(n[i]=o||r)})),Object.defineProperties(e,n)},freezeMethods=e=>{reduceDescriptors(e,((t,r)=>{if(isFunction(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=e[r];isFunction(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))}))},toObjectSet=(e,t)=>{const r={},n=e=>{e.forEach((e=>{r[e]=!0}))};return isArray$1(e)?n(e):n(String(e).split(t)),r},noop=()=>{},toFiniteNumber=(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT:DIGIT,ALPHA:ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ALPHABET.ALPHA_DIGIT,r="";const{length:n}=t;for(;e--;)r+=t[Math.random()*n|0];return r};function isSpecCompliantForm(e){return!!(e&&isFunction(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])}const toJSONObject=e=>{const t=new Array(10),r=(e,n)=>{if(isObject(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const i=isArray$1(e)?[]:{};return forEach(e,((e,t)=>{const o=r(e,n+1);!isUndefined(o)&&(i[t]=o)})),t[n]=void 0,i}}return e};return r(e,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=e=>e&&(isObject(e)||isFunction(e))&&isFunction(e.then)&&isFunction(e.catch),utils$1={isArray:isArray$1,isArrayBuffer:isArrayBuffer,isBuffer:isBuffer$1,isFormData:isFormData,isArrayBufferView:isArrayBufferView,isString:isString,isNumber:isNumber,isBoolean:isBoolean,isObject:isObject,isPlainObject:isPlainObject,isReadableStream:isReadableStream,isRequest:isRequest,isResponse:isResponse,isHeaders:isHeaders,isUndefined:isUndefined,isDate:isDate,isFile:isFile,isBlob:isBlob,isRegExp:isRegExp$1,isFunction:isFunction,isStream:isStream,isURLSearchParams:isURLSearchParams,isTypedArray:isTypedArray,isFileList:isFileList,forEach:forEach,merge:merge,extend:extend,trim:trim,stripBOM:stripBOM,inherits:inherits,toFlatObject:toFlatObject,kindOf:kindOf,kindOfTest:kindOfTest,endsWith:endsWith,toArray:toArray,forEachEntry:forEachEntry,matchAll:matchAll,isHTMLForm:isHTMLForm,hasOwnProperty:hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors:reduceDescriptors,freezeMethods:freezeMethods,toObjectSet:toObjectSet,toCamelCase:toCamelCase,noop:noop,toFiniteNumber:toFiniteNumber,findKey:findKey,global:_global,isContextDefined:isContextDefined,ALPHABET:ALPHABET,generateString:generateString,isSpecCompliantForm:isSpecCompliantForm,toJSONObject:toJSONObject,isAsyncFn:isAsyncFn,isThenable:isThenable};var $$4=_export,toObject=toObject$d,lengthOfArrayLike=lengthOfArrayLike$g,setArrayLength=arraySetLength,deletePropertyOrThrow=deletePropertyOrThrow$2,doesNotExceedSafeInteger=doesNotExceedSafeInteger$2,INCORRECT_RESULT=1!==[].unshift(0),properErrorOnNonWritableLength=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(error){return error instanceof TypeError}},FORCED=INCORRECT_RESULT||!properErrorOnNonWritableLength();$$4({target:"Array",proto:!0,arity:1,forced:FORCED},{unshift:function(e){var t=toObject(this),r=lengthOfArrayLike(t),n=arguments.length;if(n){doesNotExceedSafeInteger(r+n);for(var i=r;i--;){var o=i+n;i in t?t[o]=t[i]:deletePropertyOrThrow(t,o)}for(var s=0;s<n;s++)t[s]=arguments[s]}return setArrayLength(t,r+n)}});var $$3=_export,DESCRIPTORS=descriptors$1,global$2=global$E,uncurryThis$2=functionUncurryThis,hasOwn$1=hasOwnProperty_1,isCallable=isCallable$r,isPrototypeOf=objectIsPrototypeOf,toString$1=toString$g,defineBuiltInAccessor=defineBuiltInAccessor$c,copyConstructorProperties=copyConstructorProperties$4,NativeSymbol=global$2.Symbol,SymbolPrototype=NativeSymbol&&NativeSymbol.prototype;if(DESCRIPTORS&&isCallable(NativeSymbol)&&(!("description"in SymbolPrototype)||void 0!==NativeSymbol().description)){var EmptyStringDescriptionStore={},SymbolWrapper=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:toString$1(arguments[0]),t=isPrototypeOf(SymbolPrototype,this)?new NativeSymbol(e):void 0===e?NativeSymbol():NativeSymbol(e);return""===e&&(EmptyStringDescriptionStore[t]=!0),t};copyConstructorProperties(SymbolWrapper,NativeSymbol),SymbolWrapper.prototype=SymbolPrototype,SymbolPrototype.constructor=SymbolWrapper;var NATIVE_SYMBOL="Symbol(description detection)"===String(NativeSymbol("description detection")),thisSymbolValue=uncurryThis$2(SymbolPrototype.valueOf),symbolDescriptiveString=uncurryThis$2(SymbolPrototype.toString),regexp=/^Symbol\((.*)\)[^)]+$/,replace=uncurryThis$2("".replace),stringSlice=uncurryThis$2("".slice);defineBuiltInAccessor(SymbolPrototype,"description",{configurable:!0,get:function(){var e=thisSymbolValue(this);if(hasOwn$1(EmptyStringDescriptionStore,e))return"";var t=symbolDescriptiveString(e),r=NATIVE_SYMBOL?stringSlice(t,7,-1):replace(t,regexp,"$1");return""===r?void 0:r}}),$$3({global:!0,constructor:!0,forced:!0},{Symbol:SymbolWrapper})}function AxiosError(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}utils$1.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{descriptors[e]={value:e}})),Object.defineProperties(AxiosError,descriptors),Object.defineProperty(prototype$1,"isAxiosError",{value:!0}),AxiosError.from=(e,t,r,n,i,o)=>{const s=Object.create(prototype$1);return utils$1.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),AxiosError.call(s,e.message,t,r,n,i),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};const httpAdapter=null;function isVisitable(e){return utils$1.isPlainObject(e)||utils$1.isArray(e)}function removeBrackets(e){return utils$1.endsWith(e,"[]")?e.slice(0,-2):e}function renderKey(e,t,r){return e?e.concat(t).map((function(e,t){return e=removeBrackets(e),!r&&t?"["+e+"]":e})).join(r?".":""):t}function isFlatArray(e){return utils$1.isArray(e)&&!e.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,(function(e){return/^is[A-Z]/.test(e)}));function toFormData(e,t,r){if(!utils$1.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(r=utils$1.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!utils$1.isUndefined(t[e])}))).metaTokens,i=r.visitor||c,o=r.dots,s=r.indexes,a=(r.Blob||"undefined"!=typeof Blob&&Blob)&&utils$1.isSpecCompliantForm(t);if(!utils$1.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(utils$1.isDate(e))return e.toISOString();if(!a&&utils$1.isBlob(e))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(e)||utils$1.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,r,i){let a=e;if(e&&!i&&"object"==typeof e)if(utils$1.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else if(utils$1.isArray(e)&&isFlatArray(e)||(utils$1.isFileList(e)||utils$1.endsWith(r,"[]"))&&(a=utils$1.toArray(e)))return r=removeBrackets(r),a.forEach((function(e,n){!utils$1.isUndefined(e)&&null!==e&&t.append(!0===s?renderKey([r],n,o):null===s?r:r+"[]",l(e))})),!1;return!!isVisitable(e)||(t.append(renderKey(i,r,o),l(e)),!1)}const u=[],h=Object.assign(predicates,{defaultVisitor:c,convertValue:l,isVisitable:isVisitable});if(!utils$1.isObject(e))throw new TypeError("data must be an object");return function e(r,n){if(!utils$1.isUndefined(r)){if(-1!==u.indexOf(r))throw Error("Circular reference detected in "+n.join("."));u.push(r),utils$1.forEach(r,(function(r,o){!0===(!(utils$1.isUndefined(r)||null===r)&&i.call(t,r,utils$1.isString(o)?o.trim():o,n,h))&&e(r,n?n.concat(o):[o])})),u.pop()}}(e),t}function encode$1(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function AxiosURLSearchParams(e,t){this._pairs=[],e&&toFormData(e,this,t)}const prototype=AxiosURLSearchParams.prototype;function encode(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(e,t,r){if(!t)return e;const n=r&&r.encode||encode,i=r&&r.serialize;let o;if(o=i?i(t,r):utils$1.isURLSearchParams(t)?t.toString():new AxiosURLSearchParams(t,r).toString(n),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}prototype.append=function(e,t){this._pairs.push([e,t])},prototype.toString=function(e){const t=e?function(t){return e.call(this,t,encode$1)}:encode$1;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};class InterceptorManager{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){utils$1.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}const InterceptorManager$1=InterceptorManager,transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1="undefined"!=typeof URLSearchParams?URLSearchParams:AxiosURLSearchParams,FormData$1="undefined"!=typeof FormData?FormData:null,Blob$1="undefined"!=typeof Blob?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv="undefined"!=typeof window&&"undefined"!=typeof document,hasStandardBrowserEnv=(product="undefined"!=typeof navigator&&navigator.product,hasBrowserEnv&&["ReactNative","NativeScript","NS"].indexOf(product)<0);var product;const hasStandardBrowserWebWorkerEnv="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:hasBrowserEnv,hasStandardBrowserEnv:hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv:hasStandardBrowserWebWorkerEnv,origin:origin},Symbol.toStringTag,{value:"Module"}));function ownKeys$p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$p(Object(r),!0).forEach((function(t){_defineProperty$1(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const platform=_objectSpread$p(_objectSpread$p({},utils),platform$1);function toURLEncodedForm(e,t){return toFormData(e,new platform.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,n){return platform.isNode&&utils$1.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}var $$2=_export,call=functionCall,uncurryThis$1=functionUncurryThisClause,createIteratorConstructor=iteratorCreateConstructor,createIterResultObject=createIterResultObject$4,requireObjectCoercible=requireObjectCoercible$7,toLength=toLength$7,toString=toString$g,anObject=anObject$i,isNullOrUndefined=isNullOrUndefined$6,classof=classofRaw$2,isRegExp=isRegexp,getRegExpFlags=regexpGetFlags,getMethod=getMethod$5,defineBuiltIn=defineBuiltIn$f,fails=fails$B,wellKnownSymbol$1=wellKnownSymbol$o,speciesConstructor=speciesConstructor$3,advanceStringIndex=advanceStringIndex$2,regExpExec=regexpExecAbstract,InternalStateModule=internalState,IS_PURE=isPure,MATCH_ALL=wellKnownSymbol$1("matchAll"),REGEXP_STRING="RegExp String",REGEXP_STRING_ITERATOR=REGEXP_STRING+" Iterator",setInternalState=InternalStateModule.set,getInternalState=InternalStateModule.getterFor(REGEXP_STRING_ITERATOR),RegExpPrototype=RegExp.prototype,$TypeError=TypeError,stringIndexOf=uncurryThis$1("".indexOf),nativeMatchAll=uncurryThis$1("".matchAll),WORKS_WITH_NON_GLOBAL_REGEX=!!nativeMatchAll&&!fails((function(){nativeMatchAll("a",/./)})),$RegExpStringIterator=createIteratorConstructor((function(e,t,r,n){setInternalState(this,{type:REGEXP_STRING_ITERATOR,regexp:e,string:t,global:r,unicode:n,done:!1})}),REGEXP_STRING,(function(){var e=getInternalState(this);if(e.done)return createIterResultObject(void 0,!0);var t=e.regexp,r=e.string,n=regExpExec(t,r);return null===n?(e.done=!0,createIterResultObject(void 0,!0)):e.global?(""===toString(n[0])&&(t.lastIndex=advanceStringIndex(r,toLength(t.lastIndex),e.unicode)),createIterResultObject(n,!1)):(e.done=!0,createIterResultObject(n,!1))})),$matchAll=function(e){var t,r,n,i=anObject(this),o=toString(e),s=speciesConstructor(i,RegExp),a=toString(getRegExpFlags(i));return t=new s(s===RegExp?i.source:i,a),r=!!~stringIndexOf(a,"g"),n=!!~stringIndexOf(a,"u"),t.lastIndex=toLength(i.lastIndex),new $RegExpStringIterator(t,o,r,n)};function parsePropPath(e){return utils$1.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}function arrayToObject(e){const t={},r=Object.keys(e);let n;const i=r.length;let o;for(n=0;n<i;n++)o=r[n],t[o]=e[o];return t}function formDataToJSON(e){function t(e,r,n,i){let o=e[i++];if("__proto__"===o)return!0;const s=Number.isFinite(+o),a=i>=e.length;if(o=!o&&utils$1.isArray(n)?n.length:o,a)return utils$1.hasOwnProp(n,o)?n[o]=[n[o],r]:n[o]=r,!s;n[o]&&utils$1.isObject(n[o])||(n[o]=[]);return t(e,r,n[o],i)&&utils$1.isArray(n[o])&&(n[o]=arrayToObject(n[o])),!s}if(utils$1.isFormData(e)&&utils$1.isFunction(e.entries)){const r={};return utils$1.forEachEntry(e,((e,n)=>{t(parsePropPath(e),n,r,0)})),r}return null}function stringifySafely(e,t,r){if(utils$1.isString(e))try{return(t||JSON.parse)(e),utils$1.trim(e)}catch(n){if("SyntaxError"!==n.name)throw n}return(r||JSON.stringify)(e)}$$2({target:"String",proto:!0,forced:WORKS_WITH_NON_GLOBAL_REGEX},{matchAll:function(e){var t,r,n,i=requireObjectCoercible(this);if(isNullOrUndefined(e)){if(WORKS_WITH_NON_GLOBAL_REGEX)return nativeMatchAll(i,e)}else{if(isRegExp(e)&&(t=toString(requireObjectCoercible(getRegExpFlags(e))),!~stringIndexOf(t,"g")))throw new $TypeError("`.matchAll` does not allow non-global regexes");if(WORKS_WITH_NON_GLOBAL_REGEX)return nativeMatchAll(i,e);if(void 0===(n=getMethod(e,MATCH_ALL))&&IS_PURE&&"RegExp"===classof(e)&&(n=$matchAll),n)return call(n,e,i)}return r=toString(i),new RegExp(e,"g")[MATCH_ALL](r)}}),MATCH_ALL in RegExpPrototype||defineBuiltIn(RegExpPrototype,MATCH_ALL,$matchAll);const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",n=r.indexOf("application/json")>-1,i=utils$1.isObject(e);i&&utils$1.isHTMLForm(e)&&(e=new FormData(e));if(utils$1.isFormData(e))return n?JSON.stringify(formDataToJSON(e)):e;if(utils$1.isArrayBuffer(e)||utils$1.isBuffer(e)||utils$1.isStream(e)||utils$1.isFile(e)||utils$1.isBlob(e)||utils$1.isReadableStream(e))return e;if(utils$1.isArrayBufferView(e))return e.buffer;if(utils$1.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(e,this.formSerializer).toString();if((o=utils$1.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return toFormData(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||n?(t.setContentType("application/json",!1),stringifySafely(e)):e}],transformResponse:[function(e){const t=this.transitional||defaults.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(utils$1.isResponse(e)||utils$1.isReadableStream(e))return e;if(e&&utils$1.isString(e)&&(r&&!this.responseType||n)){const r=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(i){if(r){if("SyntaxError"===i.name)throw AxiosError.from(i,AxiosError.ERR_BAD_RESPONSE,this,null,this.response);throw i}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],(e=>{defaults.headers[e]={}}));const defaults$1=defaults,ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=e=>{const t={};let r,n,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),r=e.substring(0,i).trim().toLowerCase(),n=e.substring(i+1).trim(),!r||t[r]&&ignoreDuplicateOf[r]||("set-cookie"===r?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)})),t},$internals=Symbol("internals");function normalizeHeader(e){return e&&String(e).trim().toLowerCase()}function normalizeValue(e){return!1===e||null==e?e:utils$1.isArray(e)?e.map(normalizeValue):String(e)}function parseTokens(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const isValidHeaderName=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function matchHeaderValue(e,t,r,n,i){return utils$1.isFunction(n)?n.call(this,t,r):(i&&(t=r),utils$1.isString(t)?utils$1.isString(n)?-1!==t.indexOf(n):utils$1.isRegExp(n)?n.test(t):void 0:void 0)}function formatHeader(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,r)=>t.toUpperCase()+r))}function buildAccessors(e,t){const r=utils$1.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+r,{value:function(e,r,i){return this[n].call(this,t,e,r,i)},configurable:!0})}))}class AxiosHeaders{constructor(e){e&&this.set(e)}set(e,t,r){const n=this;function i(e,t,r){const i=normalizeHeader(t);if(!i)throw new Error("header name must be a non-empty string");const o=utils$1.findKey(n,i);(!o||void 0===n[o]||!0===r||void 0===r&&!1!==n[o])&&(n[o||t]=normalizeValue(e))}const o=(e,t)=>utils$1.forEach(e,((e,r)=>i(e,r,t)));if(utils$1.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(utils$1.isString(e)&&(e=e.trim())&&!isValidHeaderName(e))o(parseHeaders(e),t);else if(utils$1.isHeaders(e))for(const[s,a]of e.entries())i(a,s,r);else null!=e&&i(t,e,r);return this}get(e,t){if(e=normalizeHeader(e)){const r=utils$1.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return parseTokens(e);if(utils$1.isFunction(t))return t.call(this,e,r);if(utils$1.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=normalizeHeader(e)){const r=utils$1.findKey(this,e);return!(!r||void 0===this[r]||t&&!matchHeaderValue(this,this[r],r,t))}return!1}delete(e,t){const r=this;let n=!1;function i(e){if(e=normalizeHeader(e)){const i=utils$1.findKey(r,e);!i||t&&!matchHeaderValue(r,r[i],i,t)||(delete r[i],n=!0)}}return utils$1.isArray(e)?e.forEach(i):i(e),n}clear(e){const t=Object.keys(this);let r=t.length,n=!1;for(;r--;){const i=t[r];e&&!matchHeaderValue(this,this[i],i,e,!0)||(delete this[i],n=!0)}return n}normalize(e){const t=this,r={};return utils$1.forEach(this,((n,i)=>{const o=utils$1.findKey(r,i);if(o)return t[o]=normalizeValue(n),void delete t[i];const s=e?formatHeader(i):String(i).trim();s!==i&&delete t[i],t[s]=normalizeValue(n),r[s]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return utils$1.forEach(this,((r,n)=>{null!=r&&!1!==r&&(t[n]=e&&utils$1.isArray(r)?r.join(", "):r)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,r]=e;return t+": "+r})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return n.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[$internals]=this[$internals]={accessors:{}}).accessors,r=this.prototype;function n(e){const n=normalizeHeader(e);t[n]||(buildAccessors(r,e),t[n]=!0)}return utils$1.isArray(e)?e.forEach(n):n(e),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),utils$1.reduceDescriptors(AxiosHeaders.prototype,((e,t)=>{let{value:r}=e,n=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(e){this[n]=e}}})),utils$1.freezeMethods(AxiosHeaders);const AxiosHeaders$1=AxiosHeaders;function transformData(e,t){const r=this||defaults$1,n=t||r,i=AxiosHeaders$1.from(n.headers);let o=n.data;return utils$1.forEach(e,(function(e){o=e.call(r,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function isCancel(e){return!(!e||!e.__CANCEL__)}function CanceledError(e,t,r){AxiosError.call(this,null==e?"canceled":e,AxiosError.ERR_CANCELED,t,r),this.name="CanceledError"}function settle(e,t,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new AxiosError("Request failed with status code "+r.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}function parseProtocol(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function speedometer(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i,o=0,s=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=n[s];i||(i=l),r[o]=a,n[o]=l;let u=s,h=0;for(;u!==o;)h+=r[u++],u%=e;if(o=(o+1)%e,o===s&&(s=(s+1)%e),l-i<t)return;const d=c&&l-c;return d?Math.round(1e3*h/d):void 0}}function throttle(e,t){let r=0;const n=1e3/t;let i=null;return function(){const t=!0===this,o=Date.now();if(t||o-r>n)return i&&(clearTimeout(i),i=null),r=o,e.apply(null,arguments);i||(i=setTimeout((()=>(i=null,r=Date.now(),e.apply(null,arguments))),n-(o-r)))}}utils$1.inherits(CanceledError,AxiosError,{__CANCEL__:!0});const progressEventReducer=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=0;const i=speedometer(50,250);return throttle((r=>{const o=r.loaded,s=r.lengthComputable?r.total:void 0,a=o-n,l=i(a);n=o;const c={loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&o<=s?(s-o)/l:void 0,event:r,lengthComputable:null!=s};c[t?"download":"upload"]=!0,e(c)}),r)},isURLSameOrigin=platform.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let r;function n(r){let n=r;return e&&(t.setAttribute("href",n),n=t.href),t.setAttribute("href",n),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return r=n(window.location.href),function(e){const t=utils$1.isString(e)?n(e):e;return t.protocol===r.protocol&&t.host===r.host}}():function(){return!0},cookies=platform.hasStandardBrowserEnv?{write(e,t,r,n,i,o){const s=[e+"="+encodeURIComponent(t)];utils$1.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),utils$1.isString(n)&&s.push("path="+n),utils$1.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function isAbsoluteURL(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function combineURLs(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function buildFullPath(e,t){return e&&!isAbsoluteURL(t)?combineURLs(e,t):t}function ownKeys$o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$o(Object(r),!0).forEach((function(t){_defineProperty$1(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const headersToObject=e=>e instanceof AxiosHeaders$1?_objectSpread$o({},e):e;function mergeConfig(e,t){t=t||{};const r={};function n(e,t,r){return utils$1.isPlainObject(e)&&utils$1.isPlainObject(t)?utils$1.merge.call({caseless:r},e,t):utils$1.isPlainObject(t)?utils$1.merge({},t):utils$1.isArray(t)?t.slice():t}function i(e,t,r){return utils$1.isUndefined(t)?utils$1.isUndefined(e)?void 0:n(void 0,e,r):n(e,t,r)}function o(e,t){if(!utils$1.isUndefined(t))return n(void 0,t)}function s(e,t){return utils$1.isUndefined(t)?utils$1.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function a(r,i,o){return o in t?n(r,i):o in e?n(void 0,r):void 0}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t)=>i(headersToObject(e),headersToObject(t),!0)};return utils$1.forEach(Object.keys(Object.assign({},e,t)),(function(n){const o=l[n]||i,s=o(e[n],t[n],n);utils$1.isUndefined(s)&&o!==a||(r[n]=s)})),r}const resolveConfig=e=>{const t=mergeConfig({},e);let r,{data:n,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:s,headers:a,auth:l}=t;if(t.headers=a=AxiosHeaders$1.from(a),t.url=buildURL(buildFullPath(t.baseURL,t.url),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),utils$1.isFormData(n))if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(r=a.getContentType())){const[e,...t]=r?r.split(";").map((e=>e.trim())).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if(platform.hasStandardBrowserEnv&&(i&&utils$1.isFunction(i)&&(i=i(t)),i||!1!==i&&isURLSameOrigin(t.url))){const e=o&&s&&cookies.read(s);e&&a.set(o,e)}return t},isXHRAdapterSupported="undefined"!=typeof XMLHttpRequest,xhrAdapter=isXHRAdapterSupported&&function(e){return new Promise((function(t,r){const n=resolveConfig(e);let i=n.data;const o=AxiosHeaders$1.from(n.headers).normalize();let s,{responseType:a}=n;function l(){n.cancelToken&&n.cancelToken.unsubscribe(s),n.signal&&n.signal.removeEventListener("abort",s)}let c=new XMLHttpRequest;function u(){if(!c)return;const n=AxiosHeaders$1.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders());settle((function(e){t(e),l()}),(function(e){r(e),l()}),{data:a&&"text"!==a&&"json"!==a?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:n,config:e,request:c}),c=null}c.open(n.method.toUpperCase(),n.url,!0),c.timeout=n.timeout,"onloadend"in c?c.onloadend=u:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(u)},c.onabort=function(){c&&(r(new AxiosError("Request aborted",AxiosError.ECONNABORTED,n,c)),c=null)},c.onerror=function(){r(new AxiosError("Network Error",AxiosError.ERR_NETWORK,n,c)),c=null},c.ontimeout=function(){let e=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const t=n.transitional||transitionalDefaults;n.timeoutErrorMessage&&(e=n.timeoutErrorMessage),r(new AxiosError(e,t.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,n,c)),c=null},void 0===i&&o.setContentType(null),"setRequestHeader"in c&&utils$1.forEach(o.toJSON(),(function(e,t){c.setRequestHeader(t,e)})),utils$1.isUndefined(n.withCredentials)||(c.withCredentials=!!n.withCredentials),a&&"json"!==a&&(c.responseType=n.responseType),"function"==typeof n.onDownloadProgress&&c.addEventListener("progress",progressEventReducer(n.onDownloadProgress,!0)),"function"==typeof n.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",progressEventReducer(n.onUploadProgress)),(n.cancelToken||n.signal)&&(s=t=>{c&&(r(!t||t.type?new CanceledError(null,e,c):t),c.abort(),c=null)},n.cancelToken&&n.cancelToken.subscribe(s),n.signal&&(n.signal.aborted?s():n.signal.addEventListener("abort",s)));const h=parseProtocol(n.url);h&&-1===platform.protocols.indexOf(h)?r(new AxiosError("Unsupported protocol "+h+":",AxiosError.ERR_BAD_REQUEST,e)):c.send(i||null)}))},composeSignals=(e,t)=>{let r,n=new AbortController;const i=function(e){if(!r){r=!0,s();const t=e instanceof Error?e:this.reason;n.abort(t instanceof AxiosError?t:new CanceledError(t instanceof Error?t.message:t))}};let o=t&&setTimeout((()=>{i(new AxiosError("timeout ".concat(t," of ms exceeded"),AxiosError.ETIMEDOUT))}),t);const s=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach((e=>{e&&(e.removeEventListener?e.removeEventListener("abort",i):e.unsubscribe(i))})),e=null)};e.forEach((e=>e&&e.addEventListener&&e.addEventListener("abort",i)));const{signal:a}=n;return a.unsubscribe=s,[a,()=>{o&&clearTimeout(o),o=null}]},composeSignals$1=composeSignals;function _OverloadYield(e,t){this.v=e,this.k=t}function _wrapAsyncGenerator(e){return function(){return new AsyncGenerator(e.apply(this,arguments))}}function AsyncGenerator(e){var t,r;function n(t,r){try{var o=e[t](r),s=o.value,a=s instanceof _OverloadYield;Promise.resolve(a?s.v:s).then((function(r){if(a){var l="return"===t?"return":"next";if(!s.k||r.done)return n(l,r);r=e[l](r).value}i(o.done?"return":"normal",r)}),(function(e){n("throw",e)}))}catch(l){i("throw",l)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?n(t.key,t.arg):r=null}this._invoke=function(e,i){return new Promise((function(o,s){var a={key:e,arg:i,resolve:o,reject:s,next:null};r?r=r.next=a:(t=r=a,n(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function _awaitAsyncGenerator(e){return new _OverloadYield(e,0)}function _asyncGeneratorDelegate(e){var t={},r=!1;function n(t,n){return r=!0,{done:!1,value:new _OverloadYield(n=new Promise((function(r){r(e[t](n))})),1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return r?(r=!1,e):n("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(r)throw r=!1,e;return n("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return r?(r=!1,e):n("return",e)}),t}AsyncGenerator.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},AsyncGenerator.prototype.next=function(e){return this._invoke("next",e)},AsyncGenerator.prototype.throw=function(e){return this._invoke("throw",e)},AsyncGenerator.prototype.return=function(e){return this._invoke("return",e)};var global$1=global$E,path$1=global$1,wellKnownSymbolWrapped={},wellKnownSymbol=wellKnownSymbol$o;wellKnownSymbolWrapped.f=wellKnownSymbol;var path=path$1,hasOwn=hasOwnProperty_1,wrappedWellKnownSymbolModule=wellKnownSymbolWrapped,defineProperty=objectDefineProperty.f,wellKnownSymbolDefine=function(e){var t=path.Symbol||(path.Symbol={});hasOwn(t,e)||defineProperty(t,e,{value:wrappedWellKnownSymbolModule.f(e)})},defineWellKnownSymbol=wellKnownSymbolDefine;function _asyncIterator(e){var t,r,n,i=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);i--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new AsyncFromSyncIterator(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function AsyncFromSyncIterator(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return(AsyncFromSyncIterator=function(e){this.s=e,this.n=e.next}).prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new AsyncFromSyncIterator(e)}defineWellKnownSymbol("asyncIterator");const streamChunk=function*(e,t){let r=e.byteLength;if(!t||r<t)return void(yield e);let n,i=0;for(;i<r;)n=i+t,yield e.slice(i,n),i=n},readBytes=function(){var e=_wrapAsyncGenerator((function*(e,t,r){var n,i=!1,o=!1;try{for(var s,a=_asyncIterator(e);i=!(s=yield _awaitAsyncGenerator(a.next())).done;i=!1){const e=s.value;yield*__yieldStar(_asyncGeneratorDelegate(_asyncIterator(streamChunk(ArrayBuffer.isView(e)?e:yield _awaitAsyncGenerator(r(String(e))),t)),_awaitAsyncGenerator))}}catch(l){o=!0,n=l}finally{try{i&&null!=a.return&&(yield _awaitAsyncGenerator(a.return()))}finally{if(o)throw n}}}));return function(t,r,n){return e.apply(this,arguments)}}(),trackStream=(e,t,r,n,i)=>{const o=readBytes(e,t,i);let s=0;return new ReadableStream({type:"bytes",pull(e){return __async2(this,null,(function*(){const{done:t,value:i}=yield o.next();if(t)return e.close(),void n();let a=i.byteLength;r&&r(s+=a),e.enqueue(new Uint8Array(i))}))},cancel:e=>(n(e),o.return())},{highWaterMark:2})};function ownKeys$n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$n(Object(r),!0).forEach((function(t){_defineProperty$1(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const fetchProgressDecorator=(e,t)=>{const r=null!=e;return n=>setTimeout((()=>t({lengthComputable:r,total:e,loaded:n})))},isFetchSupported="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,isReadableStreamSupported=isFetchSupported&&"function"==typeof ReadableStream,encodeText=isFetchSupported&&("function"==typeof TextEncoder?(encoder=new TextEncoder,e=>encoder.encode(e)):e=>__async2(this,null,(function*(){return new Uint8Array(yield new Response(e).arrayBuffer())})));var encoder;const supportsRequestStream=isReadableStreamSupported&&(()=>{let e=!1;const t=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})(),DEFAULT_CHUNK_SIZE=65536,supportsResponseStream=isReadableStreamSupported&&!!(()=>{try{return utils$1.isReadableStream(new Response("").body)}catch(e){}})(),resolvers={stream:supportsResponseStream&&(e=>e.body)};var res;isFetchSupported&&(res=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!resolvers[e]&&(resolvers[e]=utils$1.isFunction(res[e])?t=>t[e]():(t,r)=>{throw new AxiosError("Response type '".concat(e,"' is not supported"),AxiosError.ERR_NOT_SUPPORT,r)})})));const getBodyLength=e=>__async2(this,null,(function*(){return null==e?0:utils$1.isBlob(e)?e.size:utils$1.isSpecCompliantForm(e)?(yield new Request(e).arrayBuffer()).byteLength:utils$1.isArrayBufferView(e)?e.byteLength:(utils$1.isURLSearchParams(e)&&(e+=""),utils$1.isString(e)?(yield encodeText(e)).byteLength:void 0)})),resolveBodyLength=(e,t)=>__async2(this,null,(function*(){const r=utils$1.toFiniteNumber(e.getContentLength());return null==r?getBodyLength(t):r})),fetchAdapter=isFetchSupported&&(e=>__async2(this,null,(function*(){let{url:t,method:r,data:n,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:h="same-origin",fetchOptions:d}=resolveConfig(e);c=c?(c+"").toLowerCase():"text";let p,f,[y,g]=i||o||s?composeSignals$1([i,o],s):[];const v=()=>{!p&&setTimeout((()=>{y&&y.unsubscribe()})),p=!0};let m;try{if(l&&supportsRequestStream&&"get"!==r&&"head"!==r&&0!==(m=yield resolveBodyLength(u,n))){let e,r=new Request(t,{method:"POST",body:n,duplex:"half"});utils$1.isFormData(n)&&(e=r.headers.get("content-type"))&&u.setContentType(e),r.body&&(n=trackStream(r.body,DEFAULT_CHUNK_SIZE,fetchProgressDecorator(m,progressEventReducer(l)),null,encodeText))}utils$1.isString(h)||(h=h?"cors":"omit"),f=new Request(t,_objectSpread$n(_objectSpread$n({},d),{},{signal:y,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",withCredentials:h}));let i=yield fetch(f);const o=supportsResponseStream&&("stream"===c||"response"===c);if(supportsResponseStream&&(a||o)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=i[t]}));const t=utils$1.toFiniteNumber(i.headers.get("content-length"));i=new Response(trackStream(i.body,DEFAULT_CHUNK_SIZE,a&&fetchProgressDecorator(t,progressEventReducer(a,!0)),o&&v,encodeText),e)}c=c||"text";let s=yield resolvers[utils$1.findKey(resolvers,c)||"text"](i,e);return!o&&v(),g&&g(),yield new Promise(((t,r)=>{settle(t,r,{data:s,headers:AxiosHeaders$1.from(i.headers),status:i.status,statusText:i.statusText,config:e,request:f})}))}catch(_){if(v(),_&&"TypeError"===_.name&&/fetch/i.test(_.message))throw Object.assign(new AxiosError("Network Error",AxiosError.ERR_NETWORK,e,f),{cause:_.cause||_});throw AxiosError.from(_,_&&_.code,e,f)}}))),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$1.forEach(knownAdapters,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(r){}Object.defineProperty(e,"adapterName",{value:t})}}));const renderReason=e=>"- ".concat(e),isResolvedHandle=e=>utils$1.isFunction(e)||null===e||!1===e,adapters={getAdapter:e=>{e=utils$1.isArray(e)?e:[e];const{length:t}=e;let r,n;const i={};for(let o=0;o<t;o++){let t;if(r=e[o],n=r,!isResolvedHandle(r)&&(n=knownAdapters[(t=String(r)).toLowerCase()],void 0===n))throw new AxiosError("Unknown adapter '".concat(t,"'"));if(n)break;i[t||"#"+o]=n}if(!n){const e=Object.entries(i).map((e=>{let[t,r]=e;return"adapter ".concat(t," ")+(!1===r?"is not supported by the environment":"is not available in the build")}));throw new AxiosError("There is no suitable adapter to dispatch the request "+(t?e.length>1?"since :\n"+e.map(renderReason).join("\n"):" "+renderReason(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return n},adapters:knownAdapters};function throwIfCancellationRequested(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new CanceledError(null,e)}function dispatchRequest(e){throwIfCancellationRequested(e),e.headers=AxiosHeaders$1.from(e.headers),e.data=transformData.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return adapters.getAdapter(e.adapter||defaults$1.adapter)(e).then((function(t){return throwIfCancellationRequested(e),t.data=transformData.call(e,e.transformResponse,t),t.headers=AxiosHeaders$1.from(t.headers),t}),(function(t){return isCancel(t)||(throwIfCancellationRequested(e),t&&t.response&&(t.response.data=transformData.call(e,e.transformResponse,t.response),t.response.headers=AxiosHeaders$1.from(t.response.headers))),Promise.reject(t)}))}const VERSION="1.7.2",validators$1={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{validators$1[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));const deprecatedWarnings={};function assertOptions(e,t,r){if("object"!=typeof e)throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const o=n[i],s=t[o];if(s){const t=e[o],r=void 0===t||s(t,o,e);if(!0!==r)throw new AxiosError("option "+o+" must be "+r,AxiosError.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new AxiosError("Unknown option "+o,AxiosError.ERR_BAD_OPTION)}}validators$1.transitional=function(e,t,r){function n(e,t){return"[Axios v"+VERSION+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,i,o)=>{if(!1===e)throw new AxiosError(n(i," has been removed"+(t?" in "+t:"")),AxiosError.ERR_DEPRECATED);return t&&!deprecatedWarnings[i]&&(deprecatedWarnings[i]=!0,console.warn(n(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,i,o)}};const validator={assertOptions:assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor(e){this.defaults=e,this.interceptors={request:new InterceptorManager$1,response:new InterceptorManager$1}}request(e,t){return __async2(this,null,(function*(){try{return yield this._request(e,t)}catch(r){if(r instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{r.stack?t&&!String(r.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(r.stack+="\n"+t):r.stack=t}catch(n){}}throw r}}))}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=mergeConfig(this.defaults,t);const{transitional:r,paramsSerializer:n,headers:i}=t;void 0!==r&&validator.assertOptions(r,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),null!=n&&(utils$1.isFunction(n)?t.paramsSerializer={serialize:n}:validator.assertOptions(n,{encode:validators.function,serialize:validators.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&utils$1.merge(i.common,i[t.method]);i&&utils$1.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=AxiosHeaders$1.concat(o,i);const s=[];let a=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,h=0;if(!a){const e=[dispatchRequest.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);h<u;)c=c.then(e[h++],e[h++]);return c}u=s.length;let d=t;for(h=0;h<u;){const e=s[h++],t=s[h++];try{d=e(d)}catch(error){t.call(this,error);break}}try{c=dispatchRequest.call(this,d)}catch(error){return Promise.reject(error)}for(h=0,u=l.length;h<u;)c=c.then(l[h++],l[h++]);return c}getUri(e){return buildURL(buildFullPath((e=mergeConfig(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}utils$1.forEach(["delete","get","head","options"],(function(e){Axios.prototype[e]=function(t,r){return this.request(mergeConfig(r||{},{method:e,url:t,data:(r||{}).data}))}})),utils$1.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,i){return this.request(mergeConfig(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}Axios.prototype[e]=t(),Axios.prototype[e+"Form"]=t(!0)}));const Axios$1=Axios;class CancelToken{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const r=this;this.promise.then((e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null})),this.promise.then=e=>{let t;const n=new Promise((e=>{r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e,n,i){r.reason||(r.reason=new CanceledError(e,n,i),t(r.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new CancelToken((function(t){e=t})),cancel:e}}}const CancelToken$1=CancelToken;function spread(e){return function(t){return e.apply(null,t)}}function isAxiosError(e){return utils$1.isObject(e)&&!0===e.isAxiosError}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach((e=>{let[t,r]=e;HttpStatusCode[r]=t}));const HttpStatusCode$1=HttpStatusCode;function createInstance(e){const t=new Axios$1(e),r=bind(Axios$1.prototype.request,t);return utils$1.extend(r,Axios$1.prototype,t,{allOwnKeys:!0}),utils$1.extend(r,t,null,{allOwnKeys:!0}),r.create=function(t){return createInstance(mergeConfig(e,t))},r}const axios=createInstance(defaults$1);axios.Axios=Axios$1,axios.CanceledError=CanceledError,axios.CancelToken=CancelToken$1,axios.isCancel=isCancel,axios.VERSION=VERSION,axios.toFormData=toFormData,axios.AxiosError=AxiosError,axios.Cancel=axios.CanceledError,axios.all=function(e){return Promise.all(e)},axios.spread=spread,axios.isAxiosError=isAxiosError,axios.mergeConfig=mergeConfig,axios.AxiosHeaders=AxiosHeaders$1,axios.formToJSON=e=>formDataToJSON(utils$1.isHTMLForm(e)?new FormData(e):e),axios.getAdapter=adapters.getAdapter,axios.HttpStatusCode=HttpStatusCode$1,axios.default=axios;const axios$1=axios,version="3.0.31";function ownKeys$m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$m(Object(r),!0).forEach((function(t){_defineProperty$1(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const fetcher=axios$1.create({withCredentials:!1,headers:{"Access-Control-Allow-Origin":"*"},timeout:6e4});function checkStatus(e){const{status:t,data:r,data:{data:n,code:i},headers:o}=e;if(t>=200&&t<300){if(!r)return Promise.resolve(!0);const e=Number(i);return r.code=e,r._headers=o,200!==e?Promise.reject(r):n}return Promise.reject({status:t,data:r,headers:o})}fetcher.interceptors.request.use((e=>{const{headers:t={},params:r,data:n}=e,i=Date.now();return e.headers.set(_objectSpread$m(_objectSpread$m({},t),{},{token:getUserToken()})),e.params=_objectSpread$m(_objectSpread$m({},r),{},{sdkVersion:version,_:i}),e.data=_objectSpread$m(_objectSpread$m({},n),{},{_:i}),e}),(e=>Promise.reject(e)));const request=e=>__async2(this,null,(function*(){return fetcher.request(_objectSpread$m({},e))}));fetcher.interceptors.response.use((e=>checkStatus(e)),(e=>Promise.reject(e)));const pointFCUpload=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return request({method:"POST",url:"".concat(bfe,"/monitor/web/collect/batch"),data:e,params:t,headers:r})},pointCLogUpload=(e,t)=>request({method:"GET",url:t,params:e}),videoUrl$4="".concat(video,"/api/videoplayerprod"),timeout=5e3,getInteractiveConfigDetail=(e,t)=>request({method:"GET",url:"".concat(videoUrl$4,"/videoplayer/getInteractiveConfigDetail"),timeout:timeout,params:{interactiveConfigId:e,videoBizCode:t}}),submitAnswer=e=>request({method:"POST",url:"".concat(videoUrl$4,"/videoplayer/submitAnswer"),timeout:timeout,data:e}),getUserInfo=()=>request({method:"GET",url:"".concat(web,"/api/usercenter/user/info")});function ownKeys$l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$l(Object(r),!0).forEach((function(t){_defineProperty$1(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const videoUrl$3="".concat(video,"/api/videoplayerprod"),getInternalVideoInfo=e=>request({method:"GET",url:"".concat(videoUrl$3,"/videoplayer/getInternalVideoInfo"),params:e,timeout:6e3}),getExternalVideoInfo=e=>request({method:"GET",url:"".concat(videoUrl$3,"/videoplayer/getExternalVideoInfo"),params:e,timeout:6e3}),getVideoInfo=(e,t)=>{if(hostInfo.isFront)return getExternalVideoInfo(_objectSpread$l({videoBizCode:e},t));const r=t;return r.internalVideoInfo?Promise.resolve(r.internalVideoInfo):getInternalVideoInfo(_objectSpread$l({videoBizCode:e},r))},getPlayerGlobalConf=e=>request({method:"GET",url:"".concat(videoUrl$3,"/videoplayer/getPlayerGlobalConf"),params:{videoBizCode:e},timeout:6e3}),playbackProgress=e=>{const t="".concat(bfe,"/video/playbackProgress"),r=new FormData;if(r.append("userId",String(e.userId)),r.append("lessonId",String(e.lessonId)),r.append("playedProgress",String(e.playedProgress)),r.append("videoBizCode",e.videoBizCode),navigator.sendBeacon){navigator.sendBeacon(t,r)||request({method:"POST",url:t,data:e,timeout:6e3})}else request({method:"POST",url:t,data:e,timeout:6e3})},videoUrl$2="".concat(video,"/api/videoplayerprod"),videoHeaderPlayCallBack=e=>request({method:"POST",url:"".concat(videoUrl$2,"/videoplayer/videoHeaderPlayCallBack"),data:e}),videoUrl$1="".concat(video,"/api/videoplayerprod"),postFeedbackInfo=e=>request({method:"POST",url:"".concat(videoUrl$1,"/videoplayer/resource/addFeedback"),data:e});var $$1=_export,uncurryThis=functionUncurryThis,isArray=isArray$5,nativeReverse=uncurryThis([].reverse),test=[1,2];let getRandomValues;$$1({target:"Array",proto:!0,forced:String(test)===String(test.reverse())},{reverse:function(){return isArray(this)&&(this.length=this.length),nativeReverse(this)}});const rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const byteToHex=[];for(let o=0;o<256;++o)byteToHex.push((o+256).toString(16).slice(1));function unsafeStringify(e,t=0){return byteToHex[e[t+0]]+byteToHex[e[t+1]]+byteToHex[e[t+2]]+byteToHex[e[t+3]]+"-"+byteToHex[e[t+4]]+byteToHex[e[t+5]]+"-"+byteToHex[e[t+6]]+byteToHex[e[t+7]]+"-"+byteToHex[e[t+8]]+byteToHex[e[t+9]]+"-"+byteToHex[e[t+10]]+byteToHex[e[t+11]]+byteToHex[e[t+12]]+byteToHex[e[t+13]]+byteToHex[e[t+14]]+byteToHex[e[t+15]]}const randomUUID="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),native={randomUUID:randomUUID};function v4(e,t,r){if(native.randomUUID&&!t&&!e)return native.randomUUID();const n=(e=e||{}).random||(e.rng||rng)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=n[e];return t}return unsafeStringify(n)}var RETRIEVE_CREDENTIALS_API_URL="https://gateway.ewt360.com/fs/credentials/token",REPORT_FILE_INFO_API_URL="https://gateway.ewt360.com/fs/upload/complete";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys$k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$k(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _regeneratorRuntime(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
_regeneratorRuntime=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function a(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{a({},"")}catch(C){a=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i,o,s,a,l=t&&t.prototype instanceof h?t:h,d=Object.create(l.prototype),p=new $(n||[]);return d._invoke=(i=e,o=r,s=p,a="suspendedStart",function(e,t){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===e)throw t;return{value:void 0,done:!0}}for(s.method=e,s.arg=t;;){var r=s.delegate;if(r){var n=b(r,s);if(n){if(n===u)continue;return n}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if("suspendedStart"===a)throw a="completed",s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);a="executing";var l=c(i,o,s);if("normal"===l.type){if(a=s.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:s.done}}"throw"===l.type&&(a="completed",s.method="throw",s.arg=l.arg)}}),d}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(C){return{type:"throw",arg:C}}}e.wrap=l;var u={};function h(){}function d(){}function p(){}var f={};a(f,i,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(S([])));g&&g!==t&&r.call(g,i)&&(f=g);var v=p.prototype=h.prototype=Object.create(f);function m(e){["next","throw","return"].forEach((function(t){a(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(i,o,s,a){var l=c(e[i],e,o);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==_typeof(h)&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(h).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,a)}))}a(l.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function $(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function S(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:w}}function w(){return{value:void 0,done:!0}}return d.prototype=p,a(v,"constructor",p),a(p,"constructor",d),d.displayName=a(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,a(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},m(_.prototype),a(_.prototype,o,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var s=new _(l(t,r,n,i),o);return e.isGeneratorFunction(r)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},m(v),a(v,s,"Generator"),a(v,i,(function(){return this})),a(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,$.prototype={constructor:$,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return s.type="throw",s.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(a&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;T(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function asyncGeneratorStep(e,t,r,n,i,o,s){try{var a=e[o](s),l=a.value}catch(error){return void r(error)}a.done?t(l):Promise.resolve(l).then(n,i)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){asyncGeneratorStep(o,n,i,s,a,"next",e)}function a(e){asyncGeneratorStep(o,n,i,s,a,"throw",e)}s(void 0)}))}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ACLEnum={PUBLIC_READ_WRITE:"public-read-write",PUBLIC_READ:"public-read",PRIVATE:"private"},MULTIPART_UPLOAD_THRESHOLD_IN_BYTES=1e11,DEFAULT_REGION="oss-cn-hangzhou",DEFAULT_BUCKET="ewt-infrastructure",EWTFileService=function(){function e(t){_classCallCheck(this,e),_defineProperty(this,"appName",void 0),_defineProperty(this,"expire",900),_defineProperty(this,"refreshPeriod",10),_defineProperty(this,"timeout",6e4),_defineProperty(this,"prefix",""),_defineProperty(this,"timeOffset",0),_defineProperty(this,"credentials",void 0),_defineProperty(this,"bucket",void 0),_defineProperty(this,"region",void 0),_defineProperty(this,"cdnBaseUrl",void 0),_defineProperty(this,"ossClient",void 0),_defineProperty(this,"uploadQueue",[]),this.appName=t.appName,this.bucket=t.bucket||DEFAULT_BUCKET,this.region=t.region||DEFAULT_REGION,t.expire&&(this.expire=t.expire),t.refreshPeriod&&t.refreshPeriod<this.expire&&(this.refreshPeriod=t.refreshPeriod),t.timeout&&"number"==typeof t.timeout&&(this.timeout=1e3*t.timeout),this.initOSSClient()}var t,r,n,i,o,s;return _createClass(e,[{key:"initOSSClient",value:(s=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,r,n,i,o,s,a=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.retrieveAliyunCredentials();case 2:if(t=e.sent,!(Date.now()+this.timeOffset>=new Date(t.expiration).getTime()-1e3*this.refreshPeriod)){e.next=7;break}return e.next=6,this.retrieveAliyunCredentials(!0);case 6:t=e.sent;case 7:if(n=(r=t).accessKeyId,i=r.accessKeySecret,o=r.securityToken,n){e.next=10;break}throw new Error("Aliyun OSS credentials is required");case 10:s=new window.OSS({bucket:this.bucket,region:this.region,accessKeyId:n,accessKeySecret:i,stsToken:o,refreshSTSToken:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.retrieveAliyunCredentials(!0);case 2:return t=e.sent,e.abrupt("return",{accessKeyId:t.accessKeyId,accessKeySecret:t.accessKeySecret,stsToken:t.securityToken});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),refreshSTSTokenInterval:1e3*(this.expire-this.refreshPeriod),timeout:this.timeout}),this.ossClient=s;case 12:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"retrieveAliyunCredentials",value:(o=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,r,n,i,o,s,a,l=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>0&&void 0!==l[0]&&l[0],i={appName:this.appName,bucket:this.bucket,expire:this.expire,ts:Date.now()},n&&(i.force=n),e.next=5,axios$1.get(RETRIEVE_CREDENTIALS_API_URL,{params:i});case 5:if(o=e.sent,!(s=null==o||null===(t=o.data)||void 0===t?void 0:t.data)||null==o||null===(r=o.data)||void 0===r||!r.success){e.next=16;break}return this.bucket=s.bucket,this.prefix=s.prefix,this.region=s.region,this.timeOffset=s.ts-Date.now(),this.cdnBaseUrl=s.cdnBaseUrl,e.abrupt("return",s.credentials);case 16:throw new Error("An error occurred when retrieve Aliyun OSS credentials: ".concat(null==o||null===(a=o.data)||void 0===a?void 0:a.msg));case 17:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"upload",value:(i=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r){var n,i,o,s,a,l,c=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>2&&void 0!==c[2]?c[2]:{},this.ossClient){e.next=4;break}return e.next=4,this.initOSSClient();case 4:if(!this.ossClient){e.next=33;break}if(e.t0=r,e.t0){e.next=10;break}return e.next=9,this.generateObjectName(t.name);case 9:e.t0=e.sent;case 10:if(i=e.t0,o=n.multipart||t.size>=MULTIPART_UPLOAD_THRESHOLD_IN_BYTES,a=null,l=null,!o){e.next=22;break}return e.next=17,this.multipartUpload(i,t,{headers:_objectSpread$k(_objectSpread$k({},n.headers),{},{"x-oss-object-acl":n.acl||"private","x-oss-forbid-overwrite":!0}),progress:n.progress});case 17:s=e.sent,a=s.name,l=this.ossClient.generateObjectUrl(a),e.next=27;break;case 22:return e.next=24,this.ossClient.put(i,t,{headers:_objectSpread$k(_objectSpread$k({},n.headers),{},{"x-oss-object-acl":n.acl||"private","x-oss-forbid-overwrite":!0})});case 24:s=e.sent,a=s.name,l=s.url;case 27:if(this.reportFileInfo(l,t.size),!this.cdnBaseUrl){e.next=30;break}return e.abrupt("return",this.ossClient.getObjectUrl(s.name,this.cdnBaseUrl));case 30:return e.abrupt("return",l);case 33:throw new Error("OSS client is not initialized");case 34:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"multipartUpload",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r){var n,i,o,s=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>2&&void 0!==s[2]?s[2]:{},i=function(e,t){console.log("Multipart upload progress: ",e),console.log("Multipart upload checkpoint: ",t)},e.next=4,this.ossClient.multipartUpload(t,r,{progress:n.progress||i,parallel:4,partSize:1048576,headers:n.headers});case 4:return o=e.sent,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"reportFileInfo",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={appName:this.appName,bucket:this.bucket,url:t,size:r},axios$1.post(REPORT_FILE_INFO_API_URL,n);case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"generateObjectName",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var r,n,i,o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null===(r=/(?:\.([^.]+))?$/.exec(t))||void 0===r?void 0:r[1],i=new Date,o="".concat(this.prefix).concat(i.getFullYear(),"/").concat(i.getMonth()+1,"/").concat(i.getDate(),"/").concat(v4()),n&&(o+=".".concat(n)),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}();const options={appName:"mst-player",bucket:"ewt-infrastructure",expire:1800,refreshPeriod:900};let _client=null;const getClient=()=>__async2(this,null,(function*(){try{_client||(yield loadScript("".concat("https://cdn.ewt360.com/resources/app/prod/mst-video-player/dist/","js/aliyun-oss-sdk.6.21.0.min.js")),_client=new EWTFileService(options))}catch(e){console.error("初始化文件上传失败",e)}return _client})),uploadFile=e=>__async2(this,null,(function*(){try{const t=yield getClient();if(!t)return Promise.reject("初始化文件上传失败");return yield t.upload(e,"",{acl:ACLEnum.PUBLIC_READ,multipart:!1})}catch(t){return Promise.reject((null==t?void 0:t.message)||"上传失败")}}));let initPromise=null;const initUploadClient=()=>{initPromise||(initPromise=getClient())};function defineGlobalValue(e,t,r){Object.defineProperty(e,t,{writable:!0,enumerable:!0,configurable:!0,value:r})}function defineGlobal(e,t,r,n){n?n((()=>{defineGlobalValue(e,t,r)})):defineGlobalValue(e,t,r)}Array(32);class WebTracker{constructor(e){var t,r;this.timer=null,this.time=10,this.count=10,this.arr=[],this.time=null!=(t=e.time)?t:10,this.count=null!=(r=e.count)?r:10,e.host.startsWith("http://")||e.host.startsWith("https://")?this.url=e.host+"/logstores/"+e.logstore+"/track":this.url="https://"+e.project+"."+e.host+"/logstores/"+e.logstore+"/track",this.opt=e,e.installUnloadHook&&"function"==typeof e.installUnloadHook&&e.installUnloadHook((()=>{this.sendImmediateInner()}))}assemblePayload(e){const t={__logs__:e};return this.opt.tags&&(t.__tags__=this.opt.tags),this.opt.topic&&(t.__topic__=this.opt.topic),this.opt.source&&(t.__source__=this.opt.source),JSON.stringify(t)}platformSend(){if(this.opt.sendPayload&&"function"==typeof this.opt.sendPayload){const e=this.assemblePayload(this.arr);this.opt.sendPayload(this.url,e)}}transString(e){let t={};for(let r in e)"object"==typeof e[r]?t[r]=JSON.stringify(e[r]):t[r]=String(e[r]);return t}sendImmediateInner(){this.arr&&this.arr.length>0&&(this.platformSend(),null!=this.timer&&(clearTimeout(this.timer),this.timer=null),this.arr=[])}sendInner(){if(this.timer)this.arr.length>=this.count&&(clearTimeout(this.timer),this.timer=null,this.sendImmediateInner());else{const e=this;this.arr.length>=this.count||this.time<=0?this.sendImmediateInner():this.timer=setTimeout((function(){e.sendImmediateInner()}),1e3*this.time)}}send(e){const t=this.transString(e);this.arr.push(t),this.sendInner()}sendImmediate(e){const t=this.transString(e);this.arr.push(t),this.sendImmediateInner()}sendBatchLogs(e){const t=e.map((e=>this.transString(e)));this.arr.push(...t),this.sendInner()}sendBatchLogsImmediate(e){const t=e.map((e=>this.transString(e)));this.arr.push(...t),this.sendImmediateInner()}overwriteTransString(e){this.transString=e.transString}getOpt(){return this.opt}}var __async=(e,t,r)=>new Promise(((n,i)=>{var o=e=>{try{a(r.next(e))}catch(t){i(t)}},s=e=>{try{a(r.throw(e))}catch(t){i(t)}},a=e=>e.done?n(e.value):Promise.resolve(e.value).then(o,s);a((r=r.apply(e,t)).next())}));function sendBeacon(e,t){return!(!navigator||!navigator.sendBeacon)&&navigator.sendBeacon("".concat(e,"?APIVersion=0.6.0"),t)}function sendUseXhr(e,t){const r=new window.XMLHttpRequest;r.open("POST","".concat(e,"?APIVersion=0.6.0"),!0),r.send(t)}function send(e,t){try{if(t.length>=32768)return void sendUseXhr(e,t);sendBeacon(e,t)||sendUseXhr(e,t)}catch(r){window&&window.console&&"function"==typeof window.console.error&&(console.error("Failed to log to ali log service because of this exception:\n"+r),console.error("Failed log data:",e))}}function sendPutlog(e,t,r){return __async(this,null,(function*(){try{e=e.slice(0,-6);const{data:n,header:i}=yield r.process(e,t),o=new window.XMLHttpRequest;o.open("POST",e,!0);for(let e in i)o.setRequestHeader(e,i[e]);o.send(n)}catch(error){window&&window.console&&"function"==typeof window.console.error&&(console.error("Failed to log to ali log service because of this exception:\n"+error),console.error("Failed log data:",e))}}))}class WebTrackerBrowser extends WebTracker{constructor(e){super(Object.assign({},e,{installUnloadHook:e=>{window.addEventListener("beforeunload",(()=>{e()}))},sendPayload:(e,t)=>{send(e,t)}}))}useStsPlugin(e){this.getOpt().sendPayload=(t,r)=>{sendPutlog(t,r,e)},this.overwriteTransString(e)}}defineGlobal(window,"SLS_Tracker",WebTrackerBrowser);const e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,t=Object.keys,n=Array.isArray;function r(e,r){return"object"!=typeof r||t(r).forEach((function(t){e[t]=r[t]})),e}"undefined"==typeof Promise||e.Promise||(e.Promise=Promise);const s=Object.getPrototypeOf,i={}.hasOwnProperty;function o$1(e,t){return i.call(e,t)}function a(e,r){"function"==typeof r&&(r=r(s(e))),("undefined"==typeof Reflect?t:Reflect.ownKeys)(r).forEach((t=>{l(e,t,r[t])}))}const u=Object.defineProperty;function l(e,t,n,i){u(e,t,r(n&&o$1(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},i))}function c(e){return{from:function(t){return e.prototype=Object.create(t.prototype),l(e.prototype,"constructor",e),{extend:a.bind(null,e.prototype)}}}}const h=Object.getOwnPropertyDescriptor;function d(e,t){let r;return h(e,t)||(r=s(e))&&d(r,t)}const f=[].slice;function p(e,t,r){return f.call(e,t,r)}function y(e,t){return t(e)}function m(e){if(!e)throw new Error("Assertion Failed")}function v(t){e.setImmediate?setImmediate(t):setTimeout(t,0)}function g(e,t){return e.reduce(((e,r,n)=>{var i=t(r,n);return i&&(e[i[0]]=i[1]),e}),{})}function b(e,t){if("string"==typeof t&&o$1(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var r=[],n=0,i=t.length;n<i;++n){var o=b(e,t[n]);r.push(o)}return r}var s=t.indexOf(".");if(-1!==s){var a=e[t.substr(0,s)];return null==a?void 0:b(a,t.substr(s+1))}}function _(e,t,r){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){m("string"!=typeof r&&"length"in r);for(var i=0,o=t.length;i<o;++i)_(e,t[i],r[i])}else{var s=t.indexOf(".");if(-1!==s){var a=t.substr(0,s),l=t.substr(s+1);if(""===l)void 0===r?n(e)&&!isNaN(parseInt(a))?e.splice(a,1):delete e[a]:e[a]=r;else{var c=e[a];c&&o$1(e,a)||(c=e[a]={}),_(c,l,r)}}else void 0===r?n(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=r}}function w(e){var t={};for(var r in e)o$1(e,r)&&(t[r]=e[r]);return t}const x=[].concat;function k(e){return x.apply([],e)}const E="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(k([8,16,32,64].map((e=>["Int","Uint","Float"].map((t=>t+e+"Array")))))).filter((t=>e[t])),P=E.map((t=>e[t]));g(E,(e=>[e,!0]));let K=null;function O(e){K="undefined"!=typeof WeakMap&&new WeakMap;const t=S(e);return K=null,t}function S(e){if(!e||"object"!=typeof e)return e;let t=K&&K.get(e);if(t)return t;if(n(e)){t=[],K&&K.set(e,t);for(var r=0,i=e.length;r<i;++r)t.push(S(e[r]))}else if(P.indexOf(e.constructor)>=0)t=e;else{const r=s(e);for(var o in t=r===Object.prototype?{}:Object.create(r),K&&K.set(e,t),e)o$1(e,o)&&(t[o]=S(e[o]))}return t}const{toString:A}={};function C(e){return A.call(e).slice(8,-1)}const j="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",D="symbol"==typeof j?function(e){var t;return null!=e&&(t=e[j])&&t.apply(e)}:function(){return null},I={};function B(e){var t,r,i,o;if(1===arguments.length){if(n(e))return e.slice();if(this===I&&"string"==typeof e)return[e];if(o=D(e)){for(r=[];!(i=o.next()).done;)r.push(i.value);return r}if(null==e)return[e];if("number"==typeof(t=e.length)){for(r=new Array(t);t--;)r[t]=e[t];return r}return[e]}for(t=arguments.length,r=new Array(t);t--;)r[t]=arguments[t];return r}const T="undefined"!=typeof Symbol?e=>"AsyncFunction"===e[Symbol.toStringTag]:()=>!1;var R="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function F(e,t){R=e,M=t}var M=()=>!0;const N=!new Error("").stack;function q(){if(N)try{throw q.arguments,new Error}catch(e){return e}return new Error}function $(e,t){var r=e.stack;return r?(t=t||0,0===r.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),r.split("\n").slice(t).filter(M).map((e=>"\n"+e)).join("")):""}var U=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],L=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(U),V={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function W(e,t){this._e=q(),this.name=e,this.message=t}function Y(e,t){return e+". Errors: "+Object.keys(t).map((e=>t[e].toString())).filter(((e,t,r)=>r.indexOf(e)===t)).join("\n")}function z(e,t,r,n){this._e=q(),this.failures=t,this.failedKeys=n,this.successCount=r,this.message=Y(e,t)}function G(e,t){this._e=q(),this.name="BulkError",this.failures=Object.keys(t).map((e=>t[e])),this.failuresByPos=t,this.message=Y(e,t)}c(W).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+$(this._e,2))}},toString:function(){return this.name+": "+this.message}}),c(z).from(W),c(G).from(W);var H=L.reduce(((e,t)=>(e[t]=t+"Error",e)),{});const Q=W;var X=L.reduce(((e,t)=>{var r=t+"Error";function n(e,n){this._e=q(),this.name=r,e?"string"==typeof e?(this.message="".concat(e).concat(n?"\n "+n:""),this.inner=n||null):"object"==typeof e&&(this.message="".concat(e.name," ").concat(e.message),this.inner=e):(this.message=V[t]||r,this.inner=null)}return c(n).from(Q),e[t]=n,e}),{});X.Syntax=SyntaxError,X.Type=TypeError,X.Range=RangeError;var J=U.reduce(((e,t)=>(e[t+"Error"]=X[t],e)),{}),Z=L.reduce(((e,t)=>(-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=X[t]),e)),{});function ee(){}function te(e){return e}function ne(e,t){return null==e||e===te?t:function(r){return t(e(r))}}function re(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function se(e,t){return e===ee?t:function(){var r=e.apply(this,arguments);void 0!==r&&(arguments[0]=r);var n=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return n&&(this.onsuccess=this.onsuccess?re(n,this.onsuccess):n),i&&(this.onerror=this.onerror?re(i,this.onerror):i),void 0!==o?o:r}}function ie(e,t){return e===ee?t:function(){e.apply(this,arguments);var r=this.onsuccess,n=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),r&&(this.onsuccess=this.onsuccess?re(r,this.onsuccess):r),n&&(this.onerror=this.onerror?re(n,this.onerror):n)}}function oe(e,t){return e===ee?t:function(n){var i=e.apply(this,arguments);r(n,i);var o=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?re(o,this.onsuccess):o),s&&(this.onerror=this.onerror?re(s,this.onerror):s),void 0===i?void 0===a?void 0:a:r(i,a)}}function ae(e,t){return e===ee?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function ue(e,t){return e===ee?t:function(){var r=e.apply(this,arguments);if(r&&"function"==typeof r.then){for(var n=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return r.then((function(){return t.apply(n,o)}))}return t.apply(this,arguments)}}Z.ModifyError=z,Z.DexieError=W,Z.BulkError=G;var le={};const ce=100,[he,de,fe]="undefined"==typeof Promise?[]:(()=>{let e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,s(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,s(t),e]})(),pe=de&&de.then,ye=he&&he.constructor,me=!!fe;var ve=!1,ge=fe?()=>{fe.then($e)}:e.setImmediate?setImmediate.bind(null,$e):e.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver((()=>{$e(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout($e,0)},be=function(e,t){Se.push([e,t]),we&&(ge(),we=!1)},_e=!0,we=!0,xe=[],ke=[],Ee=null,Pe=te,Ke={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:dt,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((e=>{try{dt(e[0],e[1])}catch(t){}}))}},Oe=Ke,Se=[],Ae=0,Ce=[];function je(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=ee,this._lib=!1;var t=this._PSD=Oe;if(R&&(this._stackHolder=q(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==le)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Te(this,this._value))}this._state=null,this._value=null,++t.ref,Be(this,e)}const De={get:function(){var e=Oe,t=Xe;function r(r,n){var i=!e.global&&(e!==Oe||t!==Xe);const o=i&&!tt();var s=new je(((t,s)=>{Fe(this,new Ie(lt(r,e,i,o),lt(n,e,i,o),t,s,e))}));return R&&qe(s,this),s}return r.prototype=le,r},set:function(e){l(this,"then",e&&e.prototype===le?De:{get:function(){return e},set:De.set})}};function Ie(e,t,r,n,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=r,this.reject=n,this.psd=i}function Be(e,t){try{t((t=>{if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&Ue();t&&"function"==typeof t.then?Be(e,((e,r)=>{t instanceof je?t._then(e,r):t.then(e,r)})):(e._state=!0,e._value=t,Re(e)),r&&Le()}}),Te.bind(null,e))}catch(r){Te(e,r)}}function Te(e,t){if(ke.push(t),null===e._state){var r=e._lib&&Ue();t=Pe(t),e._state=!1,e._value=t,R&&null!==t&&"object"==typeof t&&!t._promise&&function(r,n,i){try{(()=>{var r=d(t,"stack");t._promise=e,l(t,"stack",{get:()=>ve?r&&(r.get?r.get.apply(t):r.value):e.stack})}).apply(null,void 0)}catch(o){}}(),n=e,xe.some((e=>e._value===n._value))||xe.push(n),Re(e),r&&Le()}var n}function Re(e){var t=e._listeners;e._listeners=[];for(var r=0,n=t.length;r<n;++r)Fe(e,t[r]);var i=e._PSD;--i.ref||i.finalize(),0===Ae&&(++Ae,be((()=>{0==--Ae&&Ve()}),[]))}function Fe(e,t){if(null!==e._state){var r=e._state?t.onFulfilled:t.onRejected;if(null===r)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Ae,be(Me,[r,e,t])}else e._listeners.push(t)}function Me(e,t,r){try{Ee=t;var n,i=t._value;t._state?n=e(i):(ke.length&&(ke=[]),n=e(i),-1===ke.indexOf(i)&&function(e){for(var t=xe.length;t;)if(xe[--t]._value===e._value)return void xe.splice(t,1)}(t)),r.resolve(n)}catch(o){r.reject(o)}finally{Ee=null,0==--Ae&&Ve(),--r.psd.ref||r.psd.finalize()}}function Ne(e,t,r){if(t.length===r)return t;var n="";if(!1===e._state){var i,o,s=e._value;null!=s?(i=s.name||"Error",o=s.message||s,n=$(s,0)):(i=s,o=""),t.push(i+(o?": "+o:"")+n)}return R&&((n=$(e._stackHolder,2))&&-1===t.indexOf(n)&&t.push(n),e._prev&&Ne(e._prev,t,r)),t}function qe(e,t){var r=t?t._numPrev+1:0;r<100&&(e._prev=t,e._numPrev=r)}function $e(){Ue()&&Le()}function Ue(){var e=_e;return _e=!1,we=!1,e}function Le(){var e,t,r;do{for(;Se.length>0;)for(e=Se,Se=[],r=e.length,t=0;t<r;++t){var n=e[t];n[0].apply(null,n[1])}}while(Se.length>0);_e=!0,we=!0}function Ve(){var e=xe;xe=[],e.forEach((e=>{e._PSD.onunhandled.call(null,e._value,e)}));for(var t=Ce.slice(0),r=t.length;r;)t[--r]()}function We(e){return new je(le,!1,e)}function Ye(e,t){var r=Oe;return function(){var n=Ue(),i=Oe;try{return it(r,!0),e.apply(this,arguments)}catch(o){t&&t(o)}finally{it(i,!1),n&&Le()}}}a(je.prototype,{then:De,_then:function(e,t){Fe(this,new Ie(null,null,e,t,Oe))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],r=arguments[1];return"function"==typeof t?this.then(null,(e=>e instanceof t?r(e):We(e))):this.then(null,(e=>e&&e.name===t?r(e):We(e)))},finally:function(e){return this.then((t=>(e(),t)),(t=>(e(),We(t))))},stack:{get:function(){if(this._stack)return this._stack;try{ve=!0;var e=Ne(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{ve=!1}}},timeout:function(e,t){return e<1/0?new je(((r,n)=>{var i=setTimeout((()=>n(new X.Timeout(t))),e);this.then(r,n).finally(clearTimeout.bind(null,i))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&l(je.prototype,Symbol.toStringTag,"Dexie.Promise"),Ke.env=ot(),a(je,{all:function(){var e=B.apply(null,arguments).map(nt);return new je((function(t,r){0===e.length&&t([]);var n=e.length;e.forEach(((i,o)=>je.resolve(i).then((r=>{e[o]=r,--n||t(e)}),r)))}))},resolve:e=>{if(e instanceof je)return e;if(e&&"function"==typeof e.then)return new je(((t,r)=>{e.then(t,r)}));var t=new je(le,!0,e);return qe(t,Ee),t},reject:We,race:function(){var e=B.apply(null,arguments).map(nt);return new je(((t,r)=>{e.map((e=>je.resolve(e).then(t,r)))}))},PSD:{get:()=>Oe,set:e=>Oe=e},totalEchoes:{get:()=>Xe},newPSD:Ze,usePSD:at,scheduler:{get:()=>be,set:e=>{be=e}},rejectionMapper:{get:()=>Pe,set:e=>{Pe=e}},follow:(e,t)=>new je(((r,n)=>Ze(((t,r)=>{var n=Oe;n.unhandleds=[],n.onunhandled=r,n.finalize=re((function(){var e;e=()=>{0===this.unhandleds.length?t():r(this.unhandleds[0])},Ce.push((function t(){e(),Ce.splice(Ce.indexOf(t),1)})),++Ae,be((()=>{0==--Ae&&Ve()}),[])}),n.finalize),e()}),t,r,n)))}),ye&&(ye.allSettled&&l(je,"allSettled",(function(){const e=B.apply(null,arguments).map(nt);return new je((t=>{0===e.length&&t([]);let r=e.length;const n=new Array(r);e.forEach(((e,i)=>je.resolve(e).then((e=>n[i]={status:"fulfilled",value:e}),(e=>n[i]={status:"rejected",reason:e})).then((()=>--r||t(n)))))}))})),ye.any&&"undefined"!=typeof AggregateError&&l(je,"any",(function(){const e=B.apply(null,arguments).map(nt);return new je(((t,r)=>{0===e.length&&r(new AggregateError([]));let n=e.length;const i=new Array(n);e.forEach(((e,o)=>je.resolve(e).then((e=>t(e)),(e=>{i[o]=e,--n||r(new AggregateError(i))}))))}))})));const ze={awaits:0,echoes:0,id:0};var Ge=0,He=[],Qe=0,Xe=0,Je=0;function Ze(e,t,n,i){var o=Oe,s=Object.create(o);s.parent=o,s.ref=0,s.global=!1,s.id=++Je;var a=Ke.env;s.env=me?{Promise:je,PromiseProp:{value:je,configurable:!0,writable:!0},all:je.all,race:je.race,allSettled:je.allSettled,any:je.any,resolve:je.resolve,reject:je.reject,nthen:ct(a.nthen,s),gthen:ct(a.gthen,s)}:{},t&&r(s,t),++o.ref,s.finalize=function(){--this.parent.ref||this.parent.finalize()};var l=at(s,e,n,i);return 0===s.ref&&s.finalize(),l}function et(){return ze.id||(ze.id=++Ge),++ze.awaits,ze.echoes+=ce,ze.id}function tt(){return!!ze.awaits&&(0==--ze.awaits&&(ze.id=0),ze.echoes=ze.awaits*ce,!0)}function nt(e){return ze.echoes&&e&&e.constructor===ye?(et(),e.then((e=>(tt(),e)),(e=>(tt(),ft(e))))):e}function rt(e){++Xe,ze.echoes&&0!=--ze.echoes||(ze.echoes=ze.id=0),He.push(Oe),it(e,!0)}function st(){var e=He[He.length-1];He.pop(),it(e,!1)}function it(t,r){var n=Oe;if((r?!ze.echoes||Qe++&&t===Oe:!Qe||--Qe&&t===Oe)||ut(r?rt.bind(null,t):st),t!==Oe&&(Oe=t,n===Ke&&(Ke.env=ot()),me)){var i=Ke.env.Promise,o=t.env;de.then=o.nthen,i.prototype.then=o.gthen,(n.global||t.global)&&(Object.defineProperty(e,"Promise",o.PromiseProp),i.all=o.all,i.race=o.race,i.resolve=o.resolve,i.reject=o.reject,o.allSettled&&(i.allSettled=o.allSettled),o.any&&(i.any=o.any))}}function ot(){var t=e.Promise;return me?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(e,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:de.then,gthen:t.prototype.then}:{}}function at(e,t,r,n,i){var o=Oe;try{return it(e,!0),t(r,n,i)}finally{it(o,!1)}}function ut(e){pe.call(he,e)}function lt(e,t,r,n){return"function"!=typeof e?e:function(){var i=Oe;r&&et(),it(t,!0);try{return e.apply(this,arguments)}finally{it(i,!1),n&&ut(tt)}}}function ct(e,t){return function(r,n){return e.call(this,lt(r,t),lt(n,t))}}-1===(""+pe).indexOf("[native code]")&&(et=tt=ee);const ht="unhandledrejection";function dt(t,n){var i;try{i=n.onuncatched(t)}catch(a){}if(!1!==i)try{var o,s={promise:n,reason:t};if(e.document&&document.createEvent?((o=document.createEvent("Event")).initEvent(ht,!0,!0),r(o,s)):e.CustomEvent&&r(o=new CustomEvent(ht,{detail:s}),s),o&&e.dispatchEvent&&(dispatchEvent(o),!e.PromiseRejectionEvent&&e.onunhandledrejection))try{e.onunhandledrejection(o)}catch(a){}R&&o&&!o.defaultPrevented&&console.warn("Unhandled rejection: ".concat(t.stack||t))}catch(a){}}var ft=je.reject;function pt(e,t,r,n){if(e.idbdb&&(e._state.openComplete||Oe.letThrough||e._vip)){var i=e._createTransaction(t,r,e._dbSchema);try{i.create(),e._state.PR1398_maxLoop=3}catch(o){return o.name===H.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((()=>pt(e,t,r,n)))):ft(o)}return i._promise(t,((e,t)=>Ze((()=>(Oe.trans=i,n(e,t,i)))))).then((e=>i._completion.then((()=>e))))}if(e._state.openComplete)return ft(new X.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return ft(new X.DatabaseClosed);e.open().catch(ee)}return e._state.dbReadyPromise.then((()=>pt(e,t,r,n)))}const yt="3.2.7",mt=String.fromCharCode(65535),vt=-1/0,gt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",bt="String expected.",_t=[],wt="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),xt=wt,kt=wt,Et=e=>!/(dexie\.js|dexie\.min\.js)/.test(e),Pt="__dbnames",Kt="readonly",Ot="readwrite";function St(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const At={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ct(e){return"string"!=typeof e||/\./.test(e)?e=>e:t=>(void 0===t[e]&&e in t&&delete(t=O(t))[e],t)}class jt{_trans(e,t,r){const n=this._tx||Oe.trans,i=this.name;function o(e,r,n){if(!n.schema[i])throw new X.NotFound("Table "+i+" not part of transaction");return t(n.idbtrans,n)}const s=Ue();try{return n&&n.db===this.db?n===Oe.trans?n._promise(e,o,r):Ze((()=>n._promise(e,o,r)),{trans:n,transless:Oe.transless||Oe}):pt(this.db,e,[this.name],o)}finally{s&&Le()}}get(e,t){return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",(t=>this.core.get({trans:t,key:e}).then((e=>this.hook.reading.fire(e))))).then(t)}where(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(n(e))return new this.db.WhereClause(this,"[".concat(e.join("+"),"]"));const r=t(e);if(1===r.length)return this.where(r[0]).equals(e[r[0]]);const i=this.schema.indexes.concat(this.schema.primKey).filter((e=>{if(e.compound&&r.every((t=>e.keyPath.indexOf(t)>=0))){for(let t=0;t<r.length;++t)if(-1===r.indexOf(e.keyPath[t]))return!1;return!0}return!1})).sort(((e,t)=>e.keyPath.length-t.keyPath.length))[0];if(i&&this.db._maxKey!==mt){const t=i.keyPath.slice(0,r.length);return this.where(t).equals(t.map((t=>e[t])))}!i&&R&&console.warn("The query ".concat(JSON.stringify(e)," on ").concat(this.name," would benefit of a compound index [").concat(r.join("+"),"]"));const{idxByName:o}=this.schema,s=this.db._deps.indexedDB;function a(e,t){try{return 0===s.cmp(e,t)}catch(r){return!1}}const[l,c]=r.reduce((([t,r],i)=>{const s=o[i],l=e[i];return[t||s,t||!s?St(r,s&&s.multi?e=>{const t=b(e,i);return n(t)&&t.some((e=>a(l,e)))}:e=>a(l,b(e,i))):r]}),[null,null]);return l?this.where(l.name).equals(e[l.keyPath]).filter(c):i?this.filter(c):this.where(r).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,n(e)?"[".concat(e.join("+"),"]"):e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const t=t=>{if(!t)return t;const r=Object.create(e.prototype);for(var n in t)if(o$1(t,n))try{r[n]=t[n]}catch(i){}return r};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook("reading",t),e}defineClass(){return this.mapToClass((function(e){r(this,e)}))}add(e,t){const{auto:r,keyPath:n}=this.schema.primKey;let i=e;return n&&r&&(i=Ct(n)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[i]}))).then((e=>e.numFailures?je.reject(e.failures[0]):e.lastResult)).then((t=>{if(n)try{_(e,n,t)}catch(r){}return t}))}update(e,r){if("object"!=typeof e||n(e))return this.where(":id").equals(e).modify(r);{const n=b(e,this.schema.primKey.keyPath);if(void 0===n)return ft(new X.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof r?t(r).forEach((t=>{_(e,t,r[t])})):r(e,{value:e,primKey:n})}catch(i){}return this.where(":id").equals(n).modify(r)}}put(e,t){const{auto:r,keyPath:n}=this.schema.primKey;let i=e;return n&&r&&(i=Ct(n)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"put",values:[i],keys:null!=t?[t]:null}))).then((e=>e.numFailures?je.reject(e.failures[0]):e.lastResult)).then((t=>{if(n)try{_(e,n,t)}catch(r){}return t}))}delete(e){return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:[e]}))).then((e=>e.numFailures?je.reject(e.failures[0]):void 0))}clear(){return this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"deleteRange",range:At}))).then((e=>e.numFailures?je.reject(e.failures[0]):void 0))}bulkGet(e){return this._trans("readonly",(t=>this.core.getMany({keys:e,trans:t}).then((e=>e.map((e=>this.hook.reading.fire(e)))))))}bulkAdd(e,t,r){const n=Array.isArray(t)?t:void 0,i=(r=r||(n?void 0:t))?r.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:r,keyPath:o}=this.schema.primKey;if(o&&n)throw new X.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(n&&n.length!==e.length)throw new X.InvalidArgument("Arguments objects and keys must have the same length");const s=e.length;let a=o&&r?e.map(Ct(o)):e;return this.core.mutate({trans:t,type:"add",keys:n,values:a,wantResults:i}).then((({numFailures:e,results:t,lastResult:r,failures:n})=>{if(0===e)return i?t:r;throw new G("".concat(this.name,".bulkAdd(): ").concat(e," of ").concat(s," operations failed"),n)}))}))}bulkPut(e,t,r){const n=Array.isArray(t)?t:void 0,i=(r=r||(n?void 0:t))?r.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:r,keyPath:o}=this.schema.primKey;if(o&&n)throw new X.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(n&&n.length!==e.length)throw new X.InvalidArgument("Arguments objects and keys must have the same length");const s=e.length;let a=o&&r?e.map(Ct(o)):e;return this.core.mutate({trans:t,type:"put",keys:n,values:a,wantResults:i}).then((({numFailures:e,results:t,lastResult:r,failures:n})=>{if(0===e)return i?t:r;throw new G("".concat(this.name,".bulkPut(): ").concat(e," of ").concat(s," operations failed"),n)}))}))}bulkDelete(e){const t=e.length;return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:e}))).then((({numFailures:e,lastResult:r,failures:n})=>{if(0===e)return r;throw new G("".concat(this.name,".bulkDelete(): ").concat(e," of ").concat(t," operations failed"),n)}))}}function Dt(e){var r={},i=function(t,n){if(n){for(var i=arguments.length,o=new Array(i-1);--i;)o[i-1]=arguments[i];return r[t].subscribe.apply(null,o),e}if("string"==typeof t)return r[t]};i.addEventType=a;for(var o=1,s=arguments.length;o<s;++o)a(arguments[o]);return i;function a(e,o,s){if("object"!=typeof e){var l;o||(o=ae),s||(s=ee);var c={subscribers:[],fire:s,subscribe:function(e){-1===c.subscribers.indexOf(e)&&(c.subscribers.push(e),c.fire=o(c.fire,e))},unsubscribe:function(e){c.subscribers=c.subscribers.filter((function(t){return t!==e})),c.fire=c.subscribers.reduce(o,s)}};return r[e]=i[e]=c,c}t(l=e).forEach((function(e){var t=l[e];if(n(t))a(e,l[e][0],l[e][1]);else{if("asap"!==t)throw new X.InvalidArgument("Invalid event config");var r=a(e,te,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];r.subscribers.forEach((function(e){v((function(){e.apply(null,t)}))}))}))}}))}}function It(e,t){return c(t).from({prototype:e}),t}function Bt(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Tt(e,t){e.filter=St(e.filter,t)}function Rt(e,t,r){var n=e.replayFilter;e.replayFilter=n?()=>St(n(),t()):t,e.justLimit=r&&!n}function Ft(e,t){if(e.isPrimKey)return t.primaryKey;const r=t.getIndexByKeyPath(e.index);if(!r)throw new X.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return r}function Mt(e,t,r){const n=Ft(e,t.schema);return t.openCursor({trans:r,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:n,range:e.range}})}function Nt(e,t,r,n){const i=e.replayFilter?St(e.filter,e.replayFilter()):e.filter;if(e.or){const o={},s=(e,r,n)=>{if(!i||i(r,n,(e=>r.stop(e)),(e=>r.fail(e)))){var s=r.primaryKey,a=""+s;"[object ArrayBuffer]"===a&&(a=""+new Uint8Array(s)),o$1(o,a)||(o[a]=!0,t(e,r,n))}};return Promise.all([e.or._iterate(s,r),qt(Mt(e,n,r),e.algorithm,s,!e.keysOnly&&e.valueMapper)])}return qt(Mt(e,n,r),St(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function qt(e,t,r,n){var i=Ye(n?(e,t,i)=>r(n(e),t,i):r);return e.then((e=>{if(e)return e.start((()=>{var r=()=>e.continue();t&&!t(e,(e=>r=e),(t=>{e.stop(t),r=ee}),(t=>{e.fail(t),r=ee}))||i(e.value,e,(e=>r=e)),r()}))}))}function $t(e,t){try{const r=Ut(e),n=Ut(t);if(r!==n)return"Array"===r?1:"Array"===n?-1:"binary"===r?1:"binary"===n?-1:"string"===r?1:"string"===n?-1:"Date"===r?1:"Date"!==n?NaN:-1;switch(r){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(e,t){const r=e.length,n=t.length,i=r<n?r:n;for(let o=0;o<i;++o)if(e[o]!==t[o])return e[o]<t[o]?-1:1;return r===n?0:r<n?-1:1}(Lt(e),Lt(t));case"Array":return function(e,t){const r=e.length,n=t.length,i=r<n?r:n;for(let o=0;o<i;++o){const r=$t(e[o],t[o]);if(0!==r)return r}return r===n?0:r<n?-1:1}(e,t)}}catch(r){}return NaN}function Ut(e){const t=typeof e;if("object"!==t)return t;if(ArrayBuffer.isView(e))return"binary";const r=C(e);return"ArrayBuffer"===r?"binary":r}function Lt(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class Vt{_read(e,t){var r=this._ctx;return r.error?r.table._trans(null,ft.bind(null,r.error)):r.table._trans("readonly",e).then(t)}_write(e){var t=this._ctx;return t.error?t.table._trans(null,ft.bind(null,t.error)):t.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var t=this._ctx;t.algorithm=St(t.algorithm,e)}_iterate(e,t){return Nt(this._ctx,e,t,this._ctx.table.core)}clone(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&r(n,e),t._ctx=n,t}raw(){return this._ctx.valueMapper=null,this}each(e){var t=this._ctx;return this._read((r=>Nt(t,e,r,t.table.core)))}count(e){return this._read((e=>{const t=this._ctx,r=t.table.core;if(Bt(t,!0))return r.count({trans:e,query:{index:Ft(t,r.schema),range:t.range}}).then((e=>Math.min(e,t.limit)));var n=0;return Nt(t,(()=>(++n,!1)),e,r).then((()=>n))})).then(e)}sortBy(e,t){const r=e.split(".").reverse(),n=r[0],i=r.length-1;function o(e,t){return t?o(e[r[t]],t-1):e[n]}var s="next"===this._ctx.dir?1:-1;function a(e,t){var r=o(e,i),n=o(t,i);return r<n?-s:r>n?s:0}return this.toArray((function(e){return e.sort(a)})).then(t)}toArray(e){return this._read((e=>{var t=this._ctx;if("next"===t.dir&&Bt(t,!0)&&t.limit>0){const{valueMapper:r}=t,n=Ft(t,t.table.core.schema);return t.table.core.query({trans:e,limit:t.limit,values:!0,query:{index:n,range:t.range}}).then((({result:e})=>r?e.map(r):e))}{const r=[];return Nt(t,(e=>r.push(e)),e,t.table.core).then((()=>r))}}),e)}offset(e){var t=this._ctx;return e<=0||(t.offset+=e,Bt(t)?Rt(t,(()=>{var t=e;return(e,r)=>0===t||(1===t?(--t,!1):(r((()=>{e.advance(t),t=0})),!1))})):Rt(t,(()=>{var t=e;return()=>--t<0}))),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),Rt(this._ctx,(()=>{var t=e;return function(e,r,n){return--t<=0&&r(n),t>=0}}),!0),this}until(e,t){return Tt(this._ctx,(function(r,n,i){return!e(r.value)||(n(i),t)})),this}first(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)}last(e){return this.reverse().first(e)}filter(e){var t,r;return Tt(this._ctx,(function(t){return e(t.value)})),t=this._ctx,r=e,t.isMatch=St(t.isMatch,r),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,r){e(r.key,r)}))}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,r){e(r.primaryKey,r)}))}keys(e){var t=this._ctx;t.keysOnly=!t.isMatch;var r=[];return this.each((function(e,t){r.push(t.key)})).then((function(){return r})).then(e)}primaryKeys(e){var t=this._ctx;if("next"===t.dir&&Bt(t,!0)&&t.limit>0)return this._read((e=>{var r=Ft(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:r,range:t.range}})})).then((({result:e})=>e)).then(e);t.keysOnly=!t.isMatch;var r=[];return this.each((function(e,t){r.push(t.primaryKey)})).then((function(){return r})).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys((function(e){return e[0]})).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var r={};return Tt(this._ctx,(function(e){var t=e.primaryKey.toString(),n=o$1(r,t);return r[t]=!0,!n})),this}modify(e){var r=this._ctx;return this._write((n=>{var i;if("function"==typeof e)i=e;else{var o=t(e),s=o.length;i=function(t){for(var r=!1,n=0;n<s;++n){var i=o[n],a=e[i];b(t,i)!==a&&(_(t,i,a),r=!0)}return r}}const a=r.table.core,{outbound:l,extractKey:c}=a.schema.primaryKey,u=this.db._options.modifyChunkSize||200,h=[];let d=0;const p=[],f=(e,r)=>{const{failures:n,numFailures:i}=r;d+=e-i;for(let o of t(n))h.push(n[o])};return this.clone().primaryKeys().then((t=>{const o=s=>{const h=Math.min(u,t.length-s);return a.getMany({trans:n,keys:t.slice(s,s+h),cache:"immutable"}).then((d=>{const p=[],y=[],g=l?[]:null,v=[];for(let e=0;e<h;++e){const r=d[e],n={value:O(r),primKey:t[s+e]};!1!==i.call(n,n.value,n)&&(null==n.value?v.push(t[s+e]):l||0===$t(c(r),c(n.value))?(y.push(n.value),l&&g.push(t[s+e])):(v.push(t[s+e]),p.push(n.value)))}const m=Bt(r)&&r.limit===1/0&&("function"!=typeof e||e===Wt)&&{index:r.index,range:r.range};return Promise.resolve(p.length>0&&a.mutate({trans:n,type:"add",values:p}).then((e=>{for(let t in e.failures)v.splice(parseInt(t),1);f(p.length,e)}))).then((()=>(y.length>0||m&&"object"==typeof e)&&a.mutate({trans:n,type:"put",keys:g,values:y,criteria:m,changeSpec:"function"!=typeof e&&e}).then((e=>f(y.length,e))))).then((()=>(v.length>0||m&&e===Wt)&&a.mutate({trans:n,type:"delete",keys:v,criteria:m}).then((e=>f(v.length,e))))).then((()=>t.length>s+h&&o(s+u)))}))};return o(0).then((()=>{if(h.length>0)throw new z("Error modifying one or more objects",h,d,p);return t.length}))}))}))}delete(){var e=this._ctx,t=e.range;return Bt(e)&&(e.isPrimKey&&!kt||3===t.type)?this._write((r=>{const{primaryKey:n}=e.table.core.schema,i=t;return e.table.core.count({trans:r,query:{index:n,range:i}}).then((t=>e.table.core.mutate({trans:r,type:"deleteRange",range:i}).then((({failures:e,lastResult:r,results:n,numFailures:i})=>{if(i)throw new z("Could not delete some values",Object.keys(e).map((t=>e[t])),t-i);return t-i}))))})):this.modify(Wt)}}const Wt=(e,t)=>t.value=null;function Yt(e,t){return e<t?-1:e===t?0:1}function zt(e,t){return e>t?-1:e===t?0:1}function Gt(e,t,r){var n=e instanceof en?new e.Collection(e):e;return n._ctx.error=r?new r(t):new TypeError(t),n}function Ht(e){return new e.Collection(e,(()=>Zt(""))).limit(0)}function Qt(e,t,r,n,i,o){for(var s=Math.min(e.length,n.length),a=-1,l=0;l<s;++l){var c=t[l];if(c!==n[l])return i(e[l],r[l])<0?e.substr(0,l)+r[l]+r.substr(l+1):i(e[l],n[l])<0?e.substr(0,l)+n[l]+r.substr(l+1):a>=0?e.substr(0,a)+t[a]+r.substr(a+1):null;i(e[l],c)<0&&(a=l)}return s<n.length&&"next"===o?e+r.substr(e.length):s<e.length&&"prev"===o?e.substr(0,r.length):a<0?null:e.substr(0,a)+n[a]+r.substr(a+1)}function Xt(e,t,r,n){var i,o,s,a,l,c,u,h=r.length;if(!r.every((e=>"string"==typeof e)))return Gt(e,bt);function d(e){i="next"===e?e=>e.toUpperCase():e=>e.toLowerCase(),o=function(e){return"next"===e?e=>e.toLowerCase():e=>e.toUpperCase()}(e),s="next"===e?Yt:zt;var t=r.map((function(e){return{lower:o(e),upper:i(e)}})).sort((function(e,t){return s(e.lower,t.lower)}));a=t.map((function(e){return e.upper})),l=t.map((function(e){return e.lower})),c=e,u="next"===e?"":n}d("next");var p=new e.Collection(e,(()=>Jt(a[0],l[h-1]+n)));p._ondirectionchange=function(e){d(e)};var f=0;return p._addAlgorithm((function(e,r,n){var i=e.key;if("string"!=typeof i)return!1;var d=o(i);if(t(d,l,f))return!0;for(var p=null,y=f;y<h;++y){var g=Qt(i,d,a[y],l[y],s,c);null===g&&null===p?f=y+1:(null===p||s(p,g)>0)&&(p=g)}return r(null!==p?function(){e.continue(p+u)}:n),!1})),p}function Jt(e,t,r,n){return{type:2,lower:e,upper:t,lowerOpen:r,upperOpen:n}}function Zt(e){return{type:1,lower:e,upper:e}}class en{get Collection(){return this._ctx.table.db.Collection}between(e,t,r,n){r=!1!==r,n=!0===n;try{return this._cmp(e,t)>0||0===this._cmp(e,t)&&(r||n)&&(!r||!n)?Ht(this):new this.Collection(this,(()=>Jt(e,t,!r,!n)))}catch(i){return Gt(this,gt)}}equals(e){return null==e?Gt(this,gt):new this.Collection(this,(()=>Zt(e)))}above(e){return null==e?Gt(this,gt):new this.Collection(this,(()=>Jt(e,void 0,!0)))}aboveOrEqual(e){return null==e?Gt(this,gt):new this.Collection(this,(()=>Jt(e,void 0,!1)))}below(e){return null==e?Gt(this,gt):new this.Collection(this,(()=>Jt(void 0,e,!1,!0)))}belowOrEqual(e){return null==e?Gt(this,gt):new this.Collection(this,(()=>Jt(void 0,e)))}startsWith(e){return"string"!=typeof e?Gt(this,bt):this.between(e,e+mt,!0,!0)}startsWithIgnoreCase(e){return""===e?this.startsWith(e):Xt(this,((e,t)=>0===e.indexOf(t[0])),[e],mt)}equalsIgnoreCase(e){return Xt(this,((e,t)=>e===t[0]),[e],"")}anyOfIgnoreCase(){var e=B.apply(I,arguments);return 0===e.length?Ht(this):Xt(this,((e,t)=>-1!==t.indexOf(e)),e,"")}startsWithAnyOfIgnoreCase(){var e=B.apply(I,arguments);return 0===e.length?Ht(this):Xt(this,((e,t)=>t.some((t=>0===e.indexOf(t)))),e,mt)}anyOf(){const e=B.apply(I,arguments);let t=this._cmp;try{e.sort(t)}catch(i){return Gt(this,gt)}if(0===e.length)return Ht(this);const r=new this.Collection(this,(()=>Jt(e[0],e[e.length-1])));r._ondirectionchange=r=>{t="next"===r?this._ascending:this._descending,e.sort(t)};let n=0;return r._addAlgorithm(((r,i,o)=>{const s=r.key;for(;t(s,e[n])>0;)if(++n,n===e.length)return i(o),!1;return 0===t(s,e[n])||(i((()=>{r.continue(e[n])})),!1)})),r}notEqual(e){return this.inAnyRange([[vt,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=B.apply(I,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(r){return Gt(this,gt)}const t=e.reduce(((e,t)=>e?e.concat([[e[e.length-1][1],t]]):[[vt,t]]),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,t){const r=this._cmp,n=this._ascending,i=this._descending,o=this._min,s=this._max;if(0===e.length)return Ht(this);if(!e.every((e=>void 0!==e[0]&&void 0!==e[1]&&n(e[0],e[1])<=0)))return Gt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",X.InvalidArgument);const a=!t||!1!==t.includeLowers,l=t&&!0===t.includeUppers;let c,u=n;function h(e,t){return u(e[0],t[0])}try{c=e.reduce((function(e,t){let n=0,i=e.length;for(;n<i;++n){const i=e[n];if(r(t[0],i[1])<0&&r(t[1],i[0])>0){i[0]=o(i[0],t[0]),i[1]=s(i[1],t[1]);break}}return n===i&&e.push(t),e}),[]),c.sort(h)}catch(v){return Gt(this,gt)}let d=0;const p=l?e=>n(e,c[d][1])>0:e=>n(e,c[d][1])>=0,f=a?e=>i(e,c[d][0])>0:e=>i(e,c[d][0])>=0;let y=p;const g=new this.Collection(this,(()=>Jt(c[0][0],c[c.length-1][1],!a,!l)));return g._ondirectionchange=e=>{"next"===e?(y=p,u=n):(y=f,u=i),c.sort(h)},g._addAlgorithm(((e,t,r)=>{for(var i=e.key;y(i);)if(++d,d===c.length)return t(r),!1;return!(o=i,(p(o)||f(o))&&(0===this._cmp(i,c[d][1])||0===this._cmp(i,c[d][0])||t((()=>{u===n?e.continue(c[d][0]):e.continue(c[d][1])})),1));var o})),g}startsWithAnyOf(){const e=B.apply(I,arguments);return e.every((e=>"string"==typeof e))?0===e.length?Ht(this):this.inAnyRange(e.map((e=>[e,e+mt]))):Gt(this,"startsWithAnyOf() only works with strings")}}function tn(e){return Ye((function(t){return nn(t),e(t.target.error),!1}))}function nn(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const rn="storagemutated",sn="x-storagemutated-1",on=Dt(null,rn);class an{_lock(){return m(!Oe.global),++this._reculock,1!==this._reculock||Oe.global||(Oe.lockOwnerFor=this),this}_unlock(){if(m(!Oe.global),0==--this._reculock)for(Oe.global||(Oe.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{at(e[1],e[0])}catch(t){}}return this}_locked(){return this._reculock&&Oe.lockOwnerFor!==this}create(e){if(!this.mode)return this;const t=this.db.idbdb,r=this.db._state.dbOpenError;if(m(!this.idbtrans),!e&&!t)switch(r&&r.name){case"DatabaseClosedError":throw new X.DatabaseClosed(r);case"MissingAPIError":throw new X.MissingAPI(r.message,r);default:throw new X.OpenFailed(r)}if(!this.active)throw new X.TransactionInactive;return m(null===this._completion._state),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):t.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Ye((t=>{nn(t),this._reject(e.error)})),e.onabort=Ye((t=>{nn(t),this.active&&this._reject(new X.Abort(e.error)),this.active=!1,this.on("abort").fire(t)})),e.oncomplete=Ye((()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&on.storagemutated.fire(e.mutatedParts)})),this}_promise(e,t,r){if("readwrite"===e&&"readwrite"!==this.mode)return ft(new X.ReadOnly("Transaction is readonly"));if(!this.active)return ft(new X.TransactionInactive);if(this._locked())return new je(((n,i)=>{this._blockedFuncs.push([()=>{this._promise(e,t,r).then(n,i)},Oe])}));if(r)return Ze((()=>{var e=new je(((e,r)=>{this._lock();const n=t(e,r,this);n&&n.then&&n.then(e,r)}));return e.finally((()=>this._unlock())),e._lib=!0,e}));var n=new je(((e,r)=>{var n=t(e,r,this);n&&n.then&&n.then(e,r)}));return n._lib=!0,n}_root(){return this.parent?this.parent._root():this}waitFor(e){var t=this._root();const r=je.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then((()=>r));else{t._waitingFor=r,t._waitingQueue=[];var n=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(n.get(-1/0).onsuccess=e)}()}var i=t._waitingFor;return new je(((e,n)=>{r.then((r=>t._waitingQueue.push(Ye(e.bind(null,r)))),(e=>t._waitingQueue.push(Ye(n.bind(null,e))))).finally((()=>{t._waitingFor===i&&(t._waitingFor=null)}))}))}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new X.Abort))}table(e){const t=this._memoizedTables||(this._memoizedTables={});if(o$1(t,e))return t[e];const r=this.schema[e];if(!r)throw new X.NotFound("Table "+e+" not part of transaction");const n=new this.db.Table(e,r,this);return n.core=this.db.core.table(e),t[e]=n,n}}function un(e,t,r,n,i,o,s){return{name:e,keyPath:t,unique:r,multi:n,auto:i,compound:o,src:(r&&!s?"&":"")+(n?"*":"")+(i?"++":"")+ln(t)}}function ln(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function cn(e,t,r){return{name:e,primKey:t,indexes:r,mappedClass:null,idxByName:g(r,(e=>[e.name,e]))}}let hn=e=>{try{return e.only([[]]),hn=()=>[[]],[[]]}catch(t){return hn=()=>mt,mt}};function dn(e){return null==e?()=>{}:"string"==typeof e?1===(t=e).split(".").length?e=>e[t]:e=>b(e,t):t=>b(t,e);var t}function fn(e){return[].slice.call(e)}let pn=0;function yn(e){return null==e?":id":"string"==typeof e?e:"[".concat(e.join("+"),"]")}function mn(e,t,r){function i(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:r,upper:n,lowerOpen:i,upperOpen:o}=e;return void 0===r?void 0===n?null:t.upperBound(n,!!o):void 0===n?t.lowerBound(r,!!i):t.bound(r,n,!!i,!!o)}const{schema:o,hasGetAll:s}=function(e,t){const r=fn(e.objectStoreNames);return{schema:{name:e.name,tables:r.map((e=>t.objectStore(e))).map((e=>{const{keyPath:t,autoIncrement:r}=e,i=n(t),o=null==t,s={},a={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:o,compound:i,keyPath:t,autoIncrement:r,unique:!0,extractKey:dn(t)},indexes:fn(e.indexNames).map((t=>e.index(t))).map((e=>{const{name:t,unique:r,multiEntry:i,keyPath:o}=e,a={name:t,compound:n(o),keyPath:o,unique:r,multiEntry:i,extractKey:dn(o)};return s[yn(o)]=a,a})),getIndexByKeyPath:e=>s[yn(e)]};return s[":id"]=a.primaryKey,null!=t&&(s[yn(t)]=a.primaryKey),a}))},hasGetAll:r.length>0&&"getAll"in t.objectStore(r[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,r),a=o.tables.map((e=>function(e){const t=e.name;return{name:t,schema:e,mutate:function({trans:e,type:r,keys:n,values:o,range:s}){return new Promise(((a,l)=>{a=Ye(a);const c=e.objectStore(t),u=null==c.keyPath,h="put"===r||"add"===r;if(!h&&"delete"!==r&&"deleteRange"!==r)throw new Error("Invalid operation type: "+r);const{length:d}=n||o||{length:1};if(n&&o&&n.length!==o.length)throw new Error("Given keys array must have same length as given values array.");if(0===d)return a({numFailures:0,failures:{},results:[],lastResult:void 0});let p;const f=[],y=[];let g=0;const v=e=>{++g,nn(e)};if("deleteRange"===r){if(4===s.type)return a({numFailures:g,failures:y,results:[],lastResult:void 0});3===s.type?f.push(p=c.clear()):f.push(p=c.delete(i(s)))}else{const[e,t]=h?u?[o,n]:[o,null]:[n,null];if(h)for(let n=0;n<d;++n)f.push(p=t&&void 0!==t[n]?c[r](e[n],t[n]):c[r](e[n])),p.onerror=v;else for(let n=0;n<d;++n)f.push(p=c[r](e[n])),p.onerror=v}const m=e=>{const t=e.target.result;f.forEach(((e,t)=>null!=e.error&&(y[t]=e.error))),a({numFailures:g,failures:y,results:"delete"===r?n:f.map((e=>e.result)),lastResult:t})};p.onerror=e=>{v(e),m(e)},p.onsuccess=m}))},getMany:({trans:e,keys:r})=>new Promise(((n,i)=>{n=Ye(n);const o=e.objectStore(t),s=r.length,a=new Array(s);let l,c=0,u=0;const h=e=>{const t=e.target;a[t._pos]=t.result,++u===c&&n(a)},d=tn(i);for(let e=0;e<s;++e)null!=r[e]&&(l=o.get(r[e]),l._pos=e,l.onsuccess=h,l.onerror=d,++c);0===c&&n(a)})),get:({trans:e,key:r})=>new Promise(((n,i)=>{n=Ye(n);const o=e.objectStore(t).get(r);o.onsuccess=e=>n(e.target.result),o.onerror=tn(i)})),query:(r=s,e=>new Promise(((n,o)=>{n=Ye(n);const{trans:s,values:a,limit:l,query:c}=e,u=l===1/0?void 0:l,{index:h,range:d}=c,p=s.objectStore(t),f=h.isPrimaryKey?p:p.index(h.name),y=i(d);if(0===l)return n({result:[]});if(r){const e=a?f.getAll(y,u):f.getAllKeys(y,u);e.onsuccess=e=>n({result:e.target.result}),e.onerror=tn(o)}else{let e=0;const t=a||!("openKeyCursor"in f)?f.openCursor(y):f.openKeyCursor(y),r=[];t.onsuccess=i=>{const o=t.result;return o?(r.push(a?o.value:o.primaryKey),++e===l?n({result:r}):void o.continue()):n({result:r})},t.onerror=tn(o)}}))),openCursor:function({trans:e,values:r,query:n,reverse:o,unique:s}){return new Promise(((a,l)=>{a=Ye(a);const{index:c,range:u}=n,h=e.objectStore(t),d=c.isPrimaryKey?h:h.index(c.name),p=o?s?"prevunique":"prev":s?"nextunique":"next",f=r||!("openKeyCursor"in d)?d.openCursor(i(u),p):d.openKeyCursor(i(u),p);f.onerror=tn(l),f.onsuccess=Ye((t=>{const r=f.result;if(!r)return void a(null);r.___id=++pn,r.done=!1;const n=r.continue.bind(r);let i=r.continuePrimaryKey;i&&(i=i.bind(r));const o=r.advance.bind(r),s=()=>{throw new Error("Cursor not stopped")};r.trans=e,r.stop=r.continue=r.continuePrimaryKey=r.advance=()=>{throw new Error("Cursor not started")},r.fail=Ye(l),r.next=function(){let e=1;return this.start((()=>e--?this.continue():this.stop())).then((()=>this))},r.start=e=>{const t=new Promise(((e,t)=>{e=Ye(e),f.onerror=tn(t),r.fail=t,r.stop=t=>{r.stop=r.continue=r.continuePrimaryKey=r.advance=s,e(t)}})),a=()=>{if(f.result)try{e()}catch(t){r.fail(t)}else r.done=!0,r.start=()=>{throw new Error("Cursor behind last entry")},r.stop()};return f.onsuccess=Ye((e=>{f.onsuccess=a,a()})),r.continue=n,r.continuePrimaryKey=i,r.advance=o,a(),t},a(r)}),l)}))},count({query:e,trans:r}){const{index:n,range:o}=e;return new Promise(((e,s)=>{const a=r.objectStore(t),l=n.isPrimaryKey?a:a.index(n.name),c=i(o),u=c?l.count(c):l.count();u.onsuccess=Ye((t=>e(t.target.result))),u.onerror=tn(s)}))}};var r}(e))),l={};return a.forEach((e=>l[e.name]=e)),{stack:"dbcore",transaction:e.transaction.bind(e),table(e){if(!l[e])throw new Error("Table '".concat(e,"' not found"));return l[e]},MIN_KEY:-1/0,MAX_KEY:hn(t),schema:o}}function vn({_novip:e},t){const r=t.db,n=function(e,t,{IDBKeyRange:r,indexedDB:n},i){var o;return{dbcore:(o=mn(t,r,i),e.dbcore.reduce(((e,{create:t})=>__spreadValues(__spreadValues({},e),t(e))),o))}}(e._middlewares,r,e._deps,t);e.core=n.dbcore,e.tables.forEach((t=>{const r=t.name;e.core.schema.tables.some((e=>e.name===r))&&(t.core=e.core.table(r),e[r]instanceof e.Table&&(e[r].core=t.core))}))}function gn({_novip:e},t,r,n){r.forEach((r=>{const i=n[r];t.forEach((t=>{const n=d(t,r);(!n||"value"in n&&void 0===n.value)&&(t===e.Transaction.prototype||t instanceof e.Transaction?l(t,r,{get(){return this.table(r)},set(e){u(this,r,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[r]=new e.Table(r,i))}))}))}function bn({_novip:e},t){t.forEach((t=>{for(let r in t)t[r]instanceof e.Table&&delete t[r]}))}function _n(e,t){return e._cfg.version-t._cfg.version}function wn(e,r,n,i){const o=e._dbSchema,s=e._createTransaction("readwrite",e._storeNames,o);s.create(n),s._completion.catch(i);const a=s._reject.bind(s),l=Oe.transless||Oe;Ze((()=>{Oe.trans=s,Oe.transless=l,0===r?(t(o).forEach((e=>{kn(n,e,o[e].primKey,o[e].indexes)})),vn(e,n),je.follow((()=>e.on.populate.fire(s))).catch(a)):function({_novip:e},r,n,i){const o=[],s=e._versions;let a=e._dbSchema=Pn(e,e.idbdb,i),l=!1;return s.filter((e=>e._cfg.version>=r)).forEach((s=>{o.push((()=>{const o=a,c=s._cfg.dbschema;Kn(e,o,i),Kn(e,c,i),a=e._dbSchema=c;const u=xn(o,c);u.add.forEach((e=>{kn(i,e[0],e[1].primKey,e[1].indexes)})),u.change.forEach((e=>{if(e.recreate)throw new X.Upgrade("Not yet support for changing primary key");{const t=i.objectStore(e.name);e.add.forEach((e=>En(t,e))),e.change.forEach((e=>{t.deleteIndex(e.name),En(t,e)})),e.del.forEach((e=>t.deleteIndex(e)))}}));const h=s._cfg.contentUpgrade;if(h&&s._cfg.version>r){vn(e,i),n._memoizedTables={},l=!0;let r=w(c);u.del.forEach((e=>{r[e]=o[e]})),bn(e,[e.Transaction.prototype]),gn(e,[e.Transaction.prototype],t(r),r),n.schema=r;const s=T(h);let a;s&&et();const d=je.follow((()=>{if(a=h(n),a&&s){var e=tt.bind(null,null);a.then(e,e)}}));return a&&"function"==typeof a.then?je.resolve(a):d.then((()=>a))}})),o.push((t=>{var r,i;l&&xt||(r=s._cfg.dbschema,i=t,[].slice.call(i.db.objectStoreNames).forEach((e=>null==r[e]&&i.db.deleteObjectStore(e)))),bn(e,[e.Transaction.prototype]),gn(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),n.schema=e._dbSchema}))})),function e(){return o.length?je.resolve(o.shift()(n.idbtrans)).then(e):je.resolve()}().then((()=>{var e,r;r=i,t(e=a).forEach((t=>{r.db.objectStoreNames.contains(t)||kn(r,t,e[t].primKey,e[t].indexes)}))}))}(e,r,s,n).catch(a)}))}function xn(e,t){const r={del:[],add:[],change:[]};let n;for(n in e)t[n]||r.del.push(n);for(n in t){const i=e[n],o=t[n];if(i){const e={name:n,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||i.primKey.auto!==o.primKey.auto&&!wt)e.recreate=!0,r.change.push(e);else{const t=i.idxByName,n=o.idxByName;let s;for(s in t)n[s]||e.del.push(s);for(s in n){const r=t[s],i=n[s];r?r.src!==i.src&&e.change.push(i):e.add.push(i)}(e.del.length>0||e.add.length>0||e.change.length>0)&&r.change.push(e)}}else r.add.push([n,o])}return r}function kn(e,t,r,n){const i=e.db.createObjectStore(t,r.keyPath?{keyPath:r.keyPath,autoIncrement:r.auto}:{autoIncrement:r.auto});return n.forEach((e=>En(i,e))),i}function En(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function Pn(e,t,r){const n={};return p(t.objectStoreNames,0).forEach((e=>{const t=r.objectStore(e);let i=t.keyPath;const o=un(ln(i),i||"",!1,!1,!!t.autoIncrement,i&&"string"!=typeof i,!0),s=[];for(let r=0;r<t.indexNames.length;++r){const e=t.index(t.indexNames[r]);i=e.keyPath;var a=un(e.name,i,!!e.unique,!!e.multiEntry,!1,i&&"string"!=typeof i,!1);s.push(a)}n[e]=cn(e,o,s)})),n}function Kn({_novip:t},r,n){const i=n.db.objectStoreNames;for(let e=0;e<i.length;++e){const o=i[e],s=n.objectStore(o);t._hasGetAll="getAll"in s;for(let e=0;e<s.indexNames.length;++e){const t=s.indexNames[e],n=s.index(t).keyPath,i="string"==typeof n?n:"["+p(n).join("+")+"]";if(r[o]){const e=r[o].idxByName[i];e&&(e.name=t,delete r[o].idxByName[i],r[o].idxByName[t]=e)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&e.WorkerGlobalScope&&e instanceof e.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(t._hasGetAll=!1)}class On{_parseStoresSpec(e,r){t(e).forEach((t=>{if(null!==e[t]){var i=e[t].split(",").map(((e,t)=>{const r=(e=e.trim()).replace(/([&*]|\+\+)/g,""),i=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return un(r,i||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),n(i),0===t)})),o=i.shift();if(o.multi)throw new X.Schema("Primary key cannot be multi-valued");i.forEach((e=>{if(e.auto)throw new X.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new X.Schema("Index must have a name and cannot be an empty string")})),r[t]=cn(t,o,i)}}))}stores(e){const n=this.db;this._cfg.storesSource=this._cfg.storesSource?r(this._cfg.storesSource,e):e;const i=n._versions,o={};let s={};return i.forEach((e=>{r(o,e._cfg.storesSource),s=e._cfg.dbschema={},e._parseStoresSpec(o,s)})),n._dbSchema=s,bn(n,[n._allTables,n,n.Transaction.prototype]),gn(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],t(s),s),n._storeNames=t(s),this}upgrade(e){return this._cfg.contentUpgrade=ue(this._cfg.contentUpgrade||ee,e),this}}function Sn(e,t){let r=e._dbNamesDB;return r||(r=e._dbNamesDB=new Xn(Pt,{addons:[],indexedDB:e,IDBKeyRange:t}),r.version(1).stores({dbnames:"name"})),r.table("dbnames")}function An(e){return e&&"function"==typeof e.databases}function Cn(e){return Ze((function(){return Oe.letThrough=!0,e()}))}function jn(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(t){var r=function(){return indexedDB.databases().finally(t)};e=setInterval(r,100),r()})).finally((function(){return clearInterval(e)})):Promise.resolve()}function Dn(e){const r=e._state,{indexedDB:n}=e._deps;if(r.isBeingOpened||e.idbdb)return r.dbReadyPromise.then((()=>r.dbOpenError?ft(r.dbOpenError):e));R&&(r.openCanceller._stackHolder=q()),r.isBeingOpened=!0,r.dbOpenError=null,r.openComplete=!1;const i=r.openCanceller;function o(){if(r.openCanceller!==i)throw new X.DatabaseClosed("db.open() was cancelled")}let s=r.dbReadyResolve,a=null,l=!1;const c=()=>new je(((i,s)=>{if(o(),!n)throw new X.MissingAPI;const c=e.name,u=r.autoSchema?n.open(c):n.open(c,Math.round(10*e.verno));if(!u)throw new X.MissingAPI;u.onerror=tn(s),u.onblocked=Ye(e._fireOnBlocked),u.onupgradeneeded=Ye((t=>{if(a=u.transaction,r.autoSchema&&!e._options.allowEmptyDB){u.onerror=nn,a.abort(),u.result.close();const e=n.deleteDatabase(c);e.onsuccess=e.onerror=Ye((()=>{s(new X.NoSuchDatabase("Database ".concat(c," doesnt exist")))}))}else{a.onerror=tn(s);var i=t.oldVersion>Math.pow(2,62)?0:t.oldVersion;l=i<1,e._novip.idbdb=u.result,wn(e,i/10,a,s)}}),s),u.onsuccess=Ye((()=>{a=null;const n=e._novip.idbdb=u.result,o=p(n.objectStoreNames);if(o.length>0)try{const i=n.transaction(1===(s=o).length?s[0]:s,"readonly");r.autoSchema?function({_novip:e},r,n){e.verno=r.version/10;const i=e._dbSchema=Pn(0,r,n);e._storeNames=p(r.objectStoreNames,0),gn(e,[e._allTables],t(i),i)}(e,n,i):(Kn(e,e._dbSchema,i),function(e,t){const r=xn(Pn(0,e.idbdb,t),e._dbSchema);return!(r.add.length||r.change.some((e=>e.add.length||e.change.length)))}(e,i)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),vn(e,i)}catch(h){}var s;_t.push(e),n.onversionchange=Ye((t=>{r.vcFired=!0,e.on("versionchange").fire(t)})),n.onclose=Ye((t=>{e.on("close").fire(t)})),l&&function({indexedDB:e,IDBKeyRange:t},r){!An(e)&&r!==Pt&&Sn(e,t).put({name:r}).catch(ee)}(e._deps,c),i()}),s)})).catch((e=>e&&"UnknownError"===e.name&&r.PR1398_maxLoop>0?(r.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),c()):je.reject(e)));return je.race([i,("undefined"==typeof navigator?je.resolve():jn()).then(c)]).then((()=>(o(),r.onReadyBeingFired=[],je.resolve(Cn((()=>e.on.ready.fire(e.vip)))).then((function t(){if(r.onReadyBeingFired.length>0){let n=r.onReadyBeingFired.reduce(ue,ee);return r.onReadyBeingFired=[],je.resolve(Cn((()=>n(e.vip)))).then(t)}}))))).finally((()=>{r.onReadyBeingFired=null,r.isBeingOpened=!1})).then((()=>e)).catch((t=>{r.dbOpenError=t;try{a&&a.abort()}catch(n){}return i===r.openCanceller&&e._close(),ft(t)})).finally((()=>{r.openComplete=!0,s()}))}function In(e){var t=t=>e.next(t),r=o(t),i=o((t=>e.throw(t)));function o(e){return t=>{var o=e(t),s=o.value;return o.done?s:s&&"function"==typeof s.then?s.then(r,i):n(s)?Promise.all(s).then(r,i):r(s)}}return o(t)()}function Bn(e,t,r){var n=arguments.length;if(n<2)throw new X.InvalidArgument("Too few arguments");for(var i=new Array(n-1);--n;)i[n-1]=arguments[n];return r=i.pop(),[e,k(i),r]}function Tn(e,t,r,n,i){return je.resolve().then((()=>{const o=Oe.transless||Oe,s=e._createTransaction(t,r,e._dbSchema,n),a={trans:s,transless:o};if(n)s.idbtrans=n.idbtrans;else try{s.create(),e._state.PR1398_maxLoop=3}catch(h){return h.name===H.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((()=>Tn(e,t,r,null,i)))):ft(h)}const l=T(i);let c;l&&et();const u=je.follow((()=>{if(c=i.call(s,s),c)if(l){var e=tt.bind(null,null);c.then(e,e)}else"function"==typeof c.next&&"function"==typeof c.throw&&(c=In(c))}),a);return(c&&"function"==typeof c.then?je.resolve(c).then((e=>s.active?e:ft(new X.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn")))):u.then((()=>c))).then((e=>(n&&s._resolve(),s._completion.then((()=>e))))).catch((e=>(s._reject(e),ft(e))))}))}function Rn(e,t,r){const i=n(e)?e.slice():[e];for(let n=0;n<r;++n)i.push(t);return i}const Fn={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return __spreadProps(__spreadValues({},e),{table(t){const r=e.table(t),{schema:n}=r,i={},o=[];function s(e,t,r){const n=yn(e),a=i[n]=i[n]||[],l=null==e?0:"string"==typeof e?1:e.length,c=t>0,u=__spreadProps(__spreadValues({},r),{isVirtual:c,keyTail:t,keyLength:l,extractKey:dn(e),unique:!c&&r.unique});return a.push(u),u.isPrimaryKey||o.push(u),l>1&&s(2===l?e[0]:e.slice(0,l-1),t+1,r),a.sort(((e,t)=>e.keyTail-t.keyTail)),u}const a=s(n.primaryKey.keyPath,0,n.primaryKey);i[":id"]=[a];for(const e of n.indexes)s(e.keyPath,0,e);function l(t){const r=t.query.index;return r.isVirtual?__spreadProps(__spreadValues({},t),{query:{index:r,range:(n=t.query.range,i=r.keyTail,{type:1===n.type?2:n.type,lower:Rn(n.lower,n.lowerOpen?e.MAX_KEY:e.MIN_KEY,i),lowerOpen:!0,upper:Rn(n.upper,n.upperOpen?e.MIN_KEY:e.MAX_KEY,i),upperOpen:!0})}}):t;var n,i}return __spreadProps(__spreadValues({},r),{schema:__spreadProps(__spreadValues({},n),{primaryKey:a,indexes:o,getIndexByKeyPath:function(e){const t=i[yn(e)];return t&&t[0]}}),count:e=>r.count(l(e)),query:e=>r.query(l(e)),openCursor(t){const{keyTail:n,isVirtual:i,keyLength:o}=t.query.index;return i?r.openCursor(l(t)).then((r=>{return r&&(i=r,Object.create(i,{continue:{value:function(r){null!=r?i.continue(Rn(r,t.reverse?e.MAX_KEY:e.MIN_KEY,n)):t.unique?i.continue(i.key.slice(0,o).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,n)):i.continue()}},continuePrimaryKey:{value(t,r){i.continuePrimaryKey(Rn(t,e.MAX_KEY,n),r)}},primaryKey:{get:()=>i.primaryKey},key:{get(){const e=i.key;return 1===o?e[0]:e.slice(0,o)}},value:{get:()=>i.value}}));var i})):r.openCursor(t)}})}})}};function Mn(e,r,n,i){return n=n||{},i=i||"",t(e).forEach((t=>{if(o$1(r,t)){var o=e[t],s=r[t];if("object"==typeof o&&"object"==typeof s&&o&&s){const e=C(o);e!==C(s)?n[i+t]=r[t]:"Object"===e?Mn(o,s,n,i+t+"."):o!==s&&(n[i+t]=r[t])}else o!==s&&(n[i+t]=r[t])}else n[i+t]=void 0})),t(r).forEach((t=>{o$1(e,t)||(n[i+t]=r[t])})),n}const Nn={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>__spreadProps(__spreadValues({},e),{table(t){const r=e.table(t),{primaryKey:n}=r.schema;return __spreadProps(__spreadValues({},r),{mutate(e){const i=Oe.trans,{deleting:o,creating:s,updating:a}=i.table(t).hook;switch(e.type){case"add":if(s.fire===ee)break;return i._promise("readwrite",(()=>l(e)),!0);case"put":if(s.fire===ee&&a.fire===ee)break;return i._promise("readwrite",(()=>l(e)),!0);case"delete":if(o.fire===ee)break;return i._promise("readwrite",(()=>l(e)),!0);case"deleteRange":if(o.fire===ee)break;return i._promise("readwrite",(()=>{return c((t=e).trans,t.range,1e4);var t}),!0)}return r.mutate(e);function l(e){const t=Oe.trans,i=e.keys||(l=n,"delete"===(c=e).type?c.keys:c.keys||c.values.map(l.extractKey));var l,c;if(!i)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?__spreadProps(__spreadValues({},e),{keys:i}):__spreadValues({},e)).type&&(e.values=[...e.values]),e.keys&&(e.keys=[...e.keys]),function(e,t,r){return"add"===t.type?Promise.resolve([]):e.getMany({trans:t.trans,keys:r,cache:"immutable"})}(r,e,i).then((l=>{const c=i.map(((r,i)=>{const c=l[i],u={onerror:null,onsuccess:null};if("delete"===e.type)o.fire.call(u,r,c,t);else if("add"===e.type||void 0===c){const o=s.fire.call(u,r,e.values[i],t);null==r&&null!=o&&(r=o,e.keys[i]=r,n.outbound||_(e.values[i],n.keyPath,r))}else{const n=Mn(c,e.values[i]),o=a.fire.call(u,n,r,c,t);if(o){const t=e.values[i];Object.keys(o).forEach((e=>{o$1(t,e)?t[e]=o[e]:_(t,e,o[e])}))}}return u}));return r.mutate(e).then((({failures:t,results:r,numFailures:n,lastResult:o})=>{for(let s=0;s<i.length;++s){const n=r?r[s]:i[s],o=c[s];null==n?o.onerror&&o.onerror(t[s]):o.onsuccess&&o.onsuccess("put"===e.type&&l[s]?e.values[s]:n)}return{failures:t,results:r,numFailures:n,lastResult:o}})).catch((e=>(c.forEach((t=>t.onerror&&t.onerror(e))),Promise.reject(e))))}))}function c(e,t,i){return r.query({trans:e,values:!1,query:{index:n,range:t},limit:i}).then((({result:r})=>l({type:"delete",keys:r,trans:e}).then((n=>n.numFailures>0?Promise.reject(n.failures[0]):r.length<i?{failures:[],numFailures:0,lastResult:void 0}:c(e,__spreadProps(__spreadValues({},t),{lower:r[r.length-1],lowerOpen:!0}),i)))))}}})}})};function qn(e,t,r){try{if(!t)return null;if(t.keys.length<e.length)return null;const n=[];for(let i=0,o=0;i<t.keys.length&&o<e.length;++i)0===$t(t.keys[i],e[o])&&(n.push(r?O(t.values[i]):t.values[i]),++o);return n.length===e.length?n:null}catch(n){return null}}const $n={stack:"dbcore",level:-1,create:e=>({table:t=>{const r=e.table(t);return __spreadProps(__spreadValues({},r),{getMany:e=>{if(!e.cache)return r.getMany(e);const t=qn(e.keys,e.trans._cache,"clone"===e.cache);return t?je.resolve(t):r.getMany(e).then((t=>(e.trans._cache={keys:e.keys,values:"clone"===e.cache?O(t):t},t)))},mutate:e=>("add"!==e.type&&(e.trans._cache=null),r.mutate(e))})}})};function Un(e){return!("from"in e)}const Ln=function(e,t){if(!this){const t=new Ln;return e&&"d"in e&&r(t,e),t}r(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function Vn(e,t,n){const i=$t(t,n);if(isNaN(i))return;if(i>0)throw RangeError();if(Un(e))return r(e,{from:t,to:n,d:1});const o=e.l,s=e.r;if($t(n,e.from)<0)return o?Vn(o,t,n):e.l={from:t,to:n,d:1,l:null,r:null},Gn(e);if($t(t,e.to)>0)return s?Vn(s,t,n):e.r={from:t,to:n,d:1,l:null,r:null},Gn(e);$t(t,e.from)<0&&(e.from=t,e.l=null,e.d=s?s.d+1:1),$t(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const a=!e.r;o&&!e.l&&Wn(e,o),s&&a&&Wn(e,s)}function Wn(e,t){Un(t)||function e(t,{from:r,to:n,l:i,r:o}){Vn(t,r,n),i&&e(t,i),o&&e(t,o)}(e,t)}function Yn(e,t){const r=zn(t);let n=r.next();if(n.done)return!1;let i=n.value;const o=zn(e);let s=o.next(i.from),a=s.value;for(;!n.done&&!s.done;){if($t(a.from,i.to)<=0&&$t(a.to,i.from)>=0)return!0;$t(i.from,a.from)<0?i=(n=r.next(a.from)).value:a=(s=o.next(i.from)).value}return!1}function zn(e){let t=Un(e)?null:{s:0,n:e};return{next(e){const r=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&$t(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||$t(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Gn(e){var t,r;const n=((null===(t=e.r)||void 0===t?void 0:t.d)||0)-((null===(r=e.l)||void 0===r?void 0:r.d)||0),i=n>1?"r":n<-1?"l":"";if(i){const t="r"===i?"l":"r",r=__spreadValues({},e),n=e[i];e.from=n.from,e.to=n.to,e[i]=n[i],r[i]=n[t],e[t]=r,r.d=Hn(r)}e.d=Hn(e)}function Hn({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}a(Ln.prototype,{add(e){return Wn(this,e),this},addKey(e){return Vn(this,e,e),this},addKeys(e){return e.forEach((e=>Vn(this,e,e))),this},[j](){return zn(this)}});const Qn={stack:"dbcore",level:0,create:e=>{const r=e.schema.name,i=new Ln(e.MIN_KEY,e.MAX_KEY);return __spreadProps(__spreadValues({},e),{table:o=>{const s=e.table(o),{schema:a}=s,{primaryKey:l}=a,{extractKey:c,outbound:u}=l,h=__spreadProps(__spreadValues({},s),{mutate:e=>{const t=e.trans,l=t.mutatedParts||(t.mutatedParts={}),c=e=>{const t="idb://".concat(r,"/").concat(o,"/").concat(e);return l[t]||(l[t]=new Ln)},u=c(""),h=c(":dels"),{type:d}=e;let[p,f]="deleteRange"===e.type?[e.range]:"delete"===e.type?[e.keys]:e.values.length<50?[[],e.values]:[];const y=e.trans._cache;return s.mutate(e).then((e=>{if(n(p)){"delete"!==d&&(p=e.results),u.addKeys(p);const i=qn(p,y);i||"add"===d||h.addKeys(p),(i||f)&&(t=c,r=i,o=f,a.indexes.forEach((function(e){const i=t(e.name||"");function s(t){return null!=t?e.extractKey(t):null}const a=t=>e.multiEntry&&n(t)?t.forEach((e=>i.addKey(e))):i.addKey(t);(r||o).forEach(((e,t)=>{const n=r&&s(r[t]),i=o&&s(o[t]);0!==$t(n,i)&&(null!=n&&a(n),null!=i&&a(i))}))})))}else if(p){const e={from:p.lower,to:p.upper};h.add(e),u.add(e)}else u.add(i),h.add(i),a.indexes.forEach((e=>c(e.name).add(i)));var t,r,o;return e}))}}),d=({query:{index:t,range:r}})=>{var n,i;return[t,new Ln(null!==(n=r.lower)&&void 0!==n?n:e.MIN_KEY,null!==(i=r.upper)&&void 0!==i?i:e.MAX_KEY)]},p={get:e=>[l,new Ln(e.key)],getMany:e=>[l,(new Ln).addKeys(e.keys)],count:d,query:d,openCursor:d};return t(p).forEach((e=>{h[e]=function(t){const{subscr:n}=Oe;if(n){const a=e=>{const t="idb://".concat(r,"/").concat(o,"/").concat(e);return n[t]||(n[t]=new Ln)},l=a(""),h=a(":dels"),[d,f]=p[e](t);if(a(d.name||"").add(f),!d.isPrimaryKey){if("count"!==e){const r="query"===e&&u&&t.values&&s.query(__spreadProps(__spreadValues({},t),{values:!1}));return s[e].apply(this,arguments).then((n=>{if("query"===e){if(u&&t.values)return r.then((({result:e})=>(l.addKeys(e),n)));const e=t.values?n.result.map(c):n.result;t.values?l.addKeys(e):h.addKeys(e)}else if("openCursor"===e){const e=n,r=t.values;return e&&Object.create(e,{key:{get:()=>(h.addKey(e.primaryKey),e.key)},primaryKey:{get(){const t=e.primaryKey;return h.addKey(t),t}},value:{get:()=>(r&&l.addKey(e.primaryKey),e.value)}})}return n}))}h.add(i)}}return s[e].apply(this,arguments)}})),h}})}};class Xn{constructor(e,t){this._middlewares={},this.verno=0;const r=Xn.dependencies;this._options=t=__spreadValues({addons:Xn.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange},t),this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange};const{addons:n}=t;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const i={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ee,dbReadyPromise:null,cancelOpen:ee,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var o,s;i.dbReadyPromise=new je((e=>{i.dbReadyResolve=e})),i.openCanceller=new je(((e,t)=>{i.cancelOpen=t})),this._state=i,this.name=e,this.on=Dt(this,"populate","blocked","versionchange","close",{ready:[ue,ee]}),this.on.ready.subscribe=y(this.on.ready.subscribe,(e=>(t,r)=>{Xn.vip((()=>{const n=this._state;if(n.openComplete)n.dbOpenError||je.resolve().then(t),r&&e(t);else if(n.onReadyBeingFired)n.onReadyBeingFired.push(t),r&&e(t);else{e(t);const n=this;r||e((function e(){n.on.ready.unsubscribe(t),n.on.ready.unsubscribe(e)}))}}))})),this.Collection=(o=this,It(Vt.prototype,(function(e,t){this.db=o;let r=At,n=null;if(t)try{r=t()}catch(l){n=l}const i=e._ctx,s=i.table,a=s.hook.reading.fire;this._ctx={table:s,index:i.index,isPrimKey:!i.index||s.schema.primKey.keyPath&&i.index===s.schema.primKey.name,range:r,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:n,or:i.or,valueMapper:a!==te?a:null}}))),this.Table=(s=this,It(jt.prototype,(function(e,t,r){this.db=s,this._tx=r,this.name=e,this.schema=t,this.hook=s._allTables[e]?s._allTables[e].hook:Dt(null,{creating:[se,ee],reading:[ne,te],updating:[oe,ee],deleting:[ie,ee]})}))),this.Transaction=function(e){return It(an.prototype,(function(t,r,n,i,o){this.db=e,this.mode=t,this.storeNames=r,this.schema=n,this.chromeTransactionDurability=i,this.idbtrans=null,this.on=Dt(this,"complete","error","abort"),this.parent=o||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new je(((e,t)=>{this._resolve=e,this._reject=t})),this._completion.then((()=>{this.active=!1,this.on.complete.fire()}),(e=>{var t=this.active;return this.active=!1,this.on.error.fire(e),this.parent?this.parent._reject(e):t&&this.idbtrans&&this.idbtrans.abort(),ft(e)}))}))}(this),this.Version=function(e){return It(On.prototype,(function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(e){return It(en.prototype,(function(t,r,n){this.db=e,this._ctx={table:t,index:":id"===r?null:r,or:n};const i=e._deps.indexedDB;if(!i)throw new X.MissingAPI;this._cmp=this._ascending=i.cmp.bind(i),this._descending=(e,t)=>i.cmp(t,e),this._max=(e,t)=>i.cmp(e,t)>0?e:t,this._min=(e,t)=>i.cmp(e,t)<0?e:t,this._IDBKeyRange=e._deps.IDBKeyRange}))}(this),this.on("versionchange",(e=>{e.newVersion>0?console.warn("Another connection wants to upgrade database '".concat(this.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(this.name,"'. Closing db now to resume the delete request.")),this.close()})),this.on("blocked",(e=>{!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('".concat(this.name,"') was blocked")):console.warn("Upgrade '".concat(this.name,"' blocked by other connection holding version ").concat(e.oldVersion/10))})),this._maxKey=hn(t.IDBKeyRange),this._createTransaction=(e,t,r,n)=>new this.Transaction(e,t,r,this._options.chromeTransactionDurability,n),this._fireOnBlocked=e=>{this.on("blocked").fire(e),_t.filter((e=>e.name===this.name&&e!==this&&!e._state.vcFired)).map((t=>t.on("versionchange").fire(e)))},this.use(Fn),this.use(Nn),this.use(Qn),this.use($n),this.vip=Object.create(this,{_vip:{value:!0}}),n.forEach((e=>e(this)))}version(e){if(isNaN(e)||e<.1)throw new X.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new X.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const t=this._versions;var r=t.filter((t=>t._cfg.version===e))[0];return r||(r=new this.Version(e),t.push(r),t.sort(_n),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(e){return this.idbdb&&(this._state.openComplete||Oe.letThrough||this._vip)?e():new je(((e,t)=>{if(this._state.openComplete)return t(new X.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void t(new X.DatabaseClosed);this.open().catch(ee)}this._state.dbReadyPromise.then(e,t)})).then(e)}use({stack:e,create:t,level:r,name:n}){n&&this.unuse({stack:e,name:n});const i=this._middlewares[e]||(this._middlewares[e]=[]);return i.push({stack:e,create:t,level:null==r?10:r,name:n}),i.sort(((e,t)=>e.level-t.level)),this}unuse({stack:e,name:t,create:r}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter((e=>r?e.create!==r:!!t&&e.name!==t))),this}open(){return Dn(this)}_close(){const e=this._state,t=_t.indexOf(this);if(t>=0&&_t.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(r){}this._novip.idbdb=null}e.dbReadyPromise=new je((t=>{e.dbReadyResolve=t})),e.openCanceller=new je(((t,r)=>{e.cancelOpen=r}))}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new X.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,t=this._state;return new je(((r,n)=>{const i=()=>{this.close();var e=this._deps.indexedDB.deleteDatabase(this.name);e.onsuccess=Ye((()=>{!function({indexedDB:e,IDBKeyRange:t},r){!An(e)&&r!==Pt&&Sn(e,t).delete(r).catch(ee)}(this._deps,this.name),r()})),e.onerror=tn(n),e.onblocked=this._fireOnBlocked};if(e)throw new X.InvalidArgument("Arguments not allowed in db.delete()");t.isBeingOpened?t.dbReadyPromise.then(i):i()}))}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){const e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return t(this._allTables).map((e=>this._allTables[e]))}transaction(){const e=Bn.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,t,r){let n=Oe.trans;n&&n.db===this&&-1===e.indexOf("!")||(n=null);const i=-1!==e.indexOf("?");let o,s;e=e.replace("!","").replace("?","");try{if(s=t.map((e=>{var t=e instanceof this.Table?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t})),"r"==e||e===Kt)o=Kt;else{if("rw"!=e&&e!=Ot)throw new X.InvalidArgument("Invalid transaction mode: "+e);o=Ot}if(n){if(n.mode===Kt&&o===Ot){if(!i)throw new X.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");n=null}n&&s.forEach((e=>{if(n&&-1===n.storeNames.indexOf(e)){if(!i)throw new X.SubTransaction("Table "+e+" not included in parent transaction.");n=null}})),i&&n&&!n.active&&(n=null)}}catch(l){return n?n._promise(null,((e,t)=>{t(l)})):ft(l)}const a=Tn.bind(null,this,o,s,n,r);return n?n._promise(o,a,"lock"):Oe.trans?at(Oe.transless,(()=>this._whenReady(a))):this._whenReady(a)}table(e){if(!o$1(this._allTables,e))throw new X.InvalidTable("Table ".concat(e," does not exist"));return this._allTables[e]}}const Jn="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable";class Zn{constructor(e){this._subscribe=e}subscribe(e,t,r){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:r})}[Jn](){return this}}function er(e,r){return t(r).forEach((t=>{Wn(e[t]||(e[t]=new Ln),r[t])})),e}function tr(e){let r,n=!1;const i=new Zn((i=>{const o=T(e);let s=!1,a={},l={};const c={get closed(){return s},unsubscribe:()=>{s=!0,on.storagemutated.unsubscribe(p)}};i.start&&i.start(c);let u=!1,h=!1;function d(){return t(l).some((e=>a[e]&&Yn(a[e],l[e])))}const p=e=>{er(a,e),d()&&f()},f=()=>{if(u||s)return;a={};const t={},y=function(t){o&&et();const r=()=>Ze(e,{subscr:t,trans:null}),n=Oe.trans?at(Oe.transless,r):r();return o&&n.then(tt,tt),n}(t);h||(on(rn,p),h=!0),u=!0,Promise.resolve(y).then((e=>{n=!0,r=e,u=!1,s||(d()?f():(a={},l=t,i.next&&i.next(e)))}),(e=>{u=!1,n=!1,i.error&&i.error(e),c.unsubscribe()}))};return f(),c}));return i.hasValue=()=>n,i.getValue=()=>r,i}let nr;try{nr={indexedDB:e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB,IDBKeyRange:e.IDBKeyRange||e.webkitIDBKeyRange}}catch(e2){nr={indexedDB:null,IDBKeyRange:null}}const rr=Xn;function sr(e){let t=ir;try{ir=!0,on.storagemutated.fire(e)}finally{ir=t}}a(rr,__spreadProps(__spreadValues({},Z),{delete:e=>new rr(e,{addons:[]}).delete(),exists:e=>new rr(e,{addons:[]}).open().then((e=>(e.close(),!0))).catch("NoSuchDatabaseError",(()=>!1)),getDatabaseNames(e){try{return function({indexedDB:e,IDBKeyRange:t}){return An(e)?Promise.resolve(e.databases()).then((e=>e.map((e=>e.name)).filter((e=>e!==Pt)))):Sn(e,t).toCollection().primaryKeys()}(rr.dependencies).then(e)}catch(t){return ft(new X.MissingAPI)}},defineClass:()=>function(e){r(this,e)},ignoreTransaction:e=>Oe.trans?at(Oe.transless,e):e(),vip:Cn,async:function(e){return function(){try{var t=In(e.apply(this,arguments));return t&&"function"==typeof t.then?t:je.resolve(t)}catch(r){return ft(r)}}},spawn:function(e,t,r){try{var n=In(e.apply(r,t||[]));return n&&"function"==typeof n.then?n:je.resolve(n)}catch(i){return ft(i)}},currentTransaction:{get:()=>Oe.trans||null},waitFor:function(e,t){const r=je.resolve("function"==typeof e?rr.ignoreTransaction(e):e).timeout(t||6e4);return Oe.trans?Oe.trans.waitFor(r):r},Promise:je,debug:{get:()=>R,set:e=>{F(e,"dexie"===e?()=>!0:Et)}},derive:c,extend:r,props:a,override:y,Events:Dt,on:on,liveQuery:tr,extendObservabilitySet:er,getByKeyPath:b,setByKeyPath:_,delByKeyPath:function(e,t){"string"==typeof t?_(e,t,void 0):"length"in t&&[].map.call(t,(function(t){_(e,t,void 0)}))},shallowClone:w,deepClone:O,getObjectDiff:Mn,cmp:$t,asap:v,minKey:vt,addons:[],connections:_t,errnames:H,dependencies:nr,semVer:yt,version:yt.split(".").map((e=>parseInt(e))).reduce(((e,t,r)=>e+t/Math.pow(10,2*r)))})),rr.maxKey=hn(rr.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(on(rn,(e=>{if(!ir){let t;wt?(t=document.createEvent("CustomEvent"),t.initCustomEvent(sn,!0,!0,e)):t=new CustomEvent(sn,{detail:e}),ir=!0,dispatchEvent(t),ir=!1}})),addEventListener(sn,(({detail:e})=>{ir||sr(e)})));let ir=!1;if("undefined"!=typeof BroadcastChannel){const e=new BroadcastChannel(sn);"function"==typeof e.unref&&e.unref(),on(rn,(t=>{ir||e.postMessage(t)})),e.onmessage=e=>{e.data&&sr(e.data)}}else if("undefined"!=typeof self&&"undefined"!=typeof navigator){on(rn,(e=>{try{ir||("undefined"!=typeof localStorage&&localStorage.setItem(sn,JSON.stringify({trig:Math.random(),changedParts:e})),"object"==typeof self.clients&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach((t=>t.postMessage({type:sn,changedParts:e}))))}catch(t){}})),"undefined"!=typeof addEventListener&&addEventListener("storage",(e=>{if(e.key===sn){const t=JSON.parse(e.newValue);t&&sr(t.changedParts)}}));const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",(function({data:e}){e&&e.type===sn&&sr(e.changedParts)}))}je.rejectionMapper=function(e,t){if(!e||e instanceof W||e instanceof TypeError||e instanceof SyntaxError||!e.name||!J[e.name])return e;var r=new J[e.name](t||e.message,e);return"stack"in e&&l(r,"stack",{get:function(){return this.inner.stack}}),r},F(R,Et);class EWTVideoPlayerDB extends Xn{constructor(){super("EWTVideoPlayer"),_defineProperty$1(this,"logs",void 0),this.version(1).stores({logs:"++id, level"})}}const db=new EWTVideoPlayerDB,LogLevel=Object.freeze({error:"error",warn:"warn",info:"info",log:"log",debug:"debug"});function stringify(e,t,r,n){try{return JSON.stringify(e,serializer(t,n),r)}catch(e2){console.error("[MSTPlayer-stringify]：",e2)}return""}function serializer(e,t){const r=[],n=[];return null==t&&(t=function(e,t){return r[0]===t?"[Circular ~]":"[Circular ~."+n.slice(0,r.indexOf(t)).join(".")+"]"}),function(i,o){if(r.length>0){const e=r.indexOf(this);~e?r.splice(e+1):r.push(this),~e?n.splice(e,1/0,i):n.push(i),~r.indexOf(o)&&(o=t.call(this,i,o))}else r.push(o);return null==e?o:e.call(this,i,o)}}var _Configs;class Configs{}function ownKeys$j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$j(Object(r),!0).forEach((function(t){_defineProperty$1(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}_Configs=Configs,_defineProperty$1(Configs,"_logGP",{}),_defineProperty$1(Configs,"setLogGlobalProps",(e=>{_Configs._logGP=e||{}})),_defineProperty$1(Configs,"getLogGlobalProps",(()=>_Configs._logGP||{}));const slsConfig$1={test:{logProject:"sls-ewt-test-tech-infra-fe",logStore:"ewt-web-log"},production:{logProject:"sls-ewt-tech-infra-fe",logStore:"ewt-web-log"}},SLS_HOST$1="cn-hangzhou.log.aliyuncs.com",MAX_CACHED_LOG_COUNT=1e3;class Logger{constructor(e){if(_defineProperty$1(this,"ns",void 0),_defineProperty$1(this,"slsTracker",void 0),!Logger._uuid){Logger._uuid=Logger._generateUUID();const{isTest:e,isPre:t,isLocal:r,isDev:n}=hostInfo;r?Logger.currentEnv="local":e||n?Logger.currentEnv="test":t&&(Logger.currentEnv="pre"),"production"!==Logger.currentEnv&&(Logger._shouldLogToConsole=!0),"local"!==Logger.currentEnv&&(Logger._shouldLogToSls=!0),window.indexedDB&&(Logger._shouldLogToIndexedDB=!0)}const t=["local","test"].includes(Logger.currentEnv)?slsConfig$1.test.logProject:slsConfig$1.production.logProject,r=["local","test"].includes(Logger.currentEnv)?slsConfig$1.test.logStore:slsConfig$1.production.logStore,n={host:SLS_HOST$1,project:t,logstore:r,time:10,count:10,topic:"ewt_video_player_log"};this.ns=e||"default",this.slsTracker=new WebTrackerBrowser(n)}static _generateUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}static _getFormattedTime(e){return dateFormat(e)}static _checkIfLogLevelEnabled(e){return Logger._logLevels.indexOf(e)>=Logger._logLevels.indexOf(Logger.level)}_filterCachedLogsThenSendToSLS(){return __async2(this,null,(function*(){(yield db.logs.toArray()).forEach((e=>{const{id:t,level:r,message:n,globalProps:i}=e;Logger._checkIfLogLevelEnabled(r)&&(this._sendToSLS(r,n,JSON.parse(i)),db.logs.where({id:t}).delete())}))}))}_toString(e){const t=typeof e;let r="";if(e instanceof Error)r="[Error] ".concat(e.message),e.stack&&(r+="\n ".concat(e.stack));else switch(t){case"string":case"number":case"boolean":r="".concat(e);break;case"undefined":r="undefined";break;case"function":r="[Function]";break;case"symbol":r="[Symbol] ".concat(e.toString());break;default:r="".concat(stringify(e,void 0,2))}return r}_formatMessage(e){const t=Logger._getFormattedTime();return"".concat(t," [").concat(this.ns||"default","] - ").concat(e)}_sendToSLS(e,t,r,n){this.slsTracker.send({content:t,level:e,gp:r,extendInfo:n||{}})}_cacheToIndexedDB(e,t,r){return __async2(this,null,(function*(){try{yield db.logs.add({level:e,message:t,globalProps:JSON.stringify(r),createTime:+new Date});const n=yield db.logs.count();n>MAX_CACHED_LOG_COUNT&&(console.info("indexedDB totalLogs",n),yield db.logs.orderBy("id").reverse().offset(MAX_CACHED_LOG_COUNT).delete())}catch(error){console.warn("[MSTPlayer-日志indexedDB缓存异常]：",error)}}))}_write(e){try{for(var t,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];const o=n.map((e=>this._toString(e))).join(" "),s=this._formatMessage(o),a=_objectSpread$j(_objectSpread$j(_objectSpread$j({},Configs.getLogGlobalProps()),Logger.globalProps),{},{uuid:Logger._uuid,userId:Logger._userId,location:null===(t=window)||void 0===t||null===(t=t.location)||void 0===t?void 0:t.href,sdk:version,userAgent:navigator.userAgent});Logger._shouldLogToConsole&&console[e]({level:e,content:s,gp:a}),Logger._checkIfLogLevelEnabled(e)?Logger._shouldLogToSls&&this._sendToSLS(e,s,a):Logger._shouldLogToIndexedDB&&this._cacheToIndexedDB(e,s,a),this._filterCachedLogsThenSendToSLS()}catch(e2){console.error("[MSTPlayer-基础日志]：",e2)}}static _checkIfShouldUpdateUserSpecificLogLevel(){Logger._userId&&Logger._logExtendConfig&&Logger._logLevels.some(((e,t)=>{const r=Logger._logExtendConfig[e];return!(!r||!r.includes(Logger._userId))&&(Logger.level=Logger._logLevels[t],!0)}))}static setGlobalLogLevel(e,t){if(Logger.level=e,t&&t.length>0){const e={};t.split(";").forEach((t=>{const[r,n]=t.split(":"),i=n.split(",");i.length&&(e[r]=i)})),Logger._logExtendConfig=e,Logger._checkIfShouldUpdateUserSpecificLogLevel()}}static setUserId(e){Logger._userId=e,Logger._checkIfShouldUpdateUserSpecificLogLevel()}static setGlobalProps(e){Logger.globalProps=e}static getPrivateStates(){return{uuid:Logger._uuid,userId:Logger._userId}}log(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._write(LogLevel.log,...t)}info(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._write(LogLevel.info,...t)}debug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._write(LogLevel.debug,...t)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._write(LogLevel.warn,...t)}error(e){this._write(LogLevel.error,e)}}_defineProperty$1(Logger,"_uuid",void 0),_defineProperty$1(Logger,"_userId",void 0),_defineProperty$1(Logger,"_logExtendConfig",{}),_defineProperty$1(Logger,"_logLevels",[LogLevel.debug,LogLevel.log,LogLevel.info,LogLevel.warn,LogLevel.error]),_defineProperty$1(Logger,"_shouldLogToConsole",!1),_defineProperty$1(Logger,"_shouldLogToSls",!1),_defineProperty$1(Logger,"_shouldLogToIndexedDB",!1),_defineProperty$1(Logger,"level",LogLevel.info),_defineProperty$1(Logger,"globalProps",{}),_defineProperty$1(Logger,"currentEnv","production");const index$l="",Component$o=videojs.getComponent("Component"),networkCheckModalCompName="NetworkCheckModal",closeBtnCls="vjs-network-check-modal-container-header-close-btn",checkNetworkBtn="vjs-network-check-modal-container-footer-submit-btn",networkCheckModal='\n <div class="vjs-network-check-modal-container">\n  <div class="vjs-network-check-modal-container-header">\n   <div>提示</div>\n   <div class="'.concat(closeBtnCls,'"></div>\n  </div>\n  <div class="vjs-network-check-modal-container-body">\n  出现卡顿、无法播放等观看问题，您可尝试<span class="vjs-network-check-modal-container-body-action-tip">点击【检查网络】</span>进行网络检测。若排除网络问题后依然无法解决，可联系客服来获取进一步的帮助。\n  </div>\n  <div class="vjs-network-check-modal-container-footer">\n    <div class=').concat(checkNetworkBtn,">检查网络</div>\n  </div>\n </div>");class NetworkCheckModal extends Component$o{constructor(e,t){super(e,t),_defineProperty$1(this,"_handleClose",void 0),this._handleClose=t.handleClose,this.handleCheckNetwork(),this.handleClose()}handleCheckNetwork(){const e=this.el().querySelector(".".concat(checkNetworkBtn));e&&this.on(e,"click",(()=>{window.open("https://web.ewt360.com/web-detector")}))}handleClose(){const e=this.el().querySelector(".".concat(closeBtnCls));e&&this.on(e,"click",(e=>{e.stopPropagation(),this._handleClose(),this.dispose()}))}createEl(){return template(networkCheckModal)}}videojs.registerComponent(networkCheckModalCompName,NetworkCheckModal);const index$k="";function ownKeys$i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$i(Object(r),!0).forEach((function(t){_defineProperty$1(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const feedbackModalCompName="FeedbackModal",feedbackModalBodyCls="vjs-feedback-modal-container",MAX_SELECTED_COUNT=3,MAX_TEXT_COUNT=100,closeContainerCls="vjs-feedback-modal-container-header-close-btn",optionsContainerCls="vjs-feedback-modal-container-body-feedbackTypes",optionCls="vjs-feedback-modal-container-body-feedbackTypes-item",feedbackTypeTitleCls="vjs-feedback-modal-container-body-feedbackTypes-title",screenShotCls="vjs-feedback-modal-container-body-top-video-frame-img",screenShotTimeCls="vjs-feedback-modal-container-body-top-video-frame-title",adviceContainerCls="vjs-feedback-modal-container-body-bottom",adviceContainerTitleCls="vjs-feedback-modal-container-body-bottom-title",adviceTextareaCls="vjs-feedback-modal-container-body-bottom-textarea",adviceTextCountCls="vjs-feedback-modal-container-body-bottom-textarea-text-count",loadingCls="vjs-feedback-modal-loading",CACHE_PREFIX="MSTPlayer-feedback-modal-content-cache",feedbackModalStr='<div class="vjs-feedback-modal">\n <div class='.concat(feedbackModalBodyCls,'>\n  <div class="vjs-feedback-modal-container-header">\n   <div>反馈</div>\n   <div class=').concat(closeContainerCls,'></div>\n  </div>\n  <div class="vjs-feedback-modal-container-body">\n    <div class="vjs-feedback-modal-container-body-top">\n      <div class="vjs-feedback-modal-container-body-feedbackType-container">\n        <div class="vjs-feedback-modal-container-body-title">\n          <div class="vjs-feedback-modal-container-body-title-spout"></div>\n          <div class=').concat(feedbackTypeTitleCls,">请至少选择1个反馈类型，最多选择").concat(MAX_SELECTED_COUNT,"个</div>\n        </div>\n        <div class=").concat(optionsContainerCls,'></div>\n      </div>\n      <div class="vjs-feedback-modal-container-body-top-video-frame">\n        <div class=').concat(screenShotTimeCls,"></div>\n        <div class=").concat(screenShotCls,">\n        </div>\n      </div>\n    </div>\n    <div class=").concat(adviceContainerCls,'>\n      <div class="vjs-feedback-modal-container-body-title">\n        <div class="vjs-feedback-modal-container-body-title-spout"></div>\n        <div class=').concat(adviceContainerTitleCls,">写一写你的问题或建议</div>\n      </div>\n      <textarea\n        class=").concat(adviceTextareaCls,"\n        maxlength=").concat(MAX_TEXT_COUNT,'\n        placeholder="最多输入100个汉字"\n      ></textarea>\n      <div class=').concat(adviceTextCountCls,'>0/100</div>\n    </div>\n  </div>\n  <div class="vjs-feedback-modal-container-footer">\n    <div class="submit-btn">提交</div>\n  </div>\n </div>\n</div>'),Component$n=videojs.getComponent("Component");class FeedbackModal extends Component$n{constructor(e,t){super(e,t),_defineProperty$1(this,"_logger",void 0),_defineProperty$1(this,"screenshotBlob",void 0),_defineProperty$1(this,"originPlayerStatus",void 0),_defineProperty$1(this,"formValues",void 0),_defineProperty$1(this,"feedbackOptions",[]),_defineProperty$1(this,"config",void 0),_defineProperty$1(this,"cacheKey",void 0),_defineProperty$1(this,"loaderComp",void 0),_defineProperty$1(this,"canCache",void 0),_defineProperty$1(this,"isLoading",void 0),this.canCache=!0,this._logger=new Logger("FeedbackModal"),this.formValues={},this.config=t.config,this.loaderComp=this.player().getChild("loadingLayer"),this.setPlayerStatus(),this.createFeedbackOptions(),this.setInitValues(),this.handleClose(),this.createOptionsEle(),this.setScreenShot(),this.handleTextareaAction(),this.on(this.el().querySelector(".submit-btn"),"click",this.submit)}showLoading(e){var t,r;this.loaderComp&&(this.isLoading=e,e?(this.loaderComp.addClass(loadingCls),null===(t=(r=this.loaderComp).doShow)||void 0===t||t.call(r,!1)):(this.loaderComp.removeClass(loadingCls),this.loaderComp.doHide()))}handleTextareaAction(){this.on(this.el().querySelector(".".concat(adviceTextareaCls)),"input",this.changeTextCount),this.on(this.el().querySelector(".".concat(adviceTextareaCls)),"change",this.cacheFeedbacksAndTextarea)}handleClose(){const e=this.el().querySelector(".".concat(closeContainerCls));e&&this.on(e,"click",(e=>{e.stopPropagation(),this.onClose()}))}onClose(){var e;null!==(e=this.config.initConfig)&&void 0!==e&&e.onVisibleChange&&this.config.initConfig.onVisibleChange(!1),this.canCache&&this.cacheFeedbacksAndTextarea(),this.isLoading&&this.showLoading(!1),this.setPlayerStatus(!0),this.dispose()}setDeviceInfo(){try{var e;const{uuid:t,userId:r}=Logger.getPrivateStates();this.formValues.deviceInfo=JSON.stringify({uuid:t,userId:r,location:null===(e=window)||void 0===e||null===(e=e.location)||void 0===e?void 0:e.href,sdk:version,userAgent:navigator.userAgent})}catch(error){this._logger.error({type:"set deviceInfo failed",error:error}),this.formValues.deviceInfo="{}"}}setPlayerStatus(e){const t=this.player();if(!t)return;const r=t.getChild("controlBar"),n=t.getChild("topBar"),i=t.hotKeys();if(e){var o,s;if(null==r||r.show(),null==n||n.show(),null!==(o=this.originPlayerStatus)&&void 0!==o&&o.isPlay)null===(s=t.play())||void 0===s||s.catch((e=>{console.error(e)}));i&&i.resumeHotKeys(HotKeysLockNameEnum.FEEDBACK)}else null==r||r.hide(),null==n||n.hide(),t.paused()||(t.pause(),this.originPlayerStatus={isPlay:!0}),i&&i.disableHotKeys(HotKeysLockNameEnum.FEEDBACK)}createFeedbackOptions(){var e;const t=this.config.globalConfig;t?(this.feedbackOptions=t.feedbackTypeList||[],this.player_.subtitlesPlugin&&this.player_.subtitlesPlugin().isSubtitlesShow()&&null!==(e=t.customFeedbackType)&&void 0!==e&&e.subtitle&&(this.feedbackOptions=this.feedbackOptions.concat(t.customFeedbackType.subtitle)),this.feedbackOptions.sort(((e,t)=>e.sort-t.sort))):this.feedbackOptions=[]}setInitValues(){this.config.lessonId&&(this.cacheKey="".concat(CACHE_PREFIX,"-").concat(this.config.lessonId));const e=this.getCacheValues();if(this.formValues={feedbackTypeCodes:Array.isArray(e.feedbackTypeCodes)?e.feedbackTypeCodes.filter((e=>this.feedbackOptions.some((t=>t.feedbackTypeCode==e)))):[],videoBizCode:this.config.videoBizCode,lessonId:this.config.lessonId},e.problemDescription){const t=this.el().querySelector(".".concat(adviceTextareaCls));t&&(t.value=e.problemDescription,this.setTextCount(e.problemDescription.length))}}createOptionsEle(){const e=this.el().querySelector(".".concat(optionsContainerCls));if(e){this.on(e,"click",this.optionChange);const t=this.feedbackOptions.reduce(((e,t)=>{const r=(this.formValues.feedbackTypeCodes||[]).some((e=>e==t.feedbackTypeCode));return e+"\n        <div class=".concat(optionCls,'>\n          <div class="select-box box-').concat(t.feedbackTypeCode," ").concat(r&&"be-selected",'" data-id=').concat(t.feedbackTypeCode,'></div>\n          <div class="option-text" data-id=').concat(t.feedbackTypeCode,">").concat(t.feedbackTypeName,"</div>\n        </div>")}),"");e.innerHTML=t}}optionChange(e){var t,r;e.stopPropagation();const n=null===(t=e.target.dataset)||void 0===t?void 0:t.id;if(!n)return;if(this.formValues.feedbackTypeCodes.length===MAX_SELECTED_COUNT&&!this.formValues.feedbackTypeCodes.includes(+n))return void this.showToast({type:EToastType.error,content:"最多选择三个"});null===(r=this.el().querySelector(".box-".concat(n)))||void 0===r||r.classList.toggle("be-selected");const i=this.formValues.feedbackTypeCodes.indexOf(+n);i>-1?this.formValues.feedbackTypeCodes.splice(i,1):this.formValues.feedbackTypeCodes.push(+n),this.cacheFeedbacksAndTextarea(),this.isLegalWithFeedbackValue(),this.isLegalWithTextarea()}setScreenShot(){return __async2(this,null,(function*(){const e=this.player().currentTime();this.formValues.screenshotTimestamp=e;const t=videojs.formatTime(e,600),r=this.el().querySelector(".".concat(screenShotTimeCls));r&&(r.innerHTML="视频时间点 ".concat(t));const n=yield this.player().screenShot().getScreenshotWithTextTrack(!0);if(n){const e=this.el().querySelector(".".concat(screenShotCls));if(e){this.screenshotBlob=n;const t=URL.createObjectURL(n);e.style.backgroundImage="url(".concat(t,")")}}}))}getDesc(){var e;return null===(e=this.el().querySelector(".".concat(adviceTextareaCls)))||void 0===e?void 0:e.value.trim()}changeTextCount(e){if(e){var t;const r=null===(t=e.target)||void 0===t||null===(t=t.value)||void 0===t?void 0:t.trim(),n=null==r?void 0:r.length;n&&this.triggerTextareaErrorTip(!0),this.setTextCount(n)}}setTextCount(e){const t=this.el().querySelector(".".concat(adviceTextCountCls));t&&(t.innerHTML="".concat(e,"/").concat(MAX_TEXT_COUNT))}cacheFeedbacksAndTextarea(){try{if(!this.cacheKey||!this.el())return;const e={feedbackTypeCodes:this.formValues.feedbackTypeCodes,problemDescription:this.getDesc()};window.sessionStorage.setItem(this.cacheKey,JSON.stringify(e))}catch(error){console.error(error)}}clearCache(){this.cacheKey&&window.sessionStorage.removeItem(this.cacheKey)}getCacheValues(){try{if(this.cacheKey){const e=window.sessionStorage.getItem(this.cacheKey);if(e)return JSON.parse(e)}return{}}catch(error){return console.error(error),{}}}showToast(e){var t;null===(t=this.player())||void 0===t||t.trigger(EToastEvent.TOAST_SHOW,e)}isLegalWithFeedbackValue(){var e;const t=this.el().querySelector(".".concat(feedbackTypeTitleCls)),r="".concat(feedbackTypeTitleCls,"-error");return null!==(e=this.formValues.feedbackTypeCodes)&&void 0!==e&&e.length?(null==t||t.classList.remove(r),!0):(null==t||t.classList.add(r),!1)}isLegalWithTextarea(){const e=this.getDesc();return this.formValues.problemDescription=e,!(!e&&this.formValues.feedbackTypeCodes.some((e=>{const t=this.feedbackOptions.find((t=>t.feedbackTypeCode==e));return t&&t.requiredProblemDescription})))&&(this.triggerTextareaErrorTip(!0),!0)}triggerTextareaErrorTip(e){const t=this.el().querySelector(".".concat(adviceContainerTitleCls));if(!t)return;const r="".concat(adviceContainerTitleCls,"-error");e?t.classList.remove(r):t.classList.add(r)}formValidate(){return __async2(this,null,(function*(){let e=!0;return e=this.isLegalWithFeedbackValue(),this.isLegalWithTextarea()||(e=!1,this.triggerTextareaErrorTip(!1)),e||this.showToast({type:EToastType.error,content:"提交失败"}),e}))}needNetworkCheck(){if(this.formValues.feedbackTypeCodes.some((e=>{const t=this.feedbackOptions.find((t=>t.feedbackTypeCode==e));return t&&t.enabledNetworkDetection}))){this.addChild(networkCheckModalCompName,{handleClose:this.onClose.bind(this)});const e=this.el().querySelector(".".concat(feedbackModalBodyCls));return e&&e.classList.add("vjs-hidden"),!0}return!1}submit(){return __async2(this,null,(function*(){try{if(!(yield this.formValidate()))return;if(this.setDeviceInfo(),this.showLoading(!0),this.screenshotBlob){const e=yield uploadFile(this.screenshotBlob).catch((e=>(this._logger.error({type:"uploadVideoImg",message:e}),null)));this.formValues.screenshotImage=e}yield postFeedbackInfo(_objectSpread$i({},this.formValues)),this.canCache=!1,this.clearCache(),this.showToast({type:EToastType.success,content:"提交成功，感谢你的反馈"});this.needNetworkCheck()||this.onClose()}catch(e){console.error(e),this.showToast({type:EToastType.error,content:e.msg||"提交失败"})}finally{this.showLoading(!1)}}))}createEl(){return template(feedbackModalStr)}}videojs.registerComponent(feedbackModalCompName,FeedbackModal);const index$j="",Component$m=videojs.getComponent("Component"),commonPosCls="vjs-toast-common-pos",toastCompName="Toast",toastContentCls="vjs-toast-content",toastSuccessCls="vjs-toast-success",toastErrorCls="vjs-toast-error",toastTemplateStr='\n  <div class="vjs-toast vjs-hidden">\n    <div class="vjs-toast-icon"></div>\n    <div class='.concat(toastContentCls,"></div>\n  </div>"),typeToCls={[EToastType.success]:toastSuccessCls,[EToastType.error]:toastErrorCls};class Toast extends Component$m{constructor(e,t){super(e,t),_defineProperty$1(this,"_timer",void 0),_defineProperty$1(this,"className",void 0),this._timer=null,e.on(EToastEvent.TOAST_SHOW,((e,t)=>this.showToast(t))),e.on(EToastEvent.TOAST_HIDDEN,(()=>this.hiddenToast()))}showToast(e){this._timer&&(window.clearTimeout(this._timer),this._timer=null);const t=this.el(),{type:r,content:n,className:i=commonPosCls}=e;i&&(this.className=i,this.addClass(i)),this.removeClass(r===EToastType.error?toastSuccessCls:toastErrorCls),this.addClass(typeToCls[r]);const o=t.querySelector(".".concat(toastContentCls));o&&(o.innerText=n),this.show(),this._timer=window.setTimeout((()=>{this.hide()}),2e3)}hide(){this.className&&(this.removeClass(this.className),this.className=void 0),super.hide()}hiddenToast(){this.hide()}dispose(){this._timer&&window.clearTimeout(this._timer),super.dispose()}createEl(){return template(toastTemplateStr)}}videojs.registerComponent(toastCompName,Toast);const index$i="",WORDS={[CateEnum.RADIO]:"单选题",[CateEnum.MULTI_SELECT]:"多选题",[CateEnum.JUDGE]:"判断题"},temp$4=template('\n<div class="question-container">\n  <div class="question-image-container">\n    <div class="question-image"></div>\n  </div>\n  <div class="question-combition">\n    <div class="question-bottom">\n      <div class="action-btn-container">\n        <div class="type-word">单选题</div>\n        <div class="action-btn btn"><span>A</span></div>\n        <div class="action-btn btn"><span>B</span></div>\n        <div class="action-btn btn"><span>C</span></div>\n        <div class="action-btn btn"><span>D</span></div>\n        <div class="action-judge correct-btn"><span>正确</span></div>\n        <div class="action-judge error-btn"><span>错误</span></div>\n        <div class="action-submit btn btn-disabled"><span>提交</span></div>\n      </div>\n    </div>\n    <div class="skip-container">\n      <div class="skip-countdown"><span>30</span>s</div>\n      <div class="btn action-skip"><span>跳过</span></div>\n    </div>\n  </div>\n</div>\n'),COUNT_DOWN_TIME=60,DELAY_SHOW_COUNT_DOWN=5;class Question{constructor(e){var t=this;_defineProperty$1(this,"parent",void 0),_defineProperty$1(this,"question",void 0),_defineProperty$1(this,"skipContainer",void 0),_defineProperty$1(this,"skipCountDown",void 0),_defineProperty$1(this,"actionSubmit",void 0),_defineProperty$1(this,"imgNode",void 0),_defineProperty$1(this,"isMulti",!1),_defineProperty$1(this,"isJudge",!1),_defineProperty$1(this,"onSkip",void 0),_defineProperty$1(this,"onCheckAnswer",void 0),_defineProperty$1(this,"onOptionClick",void 0),_defineProperty$1(this,"onSubmitClick",void 0),_defineProperty$1(this,"data",void 0),_defineProperty$1(this,"_isEnd",!1),_defineProperty$1(this,"_countDown",void 0),_defineProperty$1(this,"_selectedAnswer",{}),_defineProperty$1(this,"_answerStart",0),_defineProperty$1(this,"questionNode",(()=>{const e=null==temp$4?void 0:temp$4.cloneNode(!0),t=e.getElementsByClassName("action-btn"),r=e.getElementsByClassName("action-judge"),n=this.data.question.options||[];for(let o=0;o<t.length;o++){const e=t.item(o);this.addAnswerTag(e),n[o]&&!this.isJudge?(this.changeBackground(e,"btn-single"),clickEvent(e,(()=>{this.actionBtnClick(n[o])?e.classList.add("btn-selected"):e.classList.remove("btn-selected")}))):e.style.display="none"}for(let o=0;o<r.length;o++){const e=r.item(o);if(n[o]&&this.isJudge){this.addAnswerTag(e);const t="A"===n[o]?"correct-btn-selected":"error-btn-selected";this.changeBackground(e,t),clickEvent(e,(()=>{this.actionBtnClick(n[o])}))}else e.style.display="none"}e.getElementsByClassName("type-word").item(0).innerHTML="<span>".concat(WORDS[this.data.question.cate],"</span>"),this.actionSubmit=e.getElementsByClassName("action-submit").item(0),this.isMulti?(clickEvent(this.actionSubmit,(()=>{this.actionSubmitClick()})),this.changeBackground(this.actionSubmit,"action-submit-selected")):this.actionSubmit.style.display="none",this.skipContainer=e.getElementsByClassName("skip-container").item(0);const i=this.skipContainer.getElementsByClassName("skip-countdown").item(0);this.skipCountDown=i.getElementsByTagName("span").item(0);return clickEvent(e.getElementsByClassName("action-skip").item(0),(()=>{this.skip()})),this.skipCountDown.textContent="".concat(this._countDown),this.data.question.questionContentType===QuestionContentTypeEnum.IMAGE&&this.data.question.imageUrl&&(this.imgNode=e.getElementsByClassName("question-image").item(0),this.imgNode.style.backgroundImage="url(".concat(this.data.question.imageUrl,")")),e})),_defineProperty$1(this,"setImgSize",(e=>{this.imgNode&&(this.imgNode.style.width="".concat(.8*e,"px"),this.imgNode.style.height="".concat(.8*e*9/16,"px"))})),_defineProperty$1(this,"start",(()=>__async2(this,null,(function*(){this.parent.appendChild(this.question),this.waitShowSkip(),yield sleep(1),this.question.classList.add("question-container-show"),this._answerStart=(new Date).getTime()})))),_defineProperty$1(this,"end",(()=>__async2(this,null,(function*(){this._isEnd=!0,this.question.classList.remove("question-container-show"),this.question.classList.add("question-container-hide"),yield sleep(500),this.parent.removeChild(this.question)})))),_defineProperty$1(this,"skip",(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t._isEnd=!0,t.parent.removeChild(t.question),t.onSkip(e)})),_defineProperty$1(this,"checkAnswer",(e=>{this.onCheckAnswer({myAnswers:e,totalSeconds:((new Date).getTime()-this._answerStart)/1e3}),this.end()})),_defineProperty$1(this,"actionBtnClick",(e=>{this.onOptionClick(e);let t=!1;if(this.isMulti){this._selectedAnswer[e]?delete this._selectedAnswer[e]:(this._selectedAnswer[e]=!0,t=!0);Object.keys(this._selectedAnswer).length>1?this.actionSubmit.classList.remove("btn-disabled"):this.actionSubmit.classList.add("btn-disabled")}else this.checkAnswer([e]);return t})),_defineProperty$1(this,"actionSubmitClick",(()=>__async2(this,null,(function*(){const e=Object.keys(this._selectedAnswer);e.length>1&&(this.onSubmitClick(),this.checkAnswer(e))})))),_defineProperty$1(this,"waitShowSkip",(()=>__async2(this,null,(function*(){if(!this.data.skipCountdown&&(yield sleep(1e3*DELAY_SHOW_COUNT_DOWN)),!this._isEnd){for(this.skipContainer.style.visibility="visible";this._countDown>0;){if(yield sleep(1e3),this._isEnd)return;this._countDown--;let e="".concat(this._countDown);this._countDown<10&&(e="0".concat(this._countDown)),this.skipCountDown.innerText=e}this.skip(!0)}})))),_defineProperty$1(this,"addAnswerTag",(e=>{var t;const r=(null===(t=this.data.question)||void 0===t?void 0:t.answers)||[];let n;const i=e.querySelectorAll("span")[0];if(r.length>0){this.isJudge&&(n="A"===r[0]?"正确":"错误");for(let t=0;t<r.length;t++)if(i.textContent===r[t]||i.textContent===n){const t=template('<div class="correct-tag"></div> key='.concat(this.data.question.cate,"_").concat(i.textContent)),r=null==t?void 0:t.cloneNode(!0);e.appendChild(r)}}})),_defineProperty$1(this,"changeBackground",((e,t)=>{e.onmousedown=()=>{e.classList.add(t)},e.ontouchstart=()=>{e.classList.add(t)},e.onmouseleave=()=>{e.classList.remove(t)},e.ontouchend=()=>{e.classList.remove(t)}})),this.parent=e.parent,this.onCheckAnswer=e.onCheckAnswer,this.onOptionClick=e.onOptionClick,this.onSubmitClick=e.onSubmitClick,this.isMulti=+e.question.cate===CateEnum.MULTI_SELECT,this.isJudge=+e.question.cate===CateEnum.JUDGE,this.onSkip=e.onSkip,this.data=e,this._countDown=e.skipCountdown?COUNT_DOWN_TIME:COUNT_DOWN_TIME-DELAY_SHOW_COUNT_DOWN,this.question=this.questionNode(),this.setImgSize(e.width),this.start()}dispose(){this._isEnd=!0,this.parent.removeChild(this.question)}}const temp$3=template('\n<div class="mask align-center">\n  <div class="loading-container align-center">\n    <div class="loading-animation"></div>\n    <div class="loading-word"></div>\n  </div>\n  <div class="retry-container">\n    <div class="retry-bg">\n      <div class="retry-word"><span>发生了意想不到的错误！请重试</span></div>\n      <div class="retry-actions">\n        <div class="action-skip"><span>跳过</span></div>\n        <div class="action-retry"><span>重试</span></div>\n      </div>\n    </div>\n    <div class="retry-logo"></div>\n  </div>\n</div>\n');class Loading{constructor(e,t){_defineProperty$1(this,"parent",void 0),_defineProperty$1(this,"container",void 0),_defineProperty$1(this,"loadingDom",void 0),_defineProperty$1(this,"retryDom",void 0),_defineProperty$1(this,"wordDom",void 0),_defineProperty$1(this,"ani",void 0),_defineProperty$1(this,"_logger",void 0),_defineProperty$1(this,"onSkip",void 0),_defineProperty$1(this,"onRetry",void 0),_defineProperty$1(this,"loadAni",(()=>__async2(this,null,(function*(){try{yield loadLottie(),this.ani=window.bodymovin.loadAnimation({container:this.container.getElementsByClassName("loading-animation").item(0),path:"".concat("https://cdn.ewt360.com/resources/app/prod/mst-video-player/dist/","lottie/loading.json"),loop:!0,autoplay:!1})}catch(e2){this._logger.info({type:"ani-loading",error:e2})}})))),_defineProperty$1(this,"show",(e=>{this.wordDom.innerHTML="<span>".concat(e,"</span>"),this.parent.appendChild(this.container),this.toggleRetryUI(!1)})),_defineProperty$1(this,"showRetry",((e,t)=>{this.onSkip=e,this.onRetry=t,this.toggleRetryUI(!0)})),_defineProperty$1(this,"hide",(()=>{this.toggleRetryUI(!1),this.container.parentElement&&this.parent.removeChild(this.container)})),_defineProperty$1(this,"toggleRetryUI",(e=>{var t,r;e?(null===(t=this.ani)||void 0===t||t.stop(),this.loadingDom.style.display="none",this.retryDom.style.display="flex"):(null===(r=this.ani)||void 0===r||r.play(),this.onSkip=void 0,this.onRetry=void 0,this.loadingDom.style.display="flex",this.retryDom.style.display="none")})),this.parent=e,this._logger=t,this.container=null==temp$3?void 0:temp$3.cloneNode(!0),this.loadingDom=this.container.getElementsByClassName("loading-container").item(0),this.retryDom=this.container.getElementsByClassName("retry-container").item(0),this.wordDom=this.container.getElementsByClassName("loading-word").item(0);clickEvent(this.container.getElementsByClassName("action-skip").item(0),(()=>{var e;null===(e=this.onSkip)||void 0===e||e.call(this)}));clickEvent(this.container.getElementsByClassName("action-retry").item(0),(()=>{var e;null===(e=this.onRetry)||void 0===e||e.call(this),this.toggleRetryUI(!1)})),this.loadAni()}}const temp$2=template('\n<div class="mask align-center">\n  <div class="end-animation end-success"></div>\n  <div class="end-animation end-fail"></div>\n</div>\n');class End{constructor(e,t){var r=this;_defineProperty$1(this,"parent",void 0),_defineProperty$1(this,"container",void 0),_defineProperty$1(this,"successDom",void 0),_defineProperty$1(this,"successAni",void 0),_defineProperty$1(this,"failDom",void 0),_defineProperty$1(this,"failAni",void 0),_defineProperty$1(this,"_logger",void 0),_defineProperty$1(this,"loadAni",(()=>__async2(this,null,(function*(){try{yield loadLottie(),this.successAni=window.bodymovin.loadAnimation({container:this.successDom,path:"".concat("https://cdn.ewt360.com/resources/app/prod/mst-video-player/dist/","lottie/success.json"),autoplay:!1,loop:!1}),this.failAni=window.bodymovin.loadAnimation({container:this.failDom,path:"".concat("https://cdn.ewt360.com/resources/app/prod/mst-video-player/dist/","lottie/fail.json"),autoplay:!1,loop:!1})}catch(e2){this._logger.info({type:"ani-end",error:e2})}})))),_defineProperty$1(this,"show",(function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return new Promise((t=>{r.successDom.style.display=e?"block":"none",r.failDom.style.display=e?"none":"block",r.parent.appendChild(r.container);const n=e?r.successAni:r.failAni;null==n||n.addEventListener("complete",(()=>{null==n||n.removeEventListener("complete"),r.hide(),t(1)})),null==n||n.play()}))})),_defineProperty$1(this,"hide",(()=>{var e,t;null===(e=this.successAni)||void 0===e||e.stop(),null===(t=this.failAni)||void 0===t||t.stop(),this.container.parentElement&&this.parent.removeChild(this.container)})),this.parent=e,this._logger=t,this.container=null==temp$2?void 0:temp$2.cloneNode(!0),this.successDom=this.container.getElementsByClassName("end-success").item(0),this.failDom=this.container.getElementsByClassName("end-fail").item(0),this.loadAni()}}function ownKeys$h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$h(Object(r),!0).forEach((function(t){_defineProperty$1(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const layerTemp$3=template('\n<div class="video-interactive-layer vjs-hidden">\n  <div class="video-interactive-container"></div>\n</div>\n'),ratio=9/16,PRE_TIME=3,Component$l=videojs.getComponent("Component");class Interactive extends Component$l{constructor(e,t){super(e,t),_defineProperty$1(this,"container",void 0),_defineProperty$1(this,"loadingLayer",void 0),_defineProperty$1(this,"endLayer",void 0),_defineProperty$1(this,"questionLayer",void 0),_defineProperty$1(this,"_current",void 0),_defineProperty$1(this,"_lastPlayTime",0),_defineProperty$1(this,"_timer",0),_defineProperty$1(this,"_loadingList",{}),_defineProperty$1(this,"_preLoadTime",PRE_TIME),_defineProperty$1(this,"_logger",void 0),_defineProperty$1(this,"_lockMap",{}),_defineProperty$1(this,"_isLastHidden",!1),_defineProperty$1(this,"_forceStopKey",1),_defineProperty$1(this,"calcPreloadTime",(()=>{const e=this.player().playbackRate();e&&(this._preLoadTime=PRE_TIME*e)})),_defineProperty$1(this,"preload",(()=>{const e=this.options_.interactive.interactiveDetail;e&&Object.keys(e).forEach((t=>this.preloadOne(e[t])))})),_defineProperty$1(this,"preloadOne",(e=>{e.question.questionContentType===QuestionContentTypeEnum.IMAGE&&e.question.imageUrl&&preloadImage(e.question.imageUrl)})),_defineProperty$1(this,"startCheck",(()=>{if(this.stopCheck(),this._current)return this._logger.warn({type:"check",msg:"异常情况：展示互动时，还启动了检测",last:this._isLastHidden,current:document.hidden}),void this.player().pause();if(!this.player().paused()){var e;const t=this.player().currentTime();let r=!1;null===(e=this.options_.interactive.interactiveConfigList)||void 0===e||e.forEach((e=>{if(this._lockMap[e.id])return;const n=e.interactiveTimePoint/1e3;n>this._lastPlayTime&&(r=!0,n-t<=this._preLoadTime&&this.initDetail(e),n<=t&&(this._current=e))})),this._lastPlayTime=t,this._current?this.show():r&&(this._timer=this.setTimeout((()=>{this.startCheck()}),1e3/60))}})),_defineProperty$1(this,"stopCheck",(()=>{this._timer&&(this.clearTimeout(this._timer),this._timer=0)})),_defineProperty$1(this,"show",(()=>__async2(this,null,(function*(){__superGet(Interactive.prototype,this,"show").call(this),this.player().hotKeys().disableHotKeys(HotKeysLockNameEnum.INTERACTIVE),this.player().pause(),this.player().controlBar.hide(),this.player().topBar.hide(),this.loadingLayer.hide(),this.endLayer.hide(),this._isLastHidden=document.hidden;const e=this._current,t=_objectSpread$h(_objectSpread$h({},e),{},{interactiveSceneId:this.options_.interactive.id});let r=this.getDetail(e);const n=this._forceStopKey;if(r||(this.player().trigger(InteractiveEvent.INIT,{info:t}),r=yield this.doLoadDetail(e,n)),n!==this._forceStopKey)return;if(!r)return void this.hideWithType(InteractiveEndEnum.INIT_SKIP,t);this.player().trigger(InteractiveEvent.START,{info:r});const i=this.resize();this.questionLayer=new Question(_objectSpread$h(_objectSpread$h({},r),{},{parent:this.container,width:i,skipCountdown:this.options_.skipCountdown,onSkip:e=>{e||(this.player().trigger(InteractiveEvent.SKIP,{info:r}),this._logger.debug({type:"skip",info:r})),this.hideWithType(e?InteractiveEndEnum.AUTO_SKIP:InteractiveEndEnum.SKIP,r)},onOptionClick:e=>{this.player().trigger(InteractiveEvent.OPTION,{option:e,info:r}),this._logger.debug({type:"option",option:e,info:r})},onSubmitClick:()=>{this.player().trigger(InteractiveEvent.SUBMIT,{info:r}),this._logger.debug({type:"submit",info:r})},onCheckAnswer:e=>__async2(this,null,(function*(){const t=yield this.doCheckAnswer(e,r,n);n===this._forceStopKey&&(t===RightStatusEnum.UNCHECK?this.hideWithType(InteractiveEndEnum.ANSWER_SKIP,r):(yield this.endLayer.show(t===RightStatusEnum.CORRECT),this.hideWithType(InteractiveEndEnum.NORMAL,r)))}))}))})))),_defineProperty$1(this,"hideWithType",((e,t)=>{var r;this.hide(),this.questionLayer=void 0,this.player().controlBar.show(),this.player().topBar.show();const n=null===(r=this._current)||void 0===r?void 0:r.id;n&&(this._lockMap[n]=!0,this.setTimeout((()=>{delete this._lockMap[n]}),500)),this._current=void 0,this.player().trigger(InteractiveEvent.END,{type:e,info:t}),this.player().play()})),_defineProperty$1(this,"getDetail",(e=>{var t;return null===(t=this.options_.interactive.interactiveDetail)||void 0===t?void 0:t[e.id]})),_defineProperty$1(this,"initDetail",(e=>{var t;const r=null===(t=this.options_.interactive.interactiveDetail)||void 0===t?void 0:t[e.id];if(r)return r;let n=this._loadingList[e.id];return n||(n=this.options_.getConfigDetail(e.id,this.options_.interactive).then((t=>(this.preloadOne(t),this.options_.interactive.interactiveDetail=_objectSpread$h(_objectSpread$h({},this.options_.interactive.interactiveDetail),{},{[e.id]:t}),t))),this._loadingList[e.id]=n),n})),_defineProperty$1(this,"resize",(()=>{let e=this.player().currentWidth(),t=this.player().currentHeight();var r;t&&e&&(t/e>ratio?t=e*ratio:e=t/ratio,this.container.style.transform="",e<720&&(this.container.style.transform="scale(".concat(e/720,")"),e=720,t=405),this.container.style.width="".concat(e,"px"),this.container.style.height="".concat(t,"px"),this.container.classList.remove("interactive-x2"),this.container.classList.remove("interactive-x4"),null===(r=this.questionLayer)||void 0===r||r.setImgSize(e),e>2800?this.container.classList.add("interactive-x4"):e>=1920&&this.container.classList.add("interactive-x2"));return e})),_defineProperty$1(this,"doLoadDetail",((e,t)=>{const r=_objectSpread$h(_objectSpread$h({},e),{},{interactiveSceneId:this.options_.interactive.id});return new Promise((n=>{this.loadingLayer.show("题目加载中，请稍等");const i=()=>__async2(this,null,(function*(){try{const r=yield this.initDetail(e);if(t!==this._forceStopKey)return;this.loadingLayer.hide(),n(r)}catch(e2){if(t!==this._forceStopKey)return;this.loadingLayer.showRetry((()=>{this.player().trigger(InteractiveEvent.ERROR_SKIP,{info:r,type:InteractiveErrorEnum.LOAD_DETAIL}),delete this._loadingList[e.id],this.loadingLayer.hide(),this._logger.debug({type:"load-detail-skip",item:e}),n(void 0)}),(()=>{this.player().trigger(InteractiveEvent.ERROR_RETRY,{info:r,type:InteractiveErrorEnum.LOAD_DETAIL}),delete this._loadingList[e.id],this._logger.debug({type:"load-detail-retry",item:e}),i()})),this._logger.info({type:"load-detail",item:e,error:e2})}}));i()}))})),_defineProperty$1(this,"doCheckAnswer",((e,t,r)=>__async2(this,null,(function*(){return new Promise((n=>{this.loadingLayer.show("老师正在批改，请稍等");const i=this.getDetail(this._current)||{},o=()=>__async2(this,null,(function*(){try{const i=yield this.options_.checkAnswer(e,t);if(r!==this._forceStopKey)return;this.loadingLayer.hide(),n(i)}catch(e2){if(r!==this._forceStopKey)return;this.loadingLayer.showRetry((()=>{this.player().trigger(InteractiveEvent.ERROR_SKIP,{info:i,type:InteractiveErrorEnum.ANSWER}),this.loadingLayer.hide(),this._logger.debug({type:"check-answer-skip",answerInfo:e,info:t}),n(RightStatusEnum.UNCHECK)}),(()=>{this.player().trigger(InteractiveEvent.ERROR_RETRY,{info:i,type:InteractiveErrorEnum.ANSWER}),this._logger.debug({type:"check-answer-retry",info:t}),o()})),this._logger.info({type:"check-answer",answerInfo:e,info:t,error:e2})}}));o()}))})))),_defineProperty$1(this,"forceStop",(()=>{this._current&&(this._forceStopKey++,this.loadingLayer.hide(),this.hide(),this.questionLayer=void 0,this.player().controlBar.show(),this.player().topBar.show(),this._current=void 0)})),this.container=this.el().children.item(0),this._logger=new Logger("InteractiveComponent"),this.loadingLayer=new Loading(this.container,this._logger),this.endLayer=new End(this.container,this._logger),this.preload(),this.player().on("seeking",(()=>{this.stopCheck()})),this.player().on("seeked",(()=>{this._lastPlayTime=this.player().currentTime(),this.player().paused()||this.startCheck()})),this.player().on("play",(()=>{this._lastPlayTime=this.player().currentTime(),this.startCheck()})),this.player().on("ratechange",this.calcPreloadTime),this.calcPreloadTime(),this.player().on("playerresize",this.resize)}createEl(){const e=null==layerTemp$3?void 0:layerTemp$3.cloneNode(!0);return blockAllTouch(e),e}hide(){super.hide(),this.player().hotKeys().resumeHotKeys(HotKeysLockNameEnum.INTERACTIVE)}dispose(){var e;this._forceStopKey++,this.stopCheck(),null===(e=this.questionLayer)||void 0===e||e.dispose(),super.dispose()}}videojs.registerComponent("Interactive",Interactive);const PRELOAD_END_TIME=3,Component$k=videojs.getComponent("Component");class HeaderFooter extends Component$k{constructor(e,t){var r;super(e,t),r=this,_defineProperty$1(this,"_headerPlayer",void 0),_defineProperty$1(this,"_footerPlayer",void 0),_defineProperty$1(this,"_logger",void 0),_defineProperty$1(this,"_countDown",void 0),_defineProperty$1(this,"_bigPlayHandle",void 0),_defineProperty$1(this,"initHeader",(()=>{if(!this.options_.headUrl)return;const e=videojs.dom.createEl("video",{className:"video-js vjs-full-video"});videojs.dom.appendContent(this.el(),e);const t=videojs(e,{preload:"auto",bigPlayButton:!1,controlBar:!1,controls:!1,userActions:{hotkeys:!1},plugins:{qualityPoint:{info:{videoUrl:this.options_.headUrl,videoType:QualityPointVideoType.HEADER},config:{errorMessage:"片头播放失败"}}}});t.src(this.options_.headUrl),this._headerPlayer=t;const r=this.player().bigPlayButton.handleClick;this._bigPlayHandle=r,this.player().bigPlayButton.handleClick=e=>{e.preventDefault(),this.show(),this.player().trigger(HeaderFooterEvent.HEADER_START),t.one(["ended","error","pause"],(()=>{this.hide(),this.player().trigger(HeaderFooterEvent.HEADER_END),this.player().play(),this.player().bigPlayButton.handleClick=r,t.error()&&this._logger.info({type:"header",error:t.error()}),t.dispose(),this._headerPlayer=void 0,this._bigPlayHandle=void 0})),t.one("play",(()=>{this.showCountDown(t)})),this.makeRate(t),t.play()}})),_defineProperty$1(this,"initFooter",(()=>{if(!this.options_.footUrl)return;const e=this.options_.footUrl;this.player().on("timeupdate",(()=>{const t=this.player();!t.paused()&&t.remainingTime()<=PRELOAD_END_TIME&&this.createFooter(e)})),this.player().on("ended",(()=>{this.doShowFooter(e)}))})),_defineProperty$1(this,"createFooter",(e=>{if(this._footerPlayer)return;const t=videojs.dom.createEl("video",{className:"video-js vjs-full-video"});videojs.dom.appendContent(this.el(),t),this._footerPlayer=videojs(t,{preload:"auto",bigPlayButton:!1,controlBar:!1,controls:!1,userActions:{hotkeys:!1},plugins:{qualityPoint:{info:{videoUrl:e,videoType:QualityPointVideoType.FOOTER},config:{errorMessage:"片尾播放失败"}}}}),this._footerPlayer.src(e)})),_defineProperty$1(this,"doShowFooter",(e=>{this.createFooter(e);const t=this._footerPlayer;t&&(this.show(),this.player().trigger(HeaderFooterEvent.FOOTER_START),this.player().controlBar.hide(),this.player().topBar.hide(),t.one(["ended","error","pause"],(()=>{this.hide(),this.player().trigger(HeaderFooterEvent.FOOTER_END),this.player().controlBar.show(),this.player().topBar.show(),t.error()&&this._logger.info({type:"footer",error:t.error()}),t.dispose(),this._footerPlayer=void 0})),t.one("play",(()=>{this.showCountDown(t,!1)})),this.makeRate(t),t.play())})),_defineProperty$1(this,"showCountDown",(function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)return;r.player().trigger(t?HeaderFooterEvent.HEADER_PLAYING:HeaderFooterEvent.FOOTER_PLAYING);const n=videojs.dom.createEl("div",{className:"vjs-top-count-down"});n.innerHTML="".concat(Math.ceil(e.duration()||5),"S 跳过"),n.onclick=()=>{r.player().trigger(t?HeaderFooterEvent.HEADER_SKIP:HeaderFooterEvent.FOOTER_SKIP),e.pause()},e.el().appendChild(n),e.on("timeupdate",(()=>{const t=Math.ceil(e.duration()-e.currentTime());n.innerHTML="".concat(t<0?0:t,"S 跳过")}))})),_defineProperty$1(this,"makeRate",(e=>{try{delete e.tech(!0).el().playbackRate,e.playbackRate(1)}catch(e2){}})),_defineProperty$1(this,"forceStop",(()=>{this._headerPlayer&&(this._headerPlayer.paused()?(this._bigPlayHandle&&(this.player().bigPlayButton.handleClick=this._bigPlayHandle),this._headerPlayer.dispose(),this._headerPlayer=void 0):this._headerPlayer.pause()),this._footerPlayer&&!this._footerPlayer.paused()&&this._footerPlayer.pause()})),this._logger=new Logger("HeaderFooterComponent"),this.initHeader(),this.initFooter()}createEl(){const e=videojs.dom.createEl("div",{className:"vjs-base-container vjs-hidden"});return blockAllTouch(e),e}show(){super.show(),this.player().hotKeys().disableHotKeys(HotKeysLockNameEnum.HEADER_FOOTER)}hide(){super.hide(),this.el().innerHTML="",this.player().hotKeys().resumeHotKeys(HotKeysLockNameEnum.HEADER_FOOTER)}dispose(){this._headerPlayer&&(this._headerPlayer.dispose(),this._headerPlayer=void 0),this._footerPlayer&&(this._footerPlayer.dispose(),this._footerPlayer=void 0),super.dispose()}}videojs.registerComponent("headerFooter",HeaderFooter);const MenuItem$1=videojs.getComponent("MenuItem");class DefinitionMenuItem extends MenuItem$1{constructor(e,t){const r={label:t.name,selected:t.clarityId===e.definition().showClarityId(),selectable:!0,multiSelectable:!1};super(e,r),_defineProperty$1(this,"_info",void 0),_defineProperty$1(this,"update",(()=>{this.selected(this._info.clarityId===this.player().definition().showClarityId())})),this._info=t,this.on(this.player(),DefinitionEvent.CHANGE,this.update)}handleClick(){this.player().definition().showClarityId(this._info.clarityId),this.player().trigger(DefinitionEvent.CLICK,{clarityId:this._info.clarityId})}}videojs.registerComponent("definitionMenuItem",DefinitionMenuItem);const index$h="",MenuButton$1=videojs.getComponent("MenuButton");let Definition$1=class extends MenuButton$1{constructor(e,t){super(e,t),_defineProperty$1(this,"_label",void 0),_defineProperty$1(this,"isNeedShow",(()=>this.definitionList().length>1)),this._label=this.el().querySelector(".vjs-definition-value"),this.updateVisibility(),this.on(e,DefinitionEvent.CHANGE,(()=>{this.updateVisibility()})),this.on(e,DefinitionEvent.LIST_CHANGE,(()=>{this.updateVisibility(),this.update()}))}createEl(){const e=super.createEl(),t=videojs.dom.createEl("div",{className:"vjs-definition-value",textContent:""});return e.appendChild(t),e}buildCSSClass(){return"vjs-definition ".concat(super.buildCSSClass())}buildWrapperCSSClass(){return"vjs-definition ".concat(super.buildWrapperCSSClass())}createItems(){return this.definitionList().map((e=>new DefinitionMenuItem(this.player(),e)))}definitionList(){return this.player().definition().definitionList()||[]}updateVisibility(){var e;this.isNeedShow()?(this.removeClass("vjs-hidden"),this._label.textContent=(null===(e=this.player().definition().showClarity())||void 0===e?void 0:e.name)||""):this.addClass("vjs-hidden")}handleClick(){const e=this.definitionList(),t=e.length,r=e.findIndex((e=>e.clarityId===this.player().definition().showClarityId())),n=e[(r+1)%t].clarityId;this.player().definition().showClarityId(n),this.player().trigger(DefinitionEvent.CLICK,{clarityId:n})}};videojs.registerComponent("definition",Definition$1);const index$g="",layerTemp$2=template('\n<div class="vjs-base-container vjs-error-layer vjs-hidden">\n  <div class="error-icon"></div>\n  <div class="error-word">遇到了点问题!<span class="error-code"></span></div>\n  <div class="error-desc">您可以尝试刷新页面，如果该问题持续出现，请联系客服</div>\n  <div class="error-actions">\n    <div class="action-btn action-store">前往下载</div>\n    <div class="action-btn action-refresh">刷新</div>\n    <div class="action-btn action-changeline">切换线路</div>\n    <div class="action-btn action-chrome">Chrome浏览器</div>\n  </div>\n  <div class="action-more">点击查看问题详情</div>\n  <div class="error-detail-container">\n    <div class="error-detail"></div>\n    <div class="action-btn action-close">关闭</div>\n  </div>\n</div>\n'),Component$j=videojs.getComponent("Component");class ErrorLayer extends Component$j{constructor(e,t){super(e,t);const r=this.el().getElementsByClassName("error-word").item(0),n=this.el().getElementsByClassName("error-desc").item(0),i=this.el().getElementsByClassName("action-refresh").item(0),o=this.el().getElementsByClassName("action-changeline").item(0),s=this.el().getElementsByClassName("action-store").item(0),a=this.el().getElementsByClassName("action-more").item(0),l=this.el().getElementsByClassName("error-detail-container").item(0),c=this.el().getElementsByClassName("error-detail").item(0),u=this.el().getElementsByClassName("action-close").item(0),h=this.el().getElementsByClassName("action-chrome").item(0);i.onclick=()=>{t.onErrorRefresh?t.onErrorRefresh():window.location.reload()},o.onclick=()=>{var t;const r=null===(t=e.getSupportLines)||void 0===t?void 0:t.call(e);if(e.getCurrentLine&&r&&r.length>1){var n;const t=e.getCurrentLine(),i=(r.indexOf(t)+1)%r.length;null===(n=e.changeLine)||void 0===n||n.call(e,r[i])}},s.onclick=()=>{window.location.href="https://web.ewt360.com/helpCenterH5/download/download.html?domain=main_page&action=open_main_page_tab&params=%7B%22type%22%3A%220%22%7D"},a.onclick=()=>{l.style.display="flex"},u.onclick=()=>{l.style.display="none"},h.onclick=()=>{window.navigator.userAgent.toLocaleLowerCase().indexOf("windows")>-1?window.location.href="https://si.ewt360.com/resources/common/chrome/109.0.5414.120_chrome_installer.exe":window.location.href="https://www.google.cn/chrome/index.html"},e.on(DisplayErrorEvent.SHOW,((t,l)=>{if(n.style.display="none",s.style.display="none",i.style.display="none",o.style.display="none",h.style.display="none",a.style.display="none",l.code===ErrorEnum.NO_SUPPORT_LINE)isMobile()?(r.innerHTML="移动端浏览器暂不支持视频播放，请下载升学e网通APP使用",s.style.display="block"):checkBrowserIsLowVersionByRule(/(chrome|crios)\/(\d+)/,61)?(r.innerHTML="当前环境暂无可播放线路，请下载或者升级 Chrome浏览器",h.style.display="block"):(r.innerHTML="播放异常，请尝试关闭浏览器插件后刷新",n.style.display="block",n.innerText="如果该问题持续出现，请联系客服",i.style.display="block");else{var u;r.innerHTML='遇到了点问题!<span class="error-code">（code: '.concat(l.code,"）</span>"),n.style.display="block",i.style.display="block",a.style.display="block",c.innerText=stringify(l.data);const t=null===(u=e.getSupportLines)||void 0===u?void 0:u.call(e);l.code!==ErrorEnum.MENU_CHANGE_VIDEO_ERROR&&t&&t.length>1?(n.innerText="您可以尝试刷新或者切换线路，如果该问题持续出现，请联系客服",o.style.display="block"):n.innerText="您可以尝试刷新，如果该问题持续出现，请联系客服"}this.show(),e.hotKeys().disableHotKeys(HotKeysLockNameEnum.ERROR)})),e.on(DisplayErrorEvent.HIDE,(()=>{this.hide(),l.style.display="none",e.hotKeys().resumeHotKeys(HotKeysLockNameEnum.ERROR)}))}createEl(){return layerTemp$2.cloneNode(!0)}}videojs.registerComponent("errorLayer",ErrorLayer);const PlaybackRateMenuItem=videojs.getComponent("PlaybackRateMenuItem"),PlaybackRateMenuButton=videojs.getComponent("PlaybackRateMenuButton");class PlayRateItem extends PlaybackRateMenuItem{constructor(e,t){super(e,t)}handleClick(e){super.handleClick(e),this.player().playbackRate(this.rate),this.player().trigger(PlayRateEvent.CLICK,{rate:this.rate})}}class PlayRate extends PlaybackRateMenuButton{createItems(){const e=this.playbackRates(),t=[];for(let r=e.length-1;r>=0;r--)t.push(new PlayRateItem(this.player(),{rate:e[r]+"X"}));return t}handleClick(e){const t=super.handleClick(e);t&&this.player().trigger(PlayRateEvent.CLICK,{rate:t})}updateLabel(){if(this.playbackRateSupported()){const e=+this.player().playbackRate();Math.abs(e-1)<1e-4?this.labelEl_.textContent="倍速":this.labelEl_.textContent=Math.floor(10*e)/10+"X"}}}PlaybackRateMenuButton.prototype.controlText_="",videojs.registerComponent("playRate",PlayRate);const index$f="",TIMEOUT_SECONDS=1e4,layerTemp$1=template('\n<div class="vjs-base-container vjs-loading-layer">\n  <div class="vjs-loading-layer-loading"></div>\n  <div class="vjs-loading-layer-timeout">\n    <div class="vjs-loading-layer-timeout-desc"></div>\n    <div class="vjs-loading-layer-timeout-action"></div>\n  </div>\n</div>\n'),Component$i=videojs.getComponent("Component");class LoadingLayer extends Component$i{constructor(e,t){var r;super(e,t),r=this,_defineProperty$1(this,"_timeoutDom",void 0),_defineProperty$1(this,"_descDom",void 0),_defineProperty$1(this,"_actionDom",void 0),_defineProperty$1(this,"_timeout",void 0),_defineProperty$1(this,"_logger",void 0),_defineProperty$1(this,"doShow",(function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];try{r.show();const t=r.el();t.style.backgroundColor=e?"#333":"transparent",t.style.opacity="1",r._timeout&&r.clearTimeout(r._timeout),r._timeoutDom.style.display="none",e&&(r._timeout=r.setTimeout((()=>{r.showTimeout()}),TIMEOUT_SECONDS))}catch(e2){}})),_defineProperty$1(this,"doHide",(()=>__async2(this,null,(function*(){try{if(this.el().style.opacity="0",yield sleep(300),this.isDisposed())return;this.hide()}catch(e2){}})))),_defineProperty$1(this,"showTimeout",(()=>{var e,t;if(this.isDisposed())return;const r=(null===(e=(t=this.player()).getSupportLines)||void 0===e?void 0:e.call(t))||[];if(r.length>1){var n,i;const e=(null===(n=(i=this.player()).getCurrentLine)||void 0===n?void 0:n.call(i))||LinePlatEnum.SELF,t=Math.max(1,r.indexOf(e)+1);this._descDom.innerText="还没开始播放？可能“线路".concat(t,"”堵住啦～，试试切换线路"),this._actionDom.innerText="立即切换",this._actionDom.onclick=()=>{var n,i;null===(n=(i=this.player()).changeLine)||void 0===n||n.call(i,r[t%r.length]),this._logger.info({type:"init-longtime-lines",currentLine:e})}}else this._descDom.innerText="还没开始播放？可能线路堵塞啦～，可以试试刷新",this._actionDom.innerText="刷新",this._actionDom.onclick=()=>{window.location.reload(),this._logger.info({type:"init-longtime-reload"})};this._timeoutDom.style.display="flex"})),this._timeoutDom=this.el().querySelector(".vjs-loading-layer-timeout"),this._descDom=this.el().querySelector(".vjs-loading-layer-timeout-desc"),this._actionDom=this.el().querySelector(".vjs-loading-layer-timeout-action"),this._logger=new Logger("LoadingLayer"),e.on("ready",(()=>{isIOS()?(this.hide(),e.bigPlayButton.show()):(this.doShow(),e.bigPlayButton.hide())})),e.on(DefinitionEvent.CHANGE,(()=>{this.doShow(),e.bigPlayButton.hide()})),e.on("loadedmetadata",(()=>{this.doHide(),e.bigPlayButton.show()})),e.on("waiting",(()=>{e.paused()||this.doShow(!1)})),e.on("canplay",(()=>{this.doHide()}))}createEl(){const e=layerTemp$1.cloneNode(!0);return blockAllTouch(e),e}}videojs.registerComponent("loadingLayer",LoadingLayer);const index$e="",temp$1=template('\n<div class="progress-model vjs-hidden">\n  <span>已为您定位至上次播放位置</span>\n</div>\n'),Component$h=videojs.getComponent("Component");class ProgressModel extends Component$h{constructor(e){super(e),_defineProperty$1(this,"show",(()=>__async2(this,null,(function*(){yield sleep(100),this.isDisposed()||(this.removeClass("vjs-hidden"),this.addClass("progress-model"),yield sleep(500),this.isDisposed()||this.addClass("progress-model-disappear"))})))),this.show()}createEl(){return temp$1.cloneNode(!0)}}videojs.registerComponent("progressModel",ProgressModel);const index$d="",layerTemp=template('\n<div class="vjs-base-container vjs-audio-bg">\n  <div class="audio-bg-icon"></div>\n</div>\n'),Component$g=videojs.getComponent("Component");class AudioBg extends Component$g{createEl(){return layerTemp.cloneNode(!0)}}function ownKeys$g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$g(Object(r),!0).forEach((function(t){_defineProperty$1(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}videojs.registerComponent("audioBg",AudioBg);class LottieIcon{constructor(e,t,r){var n=this;_defineProperty$1(this,"_ani",void 0),_defineProperty$1(this,"loadAni",((e,t,r)=>__async2(this,null,(function*(){try{yield loadLottie(),this._ani=window.bodymovin.loadAnimation(_objectSpread$g({container:e,path:"".concat("https://cdn.ewt360.com/resources/app/prod/mst-video-player/dist/","lottie/").concat(t,".json"),autoplay:!1,loop:!1},r||{}))}catch(e2){console.error("[MSTPlayer-Lottie ICON]：",e2)}})))),_defineProperty$1(this,"play",(function(){return __async2(this,arguments,(function*(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new Promise((r=>{n._ani?(n._ani.addEventListener("complete",(()=>{var e;null===(e=n._ani)||void 0===e||e.removeEventListener("complete"),r()})),n._ani.setDirection(e),n._ani.setSpeed(t),n._ani.play()):r()}))}))})),_defineProperty$1(this,"stop",(()=>{var e;null===(e=this._ani)||void 0===e||e.stop()})),this.loadAni(e,t,r)}}const index$c="",componentName$6="tipBtn";var TipBtnTipPosEnum=(e=>(e.LEFT="left",e.CENTER="center",e.RIGHT="right",e))(TipBtnTipPosEnum||{});const Component$f=videojs.getComponent("Component");class TipBtn extends Component$f{constructor(e,t){super(e,t),_defineProperty$1(this,"_iconNode",void 0),_defineProperty$1(this,"_icon",void 0),_defineProperty$1(this,"_tipNode",void 0),this._iconNode=this.el().querySelector(".vjs-tip-btn-icon"),this._icon=new LottieIcon(this._iconNode,t.iconName,t.lottieIconOpts),this._tipNode=this.el().querySelector(".vjs-tip-btn-tip"),t.onlyUI||isMobile()||(this.on("mouseenter",(()=>{this._icon.play(),this.options_.tipWord&&(this._tipNode.style.display="block")})),this.on("mouseleave",(()=>{this._icon.stop(),this._tipNode.style.display="none"})))}createEl(){const{leftWord:e,rightWord:t,tipWord:r,tipPos:n,className:i}=this.options_;return template('\n      <div class="vjs-tip-btn '.concat(i,'">\n        <div class="vjs-tip-btn-word">').concat(e||"",'</div>\n        <div class="vjs-tip-btn-icon"></div>\n        <div class="vjs-tip-btn-word">').concat(t||"",'</div>\n        <div class="vjs-tip-btn-tip vjs-tip-pos-').concat(n||"center",'">').concat(r||"","</div>\n      </div>"))}}videojs.registerComponent(componentName$6,TipBtn);class CustomPlayToggle extends TipBtn{constructor(e){super(e,{iconName:"play",tipPos:TipBtnTipPosEnum.LEFT,onlyUI:!0,tipWord:"播放(SPACE)"}),this.on(e,"play",(()=>__async2(this,null,(function*(){this._icon.play(1,2),this._tipNode.innerText="暂停(SPACE)"})))),this.on(e,"pause",(()=>__async2(this,null,(function*(){this._icon.play(-1,2),this._tipNode.innerText="播放(SPACE)"})))),this.on(["tap","click"],(()=>{e.paused()?e.play():e.pause(),e.bizAnalytics().clickPv(AnalyticsEventCodeEnum.BUTTON_CLICK,{action:"播放暂停"},!0)})),isMobile()||(this.on("mouseenter",(()=>{this._tipNode.style.display="block"})),this.on("mouseleave",(()=>{this._tipNode.style.display="none"})))}}videojs.registerComponent("PlayToggle",CustomPlayToggle);const index$b="",Component$e=videojs.getComponent("Component");class ControlCenter extends Component$e{createEl(){return videojs.dom.createEl("div",{className:"vjs-control-center"})}}videojs.registerComponent("controlCenter",ControlCenter);const index$a="";function ownKeys$f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$f(Object(r),!0).forEach((function(t){_defineProperty$1(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Component$d=videojs.getComponent("Component");class Title extends Component$d{constructor(e,t){super(e,_objectSpread$f({fullscreen:!0},t)),_defineProperty$1(this,"updateVisible",(()=>{(this.player().isFullscreen()?this.options_.fullscreen:this.options_.base)?this.show():this.hide()})),this.options_.title&&(this.options_.base||this.options_.fullscreen)?(this.el().innerText=this.options_.title,this.updateVisible(),this.on(e,"hackfullscreenchange",this.updateVisible)):this.hide()}createEl(){return videojs.dom.createEl("div",{className:"vjs-title"})}}videojs.registerComponent("title",Title);const index$9="",Component$c=videojs.getComponent("Component"),itemTemp=template('<div class="mst-menu-item">\n  <div class="item-tag"><span></span></div>\n  <div class="item-word"></div>\n  <div class="item-icon">\n    <div class="item-icon-real"></div>\n  </div>\n  <div class="item-more"></div>\n  </div>');class MSTMenu extends Component$c{constructor(e,t){super(e,t),_defineProperty$1(this,"_icon",void 0),_defineProperty$1(this,"_container",void 0),_defineProperty$1(this,"_listContainer",void 0),_defineProperty$1(this,"_playingIcon",void 0),_defineProperty$1(this,"updateMenuItems",(e=>{this.options_.items=e||[],this._listContainer.innerHTML="",this._playingIcon=void 0,this.createItems()})),_defineProperty$1(this,"createItems",(()=>{const e=new DocumentFragment;this.options_.items.forEach((t=>{if(t.separateWord){const r=videojs.dom.createEl("div",{className:"mst-menu-separate"}),n=videojs.dom.createEl("span");n.innerText=t.separateWord,r.appendChild(n),e.appendChild(r)}const r=itemTemp.cloneNode(!0);r.querySelector(".item-tag span").innerText=t.tag,r.querySelector(".item-word").innerText=t.title,r.querySelector(".item-more").innerText=t.info||"",t.status===MSTMenuItemStatusEnum.DONE&&r.classList.add("mst-done"),+t.lessonId==+this.options_.lessonId?(r.classList.add("mst-playing"),this._playingIcon=new LottieIcon(r.querySelector(".item-icon-real"),"playing",{autoplay:!this.player().paused(),loop:!0})):r.onclick=()=>{this.options_.onItemClick(t)},e.appendChild(r)})),this._listContainer.appendChild(e)}));const r=videojs.dom.createEl("div",{className:"mst-menu-icon"});this.el().appendChild(r),this._icon=new LottieIcon(r,"menu");const n=videojs.dom.createEl("div",{className:"mst-menu-button"});n.innerText=this.options_.buttonWord||"目录",this.el().appendChild(n),this._container=template('<div class="mst-menu-container">\n      <div class="mst-menu-title">\n        <div class="mst-menu-title-word"></div>\n        <div class="mst-menu-title-more"></div>\n      </div>\n      <div class="mst-menu-list"></div>\n      <div class="mst-menu-block"></div>\n    </div>'),this._container.querySelector(".mst-menu-title-word").innerText=this.options_.title||"目录",this._container.querySelector(".mst-menu-title-more").innerText=this.options_.titleMore||"",this._listContainer=this._container.querySelector(".mst-menu-list"),this.createItems(),this.el().appendChild(this._container),this.on("mouseenter",(()=>{var e;this.addClass("vjs-hover"),this._icon.play();try{var r;null===(r=document.querySelector(".mst-playing"))||void 0===r||r.scrollIntoView({block:"nearest",behavior:"smooth"})}catch(e2){}null===(e=t.onListVisibleChange)||void 0===e||e.call(t,!0)})),this.on("mouseleave",(()=>{var e;this.removeClass("vjs-hover"),this._icon.stop(),null===(e=t.onListVisibleChange)||void 0===e||e.call(t,!1)})),this.on(e,"play",(()=>{var e;null===(e=this._playingIcon)||void 0===e||e.play()})),this.on(e,"pause",(()=>{var e;null===(e=this._playingIcon)||void 0===e||e.stop()}))}createEl(){return videojs.dom.createEl("div",{className:"vjs-mst-menu"})}}function ownKeys$e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$e(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$e(Object(r),!0).forEach((function(t){_defineProperty$1(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}videojs.registerComponent("mstMenu",MSTMenu);const MenuItem=videojs.getComponent("MenuItem");class LineMenuItem extends MenuItem{constructor(e,t){var r;super(e,_objectSpread$e(_objectSpread$e({},t),{},{label:"线路".concat(t.order),selected:t.platId===(null===(r=e.getCurrentLine)||void 0===r?void 0:r.call(e)),selectable:!0,multiSelectable:!1})),_defineProperty$1(this,"update",(()=>{var e,t;this.selected(this.options_.platId===(null===(e=(t=this.player()).getCurrentLine)||void 0===e?void 0:e.call(t)))})),this.on(this.player(),LinesEvent.CHANGE,this.update)}handleClick(){var e,t;null===(e=(t=this.player()).changeLine)||void 0===e||e.call(t,this.options_.platId)}}const index$8="",MenuButton=videojs.getComponent("MenuButton");class Lines extends MenuButton{constructor(e,t){super(e,t),_defineProperty$1(this,"_label",void 0),_defineProperty$1(this,"allLines",(()=>{var e,t;return(null===(e=(t=this.player()).getSupportLines)||void 0===e?void 0:e.call(t))||[]})),_defineProperty$1(this,"currentLine",(()=>{var e,t;return(null===(e=(t=this.player()).getCurrentLine)||void 0===e?void 0:e.call(t))||LinePlatEnum.SELF})),_defineProperty$1(this,"createItems",(()=>this.allLines().map(((e,t)=>new LineMenuItem(this.player(),{platId:e,order:t+1}))))),_defineProperty$1(this,"isNeedShow",(()=>this.allLines().length>1)),this._label=this.el().querySelector(".vjs-line-value"),this.updateVisibility(),this.on(e,LinesEvent.CHANGE,(()=>{this.updateVisibility()})),this.on(e,LinesEvent.LIST_CHANGE,(()=>{this.update(),this.updateVisibility()}))}createEl(){const e=super.createEl(),t=videojs.dom.createEl("div",{className:"vjs-line-value",textContent:""});return e.appendChild(t),e}buildWrapperCSSClass(){return"vjs-lines ".concat(super.buildWrapperCSSClass())}updateVisibility(){if(this.isNeedShow()){this.removeClass("vjs-hidden");const e=this.allLines().indexOf(this.currentLine())+1;this._label.textContent="线路".concat(e)}else this.addClass("vjs-hidden")}handleClick(){var e,t;const r=this.allLines(),n=r.length,i=r.indexOf(this.currentLine());null===(e=(t=this.player()).changeLine)||void 0===e||e.call(t,r[(i+1)%n])}}videojs.registerComponent("lines",Lines);class FullscreenToggle extends TipBtn{constructor(e){super(e,{iconName:"fullscreen",tipPos:TipBtnTipPosEnum.RIGHT,onlyUI:!0,tipWord:""}),_defineProperty$1(this,"_toSmallNode",void 0),_defineProperty$1(this,"_toSmall",void 0),this._toSmallNode=videojs.dom.createEl("div",{className:"vjs-tip-btn-icon"}),this._toSmallNode.style.display="none",this.el().appendChild(this._toSmallNode),this._toSmall=new LottieIcon(this._toSmallNode,"fullscreen-s"),this.on(e,"hackfullscreenchange",(()=>{this.player().isFullscreen()?(this._iconNode.style.display="none",this._toSmallNode.style.display="flex",this._tipNode.innerText="退出全屏(ESC)"):(this._iconNode.style.display="flex",this._toSmallNode.style.display="none",this._tipNode.innerText="")})),this.on(["tap","click"],(()=>{const t=this.player().isFullscreen();t?this.player().exitFullscreen():this.player().requestFullscreen(),e.bizAnalytics().clickPv(AnalyticsEventCodeEnum.BUTTON_CLICK,{action:t?"退出全屏":"进入全屏"},!0)})),isMobile()||(this.on("mouseenter",(()=>{this.player().isFullscreen()&&(this._tipNode.style.display="block"),this.player().isFullscreen()?this._toSmall.play():this._icon.play()})),this.on("mouseleave",(()=>{this._tipNode.style.display="none",this.player().isFullscreen()?this._toSmall.stop():this._icon.stop()})))}}videojs.registerComponent("FullscreenToggle",FullscreenToggle);const index$7="",Component$b=videojs.getComponent("Component");class HotKeysComponent extends Component$b{constructor(e,t){super(e,t);const r=new TipBtn(e,{iconName:"back",tipWord:"后退10秒(←)",rightWord:"10S"});r.on(["tap","click"],(()=>{t.onBack(),e.bizAnalytics().clickPv(AnalyticsEventCodeEnum.BUTTON_CLICK,{action:"退10秒"},!0)})),this.addChild(r),this.el().appendChild(videojs.dom.createEl("div",{className:"vjs-hot-keys-line"}));const n=new TipBtn(e,{iconName:"back",tipWord:"前进10秒(→)",leftWord:"10S"});n.addClass("vjs-mirror"),n.on(["tap","click"],(()=>{t.onForward(),e.bizAnalytics().clickPv(AnalyticsEventCodeEnum.BUTTON_CLICK,{action:"进10秒"},!0)})),this.addChild(n)}createEl(){return videojs.dom.createEl("div",{className:"vjs-hot-keys"})}}videojs.registerComponent("hotKeys",HotKeysComponent);const Component$a=videojs.getComponent("Component");class VolumeControl extends Component$a{constructor(e){super(e),_defineProperty$1(this,"_volumeText",void 0),_defineProperty$1(this,"updateVolumeText",(()=>{this._volumeText.innerText="".concat(Math.round(100*this.player().volume()))})),this._volumeText=videojs.dom.createEl("div",{className:"mst-volume-value"}),this.el().appendChild(this._volumeText);const t=this.addChild("volumeBar",{vertical:!0});this.updateVolumeText(),this.on(e,"volumechange",(()=>{this.updateVolumeText()})),this.on(t,["focus","slideractive"],(()=>{t.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")})),this.on(t,["blur","sliderinactive"],(()=>{t.removeClass("vjs-slider-active"),this.removeClass("vjs-slider-active"),this.trigger("sliderinactive")}))}createEl(){return videojs.dom.createEl("div",{className:"mst-volume-control"})}}videojs.registerComponent("VolumeControl",VolumeControl);const index$6="",MST_PLAYER_LINE_CHANGE_CACHE="mst-player-line-change-cache",MST_PLAYER_DEFINITION_CHANGE_CACHE="mst-player-definition-change-cache",MST_PLAYER_RATE_CHANGE_CACHE="mst-player-rate-change-cache",MST_PLAYER_SUBTITLES_DISABLE="mst-player-subtitles-disable",MST_PLAYER_VOLUME_CACHE="mst-player-volume-cache",getOneWeekTimestamp=e=>e+6048e5,localStorageTools={setItem:function(e,t,r){if(e&&void 0!==t)try{const n={value:t,expires:r?new Date(r).getTime():null};localStorage.setItem(e,JSON.stringify(n))}catch(error){}},getItem:function(e){try{const t=localStorage.getItem(e);if(t){const r=JSON.parse(t);return r.expires&&r.expires-(new Date).getTime()<=0?(localStorage.removeItem(e),null):r.value}}catch(error){}return null}};function saveCacheForLine(e){const t=(new Date).getTime()+216e5;localStorageTools.setItem(MST_PLAYER_LINE_CHANGE_CACHE,e,t)}function saveCacheForDefinition(e){e&&localStorageTools.setItem(MST_PLAYER_DEFINITION_CHANGE_CACHE,e,getOneWeekTimestamp((new Date).getTime()))}function saveCacheForRate(e){localStorageTools.setItem(MST_PLAYER_RATE_CHANGE_CACHE,e,getOneWeekTimestamp((new Date).getTime()))}function saveCacheForVolume(e,t){localStorageTools.setItem("".concat(MST_PLAYER_VOLUME_CACHE,"-").concat(t),Math.round(100*e))}function getCacheForVolume(e){const t=localStorageTools.getItem("".concat(MST_PLAYER_VOLUME_CACHE,"-").concat(e));return"number"==typeof t&&t>=0&&t<=100?t/100:1}class VolumePanel extends TipBtn{constructor(e,t){super(e,{iconName:"volume",onlyUI:!0}),_defineProperty$1(this,"_muteIcon",void 0),_defineProperty$1(this,"updateIcon",(()=>{this.player().volume()<.01||this.player().muted()?(this._muteIcon.style.display="flex",this._iconNode.style.display="none"):(this._muteIcon.style.display="none",this._iconNode.style.display="flex")})),this.addClass("mst-volume-panel"),this._muteIcon=videojs.dom.createEl("div",{className:"mst-volume-mute vjs-tip-btn-icon"}),this.el().appendChild(this._muteIcon);const r=videojs.dom.createEl("div",{className:"mst-volume-click"});if(this.el().appendChild(r),this.on(r,["tap","click"],(()=>{e.volume()<.01||e.muted()?(e.muted(!1),e.volume(1),saveCacheForVolume(1,t.mediaType)):(e.volume(0),e.muted(!0),saveCacheForVolume(0,t.mediaType)),e.bizAnalytics().clickPv(AnalyticsEventCodeEnum.BUTTON_CLICK,{action:"调节音量"},!0)})),this.updateIcon(),this.on(e,"volumechange",(()=>{this.updateIcon()})),isMobile())return;const n=this.addChild("volumeControl");this.on("mouseenter",(()=>{this.addClass("vjs-hover"),this._icon.play()})),this.on("mouseleave",(()=>{this.removeClass("vjs-hover"),this._icon.stop()})),this.on(n,["slideractive"],(()=>{this.addClass("vjs-slider-active")})),this.on(n,["sliderinactive"],(()=>{this.removeClass("vjs-slider-active"),saveCacheForVolume(e.volume(),t.mediaType),e.bizAnalytics().clickPv(AnalyticsEventCodeEnum.BUTTON_CLICK,{action:"调节音量"},!0)}))}}videojs.registerComponent("VolumePanel",VolumePanel);const Component$9=videojs.getComponent("Component");class ProgressMarkers extends Component$9{constructor(){super(...arguments),_defineProperty$1(this,"showMarkers",(e=>{this.player().one("loadedmetadata",(()=>{const t=this.player().duration();e.map((e=>{const r=videojs.dom.createEl("div",{className:"vjs-marker-point"});r.style.left="".concat(e.time/t*100,"%"),this.el().appendChild(r)}))}))}))}createEl(){return videojs.dom.createEl("div",{className:"vjs-progress-markers"})}}videojs.registerComponent("progressMarkers",ProgressMarkers);const Component$8=videojs.getComponent("Component");class SeekIcon extends Component$8{createEl(){return videojs.dom.createEl("div",{className:"vjs-seek-icon"})}}function ownKeys$d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$d(Object(r),!0).forEach((function(t){_defineProperty$1(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}videojs.registerComponent("seekIcon",SeekIcon);const SeekBar=videojs.getComponent("SeekBar");class CustomSeekBar extends SeekBar{constructor(e,t){super(e,_objectSpread$d(_objectSpread$d({},t),{},{children:["loadProgressBar",...isMobile()?[]:["mouseTimeDisplay"],"playProgressBar","progressMarkers","seekIcon"]})),_defineProperty$1(this,"_fakeSeek",!1),_defineProperty$1(this,"_cacheCurrentTime",0),_defineProperty$1(this,"handleMouseDown",(e=>{videojs.dom.isSingleLeftClick(e)&&(this._fakeSeek=!0,e.stopPropagation(),e.preventDefault(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),super.handleMouseMove(e,!0))})),_defineProperty$1(this,"update",(()=>{if(super.update(),this.seekIcon){const e=100*super.getProgress();this.seekIcon.el().style.left="".concat(e,"%")}})),_defineProperty$1(this,"userSeek_",(e=>{this._fakeSeek?(this._cacheCurrentTime=e,this.update()):super.userSeek_(e)})),_defineProperty$1(this,"fakeSeekStart",(e=>{this._fakeSeek=!0,this.userSeek_(e)})),_defineProperty$1(this,"fakeSeekEnd",(()=>{this._fakeSeek&&(this._fakeSeek=!1,this.userSeek_(this._cacheCurrentTime))})),_defineProperty$1(this,"getCurrentTime_",(()=>this._fakeSeek?this._cacheCurrentTime:super.getCurrentTime_())),_defineProperty$1(this,"handleMouseUp",(e=>{super.handleMouseUp(e),this._fakeSeek&&(this._fakeSeek=!1,this.userSeek_(this._cacheCurrentTime))})),_defineProperty$1(this,"calculateDistance",(e=>{if(this.player().resize().isRotate()&&isMobile()&&e.changedTouches){const t=videojs.dom.findPosition(this.el()),r=e.changedTouches[0].pageY-t.left;return Math.max(0,Math.min(1,r/t.width))}return super.calculateDistance(e)}))}handleKeyDown(){}enable(){this.enabled()||(this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}}videojs.registerComponent("SeekBar",CustomSeekBar);const index$5="",videoUrl="".concat(video,"/api/videoplayerprod"),getMarkInfo=e=>request({method:"GET",url:"".concat(videoUrl,"/videoplayer/resource/mark/list"),params:e}),addTag=e=>request({method:"POST",url:"".concat(videoUrl,"/videoplayer/resource/mark/add"),data:e}),deleteTag=e=>request({method:"POST",url:"".concat(videoUrl,"/videoplayer/resource/mark/delete"),data:e}),Component$7=videojs.getComponent("Component"),componentName$5="tagDetailModal",timeStamp="vjs-tag-detail-modal-info-timeStamp",deleteIconCls="vjs-tag-detail-modal-info-delete-icon",deleteConfirmCls="vjs-tag-detail-modal-delete-confirm",imgCls="vjs-tag-detail-modal-content",tagNameCls="vjs-tag-detail-modal-content-tagName",templateStr$2='\n<div class="vjs-tag-detail-modal vjs-hidden">\n <div class='.concat(imgCls,">\n   <div class=").concat(tagNameCls,'></div>\n   <div class="vjs-tag-detail-modal-play-icon"></div>\n  <div class="vjs-tag-detail-modal-info">\n    <div class=').concat(timeStamp,'></div>\n    <div data-delconfirm="delete-confirm" class=').concat(deleteIconCls,'></div>\n  </div>\n  <div class="vjs-tag-detail-modal-delete-confirm">\n    <div class="vjs-tag-detail-modal-delete-confirm-text">确定要删除这个标记吗？</div>\n    <div class="vjs-tag-detail-modal-delete-confirm-action">\n      <div data-cancel="cancel" class="vjs-tag-detail-modal-delete-confirm-action-button vjs-tag-detail-modal-delete-confirm-action-cancel">取消</div>\n      <div data-delete="delete" class="vjs-tag-detail-modal-delete-confirm-action-button vjs-tag-detail-modal-delete-confirm-action-ok">确认</div>\n    </div>\n  </div>\n </div>\n</div>\n');class TagDetail extends Component$7{constructor(e,t){super(e,t),_defineProperty$1(this,"detail",void 0),_defineProperty$1(this,"markType",void 0),_defineProperty$1(this,"selfDom",void 0),_defineProperty$1(this,"imgDom",void 0),_defineProperty$1(this,"tagNameDom",void 0),_defineProperty$1(this,"deleteConfirmDom",void 0),_defineProperty$1(this,"onDelete",void 0),this.detail=t.detail,this.markType=t.markType,this.selfDom=this.el(),this.imgDom=this.selfDom.querySelector(".".concat(imgCls)),this.tagNameDom=this.selfDom.querySelector(".".concat(tagNameCls)),this.deleteConfirmDom=this.selfDom.querySelector(".".concat(deleteConfirmCls)),this.onDelete=t.onDelete,this.on("mousedown",(e=>{e.stopPropagation()})),this.on("mouseup",(e=>{e.stopPropagation()})),this.on("click",this.handleClick),this.showTagName(),this.showTime(),this.showImg()}showTagName(){this.tagNameDom&&this.markType&&(this.tagNameDom.innerText=this.markType.name,this.tagNameDom.style.backgroundColor=this.markType.iconColor)}showImg(){this.selfDom.style.borderColor=this.markType.iconColor,this.imgDom.style.backgroundImage="url(".concat(this.detail.screenshotImgUrl,")")}handleClick(e){e.stopPropagation();const t=e.target.dataset;var r;if(t.delconfirm)this.player_.bizAnalytics().clickPv(AnalyticsEventWithTag.tagPointDeleteClick,{},!0,!0),null===(r=this.deleteConfirmDom)||void 0===r||r.classList.remove("vjs-hidden");else if(t.cancel){var n;null===(n=this.deleteConfirmDom)||void 0===n||n.classList.add("vjs-hidden")}else if(t.delete)this.onDelete(this.detail.markId);else{var i,o;this.player_.bizAnalytics().clickPv(AnalyticsEventWithTag.tagPointPlayClick,{},!0,!0),null===(i=(o=this.player()).seek)||void 0===i||i.call(o,this.detail.videoPoint),this.player().paused()&&this.player().play(),this.hide()}}visible(){var e;null===(e=this.deleteConfirmDom)||void 0===e||e.classList.add("vjs-hidden"),this.show()}showTime(){const e=this.selfDom.querySelector(".".concat(timeStamp));e&&(e.innerText=videojs.formatTime(this.detail.videoPoint,600))}createEl(){return template(templateStr$2)}}function ownKeys$c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$c(Object(r),!0).forEach((function(t){_defineProperty$1(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}videojs.registerComponent(componentName$5,TagDetail);const Plugin$f=videojs.getPlugin("plugin"),videoTagPluginName="videoTag";class VideoTag extends Plugin$f{constructor(e,t){super(e),_defineProperty$1(this,"lessonId",void 0),_defineProperty$1(this,"videoBizCode",void 0),_defineProperty$1(this,"_config",void 0),_defineProperty$1(this,"markInfo",void 0),_defineProperty$1(this,"entry",void 0),_defineProperty$1(this,"addTagModal",void 0),_defineProperty$1(this,"tagList",void 0),_defineProperty$1(this,"_logger",void 0),_defineProperty$1(this,"mouseTimeDisplay",void 0),_defineProperty$1(this,"triggerActive",void 0),_defineProperty$1(this,"tagEntryInit",void 0),_defineProperty$1(this,"isDeletingTagList",void 0),this.tagEntryInit=!1,this.videoBizCode=t.videoBizCode,this.lessonId=t.lessonId,this._config=t.initConfig,this.isDeletingTagList=[],this.player.one("loadedmetadata",(()=>{this.initData()})),this.player.one("play",(()=>this.tagEntryExpo())),this.player.on(ProgressControlEvent.SEEK_START,(()=>{this.triggerActive=!1})),this.player.on(ProgressControlEvent.SEEK_END,(()=>{this.triggerActive=!0})),this.triggerActive=!0}tagEntryExpo(){this.entry&&!this.tagEntryInit&&(this.tagEntryInit=!0,this.player.bizAnalytics().expPv(AnalyticsEventWithTag.tagEntryExpo,{},!0))}renderTagEntry(){const e=this.player.controlBar.getChild("controlCenter");if(!e)return;const t=e.el();this.entry=this.entry||new TagEntry(this.player,{});const r=this.entry.el(),n=this.player.mstMenu()._menuUI;n?t.insertBefore(r,n.el().nextSibling):t.contains(r)||t.appendChild(r)}initData(){var e;this.lessonId&&this._config&&(this._config.base||this._config.fullscreen)&&(initUploadClient(),this.mouseTimeDisplay=null===(e=this.player.controlBar.getChild("ProgressControl"))||void 0===e||null===(e=e.getChild("SeekBar"))||void 0===e?void 0:e.getChild("mouseTimeDisplay"),this._logger=new Logger("videoTagPlugin"),this.on(this.player,"hackfullscreenchange",this.updateVisible),this.getMarkInfo())}getMarkInfo(){return __async2(this,null,(function*(){try{var e;const t=this.player.duration(),r=yield getMarkInfo({lessonId:this.lessonId}),n=((null==r||null===(e=r.markConfig)||void 0===e?void 0:e.markTypeList)||[]).reduce(((e,t)=>(e[t.typeId]=t,e)),{});if(this.markInfo=_objectSpread$c(_objectSpread$c({},r),{},{markTypeMap:n,markList:((null==r?void 0:r.markList)||[]).filter((e=>e.videoPoint<=t&&n[e.typeId]))}),!this.markInfo.enabledMarkSwitch||!this.player)return;this.renderTagEntry(),this.renderTagList(),this.updateVisible()}catch(error){console.log(error),this._logger&&this._logger.error({type:"getMarkInfoFailed",error:error})}}))}getData(){var e;return{videoBizCode:this.videoBizCode,lessonId:this.lessonId,courseId:null===(e=this._config)||void 0===e?void 0:e.courseId,markInfo:this.markInfo}}updateVisible(){var e;if(!(this._config&&this.markInfo&&this.markInfo.enabledMarkSwitch&&null!==(e=this.markInfo.markConfig.markTypeList)&&void 0!==e&&e.length))return;this.addTagModal=this.player.getChild(componentName$4);const t=this.player.isFullscreen();var r;t&&!this._config.fullscreen||!t&&!this._config.base?(this.player.addClass("vjs-video-tag-hidden"),null===(r=this.entry)||void 0===r||r.dispose(),this.addTagModal.dispose(),this.entry=void 0):(this.renderTagEntry(),this.player.removeClass("vjs-video-tag-hidden"))}renderTagList(){var e;const t=null===(e=this.player.controlBar.getChild("progressControl"))||void 0===e?void 0:e.getChild("seekBar");t&&(this.tagList=t.addChild(componentName$1))}isDeleting(e,t){t&&(e?this.isDeletingTagList.push(t):this.isDeletingTagList=this.isDeletingTagList.filter((e=>e!==t)))}deleteTag(e,t){e&&this.markInfo&&(this.markInfo.markList=this.markInfo.markList.filter((t=>t.markId!==e)),this._config&&this._config.onDelete&&!t&&this._config.onDelete(e))}deleteTagByOutside(e){if(!this.tagList)return;const t=(this.tagList.children()||[]).find((t=>t.getMarkId()===e));t&&(t.dispose(),this.isDeleting(!1,e),this.deleteTag(e,!0))}addTag(e){var t;this.markInfo&&(this.markInfo.markList.push(e),null===(t=this.tagList)||void 0===t||t.addTag(e),this._config&&this._config.onAdd&&this._config.onAdd(_objectSpread$c(_objectSpread$c({},e),{},{type:this.markInfo.markTypeMap[e.typeId]})))}}videojs.registerPlugin(videoTagPluginName,VideoTag);const index$4="",Component$6=videojs.getComponent("Component"),listsContainerCls="vjs-video-add-tag-modal-lists",markTypeItemCls="vjs-video-add-tag-modal-item",modalCls="vjs-video-add-tag-modal",componentName$4="addTagModal",tagEntryTemplate$1='<div class="vjs-hidden vjs-video-add-tag-mask">\n  <div class='.concat(modalCls,'>\n    <div class="vjs-video-add-tag-modal-tip">\n      <div>标记</div>\n      <div class="vjs-video-add-tag-modal-tip-action">点击不同“图钉”，为当前标记选择类型</div>\n    </div>\n    <div data-close="close" class="vjs-video-add-tag-mask-close-icon"></div>\n    <div class=').concat(listsContainerCls,"></div>\n  </div>\n</div>");class AddTagModal extends Component$6{constructor(e,t){super(e,t),_defineProperty$1(this,"videoData",void 0),_defineProperty$1(this,"listWrapperDom",void 0),_defineProperty$1(this,"_logger",void 0),_defineProperty$1(this,"recoverPlay",void 0),_defineProperty$1(this,"_addTag",void 0),_defineProperty$1(this,"markTypeList",void 0),_defineProperty$1(this,"maskDom",void 0),this._addTag=t.addTag,this.markTypeList=t.markTypeList,this._logger=new Logger("addTagModal"),this.renderMarkTypeList(),this.on("click",this.maskClick),e.on("play",(()=>this.hide()))}maskClick(e){const t=e.target.dataset;if(t.id)this._addTag(+t.id);else if(t.close)this.hide();else{if(this.maskDom=this.maskDom||this.el().querySelector(".".concat(modalCls)),e.target&&this.maskDom.contains(e.target))return;this.hide()}}renderMarkTypeList(){var e;if(!this.player_.usingPlugin(videoTagPluginName))return;if(null===(e=this.markTypeList)||void 0===e||!e.length)return;if(this.listWrapperDom=this.el().querySelector(".".concat(listsContainerCls)),!this.listWrapperDom)return;const t=this.markTypeList.reduce(((e,t)=>e+"<div class=".concat(markTypeItemCls,' data-id="').concat(t.typeId,'">\n        <img class="').concat(markTypeItemCls,"-hor-center ").concat(markTypeItemCls,'-icon" src="').concat(t.iconUrl,'" data-id="').concat(t.typeId,'" />\n        <div class="').concat(markTypeItemCls,"-hor-center ").concat(markTypeItemCls,'-text" data-id="').concat(t.typeId,'">').concat(t.name,"</div>\n      </div>")),"");this.listWrapperDom.innerHTML=t}show(){var e,t;null===(e=this.player_.videoTag()._config)||void 0===e||null===(t=e.onVisibleChange)||void 0===t||t.call(e,!0),this.player_.paused()?this.recoverPlay=!1:(this.recoverPlay=!0,this.player_.pause()),super.show()}hide(){var e,t;this.isDisposed()||this.hasClass("vjs-hidden")||(null===(e=this.player_.videoTag()._config)||void 0===e||null===(t=e.onVisibleChange)||void 0===t||t.call(e,!1),this.recoverPlay&&this.player_.paused()&&this.player_.play(),super.hide())}createEl(){return template(tagEntryTemplate$1)}}videojs.registerComponent(componentName$4,AddTagModal);const Component$5=videojs.getComponent("Component"),componentName$3="addTagAfterTipModal",cacheKey="MSTPlayer-videoTag-afterAddSuccessTipModal",cancelBtnCls="vjs-video-add-tag-after-tip-modal-bottom-cancel",confirmBtnCls="vjs-video-add-tag-after-tip-modal-bottom-confirm",addAfterTipModalStr='<div class="vjs-video-add-tag-after-tip-modal vjs-hidden">\n  <div class="vjs-video-add-tag-after-tip-modal-img"></div>\n  <div class="vjs-video-add-tag-after-tip-modal-text">成功标记后可在“浏览器首页-看课标记”中查看</div>\n  <div class="vjs-video-add-tag-after-tip-modal-bottom">\n   <div data-action="cancel" class="'.concat(cancelBtnCls,' vjs-video-add-tag-after-tip-modal-bottom-button">不再提示</div>\n   <div data-action="confirm" class="').concat(confirmBtnCls,' vjs-video-add-tag-after-tip-modal-bottom-button">我知道了</div>\n  </div>\n</div>');class addAfterTipModal extends Component$5{static shouldShow(){const{userId:e}=getCookieUser();return!!e&&(addAfterTipModal.cacheKey="".concat(cacheKey,"-").concat(e),!localStorage.getItem(addAfterTipModal.cacheKey))}constructor(e){super(e),_defineProperty$1(this,"timer",void 0),_defineProperty$1(this,"okDom",void 0),this.okDom=this.el().querySelector(".".concat(confirmBtnCls)),this.on("click",this.handleVis)}handleVis(e){e.stopPropagation();const{action:t}=e.target.dataset;if(t){if(this.timer&&(window.clearTimeout(this.timer),this.timer=void 0),"cancel"===t)return localStorage.setItem(addAfterTipModal.cacheKey,"1"),void this.dispose();this.hide()}}visible(){this.timer||(this.show(),this.countDownBeforeClose(5))}countDownBeforeClose(e){this.okDom&&(this.okDom.innerText="我知道了(".concat(e,"s)"),this.timer=window.setTimeout((()=>{--e&&this.okDom?this.countDownBeforeClose(e):this.player()&&(this.hide(),this.timer=void 0)}),1e3))}createEl(){return template(addAfterTipModalStr)}dispose(){this.timer&&window.clearTimeout(this.timer),this.okDom=void 0,super.dispose()}}function ownKeys$b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$b(Object(r),!0).forEach((function(t){_defineProperty$1(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}_defineProperty$1(addAfterTipModal,"cacheKey",void 0),videojs.registerComponent(componentName$3,addAfterTipModal);const Component$4=videojs.getComponent("Component"),hiddenClass="vjs-video-tag-entry-hidden",toastPosClassName="vjs-video-tag-relative-toast",tagComponentName="tagEntry",tagEntryTemplate='<div class="vjs-video-tag-entry">\n</div>';class TagEntry extends Component$4{constructor(e,t){var r;super(e,t),_defineProperty$1(this,"entry",void 0),_defineProperty$1(this,"loading",void 0),_defineProperty$1(this,"videoData",void 0),_defineProperty$1(this,"addTagModal",void 0),_defineProperty$1(this,"addAfterTipModal",void 0),_defineProperty$1(this,"loadingIsShow",void 0),_defineProperty$1(this,"_logger",void 0),this._logger=new Logger("tagEntry"),this.videoData=e.videoTag().getData(),this.entry=this.addChild(componentName$6,{rightWord:"标记",iconName:"tag",onlyUI:!0}),this.registerEntryLottie(),this.loading=this.addChild(componentName$6,{onlyUI:!0,rightWord:"标记",iconName:"tag-loading",lottieIconOpts:{loop:!0,autoplay:!0}}),this.loading.addClass(hiddenClass),this.addTagModal=this.player_.addChild(componentName$4,{markTypeList:null===(r=this.videoData.markInfo)||void 0===r?void 0:r.markConfig.markTypeList,addTag:this.addTag.bind(this)}),this.on("click",(()=>this.showAddTagModal(!0)))}registerEntryLottie(){this.entry&&this.entry.on("click",(()=>{this.entry._icon.stop(),this.entry._icon.play(1,2)}))}showAddTagModal(e){this.addTagModal&&!this.loadingIsShow&&(e?(this.player_.bizAnalytics().clickPv(AnalyticsEventWithTag.tagEntryClick,{},!0,!0),this.addTagModal.show()):this.addTagModal.hide())}showToast(e){var t;null===(t=this.player_)||void 0===t||t.trigger(EToastEvent.TOAST_SHOW,_objectSpread$b(_objectSpread$b({},e),{},{className:toastPosClassName}))}addTag(e){return __async2(this,null,(function*(){try{var t,r,n,i,o,s,a;if(this.player_.bizAnalytics().clickPv(AnalyticsEventWithTag.tagTypeClick,{tagTypeName:null===(t=this.videoData.markInfo)||void 0===t||null===(t=t.markTypeMap[e])||void 0===t?void 0:t.name},!0,!0),this.showAddTagModal(!1),!e)throw Error("typeId为空");if(this.player_.videoTag().isDeletingTagList.length>0)return void this.showToast({type:EToastType.error,content:"操作太频繁啦，请稍后再试"});const l=this.player_.currentTime(),c=(null===(r=this.videoData.markInfo)||void 0===r?void 0:r.markList)||[],u=(null===(n=this.videoData.markInfo)||void 0===n?void 0:n.markConfig.intervalMin)||10,h=(null===(i=this.videoData.markInfo)||void 0===i?void 0:i.markConfig.intervalMax)||10;if(c.some((e=>e.videoPoint===l||e.videoPoint>l-u&&e.videoPoint<=l+h)))return void this.showToast({type:EToastType.error,content:"标记失败，这附近已经标记过了哦"});if(c.length>=((null===(o=this.videoData.markInfo)||void 0===o?void 0:o.markConfig.markLimitCount)||30))return void this.showToast({type:EToastType.error,content:"标记失败，标记太多会失去重点哦"});this.showLoading(!0);const d=this.player_.screenShot().getScreenshotWithBlob();if(!d)throw Error("视频截图生成失败");const p=yield uploadFile(d),f=yield addTag({typeId:e,videoBizCode:this.videoData.videoBizCode,courseId:this.videoData.courseId,lessonId:this.videoData.lessonId,videoPoint:l,screenshotImgUrl:p});if(!f)throw Error("标记失败，请稍后重试");null===(s=this.player_.videoTag())||void 0===s||s.addTag({typeId:e,videoPoint:l,screenshotImgUrl:p,markId:f}),this.showToast({type:EToastType.success,content:"标记成功"}),null===(a=this.addTagModal)||void 0===a||a.hide(),this.player_.isFullscreen()&&addAfterTipModal.shouldShow()&&(this.addAfterTipModal=this.addAfterTipModal||this.player_.addChild(componentName$3),this.addAfterTipModal.visible())}catch(error){if(this.showToast({type:EToastType.error,content:error.msg||"标记失败，请稍后重试"}),error&&"305110"===error.code)return;this._logger.error({type:"addVideoTag",error:error.message||error})}finally{this.showLoading(!1)}}))}showLoading(e){this.loadingIsShow=e,e?(this.loading.removeClass(hiddenClass),this.entry.addClass(hiddenClass)):(this.loading.addClass(hiddenClass),this.entry.removeClass(hiddenClass))}createEl(){return template(tagEntryTemplate)}}function ownKeys$a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$a(Object(r),!0).forEach((function(t){_defineProperty$1(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}videojs.registerComponent(tagComponentName,TagEntry);const componentName$2="tagItem",TAG_DETAIL_WIDTH=200,TAG_POINT_HOVER_WIDTH=24,Component$3=videojs.getComponent("Component"),templateStr$1='\n<div class="vjs-tag-point">\n  <div class="extra-padding"></div> \n</div>\n';class TagItem extends Component$3{constructor(e,t){super(e,t),_defineProperty$1(this,"data",void 0),_defineProperty$1(this,"tagDetailModal",void 0),_defineProperty$1(this,"_logger",void 0),this.data=t,this._logger=new Logger("tagItem"),this.init(),this.player().on(ProgressControlEvent.SEEK_START,(()=>{this.showTagDetail(!1)}))}init(){const e=this.el();e.style.left="".concat(this.data.detail.videoPoint/this.data.duration*100,"%"),e.style.backgroundColor=this.data.markType.iconColor,e.addEventListener("mouseenter",(()=>this.showTagDetail(!0))),e.addEventListener("mouseleave",(()=>this.showTagDetail(!1)))}getMarkId(){return this.data.detail.markId}showTagDetail(e){var t;const r=this.el(),{detail:n,markType:i}=this.data;if(e&&null!==(t=this.player())&&void 0!==t&&t.videoTag().triggerActive){var o;const e=r.querySelector(".extra-padding");this.addClass("mouseover-tag-point"),r.style.backgroundImage="url(".concat(i.iconUrl,")");const t=getRelativeDis(r,this.player().el());if(!t)return;if(this.tagDetailModal=this.tagDetailModal||this.addChild(componentName$5,{detail:n,markType:i,onDelete:this.deleteTag.bind(this)}),!this.tagDetailModal)return;const s=this.tagDetailModal.el(),a=TAG_DETAIL_WIDTH/2-TAG_POINT_HOVER_WIDTH/2,l=t.x+t.positionOne.width/2-TAG_DETAIL_WIDTH/2;l<=0?(s.style.left="".concat(-a-l,"px"),e.style.left="".concat(-a-l,"px")):l+TAG_DETAIL_WIDTH>t.positionOther.width?(s.style.left="".concat(-a-l-TAG_DETAIL_WIDTH+t.positionOther.width,"px"),e.style.left="".concat(-a-l-TAG_DETAIL_WIDTH+t.positionOther.width,"px")):(s.style.left="".concat(-a,"px"),e.style.left="".concat(-a,"px")),this.tagDetailModal.visible(),null===(o=this.player().videoTag())||void 0===o||null===(o=o.mouseTimeDisplay)||void 0===o||o.hide()}else{var s;if(this.removeClass("mouseover-tag-point"),!r)return;if(r.style.backgroundImage="",!this.tagDetailModal)return;this.tagDetailModal.hide(),null===(s=this.player().videoTag())||void 0===s||null===(s=s.mouseTimeDisplay)||void 0===s||s.show()}}showToast(e){var t;null===(t=this.player())||void 0===t||t.trigger(EToastEvent.TOAST_SHOW,_objectSpread$a(_objectSpread$a({},e),{},{className:toastPosClassName}))}deleteTag(e){return __async2(this,null,(function*(){try{if(this.player().videoTag().isDeleting(!0,e),this.hide(),yield deleteTag({markId:e}),this.isDisposed())return;this.player().videoTag().isDeleting(!1,e),this.showToast({type:EToastType.success,content:"删除标记成功"}),this.player().videoTag().deleteTag(e),this.dispose()}catch(error){this.player().videoTag().isDeleting(!1,e),this.show(),this.showToast({type:EToastType.error,content:error.msg||"删除标记失败，请稍后重试"}),this._logger.error({type:"deleteTag",error:error})}}))}createEl(){return template(templateStr$1)}}videojs.registerComponent("tagItem",TagItem);const index$3="",Component$2=videojs.getComponent("Component"),componentName$1="tagList",templateStr='\n<div class="vjs-tag-list vjs-hidden">\n</div>\n';class TagList extends Component$2{constructor(e,t){super(e,t),_defineProperty$1(this,"duration",void 0),_defineProperty$1(this,"videoData",void 0),_defineProperty$1(this,"hasInit",void 0),this.videoData=this.player().videoTag().getData(),this.showTags()}addTag(e){var t;e.markId&&this.addChild(componentName$2,{detail:e,duration:this.duration,markType:null===(t=this.videoData.markInfo)||void 0===t?void 0:t.markTypeMap[e.typeId]})}showTags(){var e;this.duration=this.duration||this.player().duration();((null===(e=this.videoData.markInfo)||void 0===e?void 0:e.markList)||[]).forEach((e=>{this.addTag(e)})),this.show()}createEl(){return template(templateStr)}}videojs.registerComponent("tagList",TagList);const ProgressControl=videojs.getComponent("ProgressControl");class CustomProgressControl extends ProgressControl{constructor(e,t){super(e,t),_defineProperty$1(this,"handleMouseDown",(e=>{super.handleMouseDown(e),this.player().trigger(ProgressControlEvent.SEEK_START),this.player().hotKeys().disableHotKeys(HotKeysLockNameEnum.SEEK)})),_defineProperty$1(this,"handleMouseUp",(e=>{super.handleMouseUp(e),this.player().trigger(ProgressControlEvent.SEEK_END),this.player().hotKeys().resumeHotKeys(HotKeysLockNameEnum.SEEK)})),_defineProperty$1(this,"showMarkers",(e=>{var t;const r=null===(t=this.getChild("seekBar"))||void 0===t?void 0:t.getChild("progressMarkers");r&&r.showMarkers(e)})),t.icon&&(this.el().querySelector(".vjs-seek-icon").style.backgroundImage="url(".concat(t.icon,")"))}}videojs.registerComponent("ProgressControl",CustomProgressControl);const index$2="",TextTrackDisplay=videojs.getComponent("TextTrackDisplay"),darkGray="#222",componentName="TextTrackDisplay";class CustomTextTrackDisplay extends TextTrackDisplay{createEl(){return this.player_.textTrackSettings=!0,videojs.dom.createEl("div",{className:"mst-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}updateDisplay(){const{width:e,height:t}=this.player_.currentDimensions(),r=Math.min(e/16,t/9),n=16*r,i=9*r,o=this.el();o.style.width="".concat(n,"px"),o.style.height="".concat(i,"px"),o.style.bottom="".concat((t-i)/2,"px"),super.updateDisplay()}updateDisplayState(e){const t=e.activeCues;if(t&&t.length){let e=t.length;for(;e--;){const r=t[e];if(!r)continue;const n=r.displayState;n.firstChild.style.backgroundColor="rgba(0,0,0,0)",n.firstChild.style.textShadow="0 0 4px ".concat(darkGray,", 0 0 4px ").concat(darkGray,", 0 0 4px ").concat(darkGray,", 0 0 4px ").concat(darkGray)}}}}videojs.registerComponent(componentName,CustomTextTrackDisplay);class SubtitlesToggle extends TipBtn{constructor(e){super(e,{iconName:"subtitles",tipPos:TipBtnTipPosEnum.CENTER,onlyUI:!0,tipWord:"本字幕由AI自动生成",className:"vjs-subtitles-toggle"}),_defineProperty$1(this,"_isExpo",void 0),_defineProperty$1(this,"subtitlesExpo",(()=>{!this._isExpo&&this.player().subtitlesPlugin().isSubtitlesEnable()&&(this._isExpo=!0,this.player().bizAnalytics().expPv(AnalyticsEventCodeEnum.SUBTITLES_EXPO,{},!0))})),_defineProperty$1(this,"checkEnable",(()=>{const e=this.player().subtitlesPlugin();if(e.isSubtitlesEnable()){this.show();const t=e.isSubtitlesShow();this._icon.play(t?-1:1),this.player().hasStarted()&&this.subtitlesExpo()}else this.hide()})),this._isExpo=!1;const t=videojs.dom.createEl("div",{className:"vjs-subtitles-beta"});this.el().appendChild(t),this.on(e,[SubtitlesEvent.SWITCH_CHANGE,SubtitlesEvent.ENABLE_CHANGE],(()=>{this.checkEnable()})),this.on(["tap","click"],(()=>{const t=this.player().subtitlesPlugin(),r=t.isSubtitlesShow();t.userSwitch(!r),e.bizAnalytics().clickPv(AnalyticsEventCodeEnum.SUBTITLES_CLICK,{action:r?"关闭字幕":"开启字幕"},!0)})),this.one(e,"play",(()=>{this.subtitlesExpo()})),this.checkEnable(),isMobile()||(this.on("mouseenter",(()=>{this._tipNode.style.display="block"})),this.on("mouseleave",(()=>{this._tipNode.style.display="none"})))}}videojs.registerComponent("subtitlesToggle",SubtitlesToggle);const index$1="",temp=template('\n<div class="vjs-rate-playing vjs-hidden">\n  <div class="rate-playing-icon"></div>\n  <div class="rate-playing-rate"><span>2.0X</span></div>\n  <div class="rate-playing-word"><span>快进中</span></div>\n</div>\n'),Component$1=videojs.getComponent("Component");class RatePlaying extends Component$1{constructor(e){super(e),_defineProperty$1(this,"_icon",void 0);const t=this.el().querySelector(".rate-playing-icon");this._icon=new LottieIcon(t,"rate-playing",{autoplay:!0,loop:!0})}createEl(){return temp.cloneNode(!0)}}videojs.registerComponent("ratePlaying",RatePlaying);const Component=videojs.getComponent("Component");class ControlSpaceLeft extends Component{createEl(){return videojs.dom.createEl("div",{className:"vjs-control-space-left"})}}class ControlSpaceRight extends Component{createEl(){return videojs.dom.createEl("div",{className:"vjs-control-space-right"})}}function ownKeys$9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$9(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$9(Object(r),!0).forEach((function(t){_defineProperty$1(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$9(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}videojs.registerComponent("controlSpaceLeft",ControlSpaceLeft),videojs.registerComponent("controlSpaceRight",ControlSpaceRight);const Plugin$e=videojs.getPlugin("plugin");class BizInteractive extends Plugin$e{constructor(e,t){super(e,t),_defineProperty$1(this,"_interactive",void 0);const{answerMore:r,markers:n,interactive:i}=t;e.ready((()=>{var o;(this._interactive=e.addChild("interactive",{interactive:t.interactive,getConfigDetail:e=>__async2(this,null,(function*(){return getInteractiveConfigDetail(e,t.answerMore.videoBizCode)})),checkAnswer:(e,n)=>__async2(this,null,(function*(){if(t.checkAnswer)return t.checkAnswer(e,n);return(yield submitAnswer(_objectSpread$9({interactiveSceneId:n.interactiveSceneId,questionId:n.question.id,myAnswers:e.myAnswers,totalSeconds:Math.floor(e.totalSeconds)},r))).rightStatus})),skipCountdown:t.skipCountdown}),n)&&(null===(o=e.controlBar.getChild("progressControl"))||void 0===o||o.showMarkers((i.interactiveConfigList||[]).map((e=>({time:e.interactiveTimePoint/1e3})))));e.on(MSTPlayerEvent.SEEK,(()=>{var e;null===(e=this._interactive)||void 0===e||e.forceStop()}))}))}dispose(){this._interactive&&(this.player.removeChild(this._interactive),this._interactive.dispose(),this._interactive=void 0),super.dispose()}}videojs.registerPlugin("bizInteractive",BizInteractive);var md5$1={exports:{}},crypt={exports:{}},base64map,crypt$1;base64map="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",crypt$1={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&crypt$1.rotl(e,8)|4278255360&crypt$1.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=crypt$1.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],r=0,n=0;r<e.length;r++,n+=8)t[n>>>5]|=e[r]<<24-n%32;return t},wordsToBytes:function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t},bytesToHex:function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((15&e[r]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},bytesToBase64:function(e){for(var t=[],r=0;r<e.length;r+=3)for(var n=e[r]<<16|e[r+1]<<8|e[r+2],i=0;i<4;i++)8*r+6*i<=8*e.length?t.push(base64map.charAt(n>>>6*(3-i)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],r=0,n=0;r<e.length;n=++r%4)0!=n&&t.push((base64map.indexOf(e.charAt(r-1))&Math.pow(2,-2*n+8)-1)<<2*n|base64map.indexOf(e.charAt(r))>>>6-2*n);return t}},crypt.exports=crypt$1;var cryptExports=crypt.exports,charenc={utf8:{stringToBytes:function(e){return charenc.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(charenc.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t},bytesToString:function(e){for(var t=[],r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return t.join("")}}},charenc_1=charenc,isBuffer_1=function(e){return null!=e&&(isBuffer(e)||isSlowBuffer(e)||!!e._isBuffer)},crypt2,utf8,isBuffer2,bin,md52;function isBuffer(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function isSlowBuffer(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&isBuffer(e.slice(0,0))}crypt2=cryptExports,utf8=charenc_1.utf8,isBuffer2=isBuffer_1,bin=charenc_1.bin,md52=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?bin.stringToBytes(e):utf8.stringToBytes(e):isBuffer2(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var r=crypt2.bytesToWords(e),n=8*e.length,i=1732584193,o=-271733879,s=-1732584194,a=271733878,l=0;l<r.length;l++)r[l]=16711935&(r[l]<<8|r[l]>>>24)|4278255360&(r[l]<<24|r[l]>>>8);r[n>>>5]|=128<<n%32,r[14+(n+64>>>9<<4)]=n;var c=md52._ff,u=md52._gg,h=md52._hh,d=md52._ii;for(l=0;l<r.length;l+=16){var p=i,f=o,y=s,g=a;i=c(i,o,s,a,r[l+0],7,-680876936),a=c(a,i,o,s,r[l+1],12,-389564586),s=c(s,a,i,o,r[l+2],17,606105819),o=c(o,s,a,i,r[l+3],22,-1044525330),i=c(i,o,s,a,r[l+4],7,-176418897),a=c(a,i,o,s,r[l+5],12,1200080426),s=c(s,a,i,o,r[l+6],17,-1473231341),o=c(o,s,a,i,r[l+7],22,-45705983),i=c(i,o,s,a,r[l+8],7,1770035416),a=c(a,i,o,s,r[l+9],12,-1958414417),s=c(s,a,i,o,r[l+10],17,-42063),o=c(o,s,a,i,r[l+11],22,-1990404162),i=c(i,o,s,a,r[l+12],7,1804603682),a=c(a,i,o,s,r[l+13],12,-40341101),s=c(s,a,i,o,r[l+14],17,-1502002290),i=u(i,o=c(o,s,a,i,r[l+15],22,1236535329),s,a,r[l+1],5,-165796510),a=u(a,i,o,s,r[l+6],9,-1069501632),s=u(s,a,i,o,r[l+11],14,643717713),o=u(o,s,a,i,r[l+0],20,-373897302),i=u(i,o,s,a,r[l+5],5,-701558691),a=u(a,i,o,s,r[l+10],9,38016083),s=u(s,a,i,o,r[l+15],14,-660478335),o=u(o,s,a,i,r[l+4],20,-405537848),i=u(i,o,s,a,r[l+9],5,568446438),a=u(a,i,o,s,r[l+14],9,-1019803690),s=u(s,a,i,o,r[l+3],14,-187363961),o=u(o,s,a,i,r[l+8],20,1163531501),i=u(i,o,s,a,r[l+13],5,-1444681467),a=u(a,i,o,s,r[l+2],9,-51403784),s=u(s,a,i,o,r[l+7],14,1735328473),i=h(i,o=u(o,s,a,i,r[l+12],20,-1926607734),s,a,r[l+5],4,-378558),a=h(a,i,o,s,r[l+8],11,-2022574463),s=h(s,a,i,o,r[l+11],16,1839030562),o=h(o,s,a,i,r[l+14],23,-35309556),i=h(i,o,s,a,r[l+1],4,-1530992060),a=h(a,i,o,s,r[l+4],11,1272893353),s=h(s,a,i,o,r[l+7],16,-155497632),o=h(o,s,a,i,r[l+10],23,-1094730640),i=h(i,o,s,a,r[l+13],4,681279174),a=h(a,i,o,s,r[l+0],11,-358537222),s=h(s,a,i,o,r[l+3],16,-722521979),o=h(o,s,a,i,r[l+6],23,76029189),i=h(i,o,s,a,r[l+9],4,-640364487),a=h(a,i,o,s,r[l+12],11,-421815835),s=h(s,a,i,o,r[l+15],16,530742520),i=d(i,o=h(o,s,a,i,r[l+2],23,-995338651),s,a,r[l+0],6,-198630844),a=d(a,i,o,s,r[l+7],10,1126891415),s=d(s,a,i,o,r[l+14],15,-1416354905),o=d(o,s,a,i,r[l+5],21,-57434055),i=d(i,o,s,a,r[l+12],6,1700485571),a=d(a,i,o,s,r[l+3],10,-1894986606),s=d(s,a,i,o,r[l+10],15,-1051523),o=d(o,s,a,i,r[l+1],21,-2054922799),i=d(i,o,s,a,r[l+8],6,1873313359),a=d(a,i,o,s,r[l+15],10,-30611744),s=d(s,a,i,o,r[l+6],15,-1560198380),o=d(o,s,a,i,r[l+13],21,1309151649),i=d(i,o,s,a,r[l+4],6,-145523070),a=d(a,i,o,s,r[l+11],10,-1120210379),s=d(s,a,i,o,r[l+2],15,718787259),o=d(o,s,a,i,r[l+9],21,-343485551),i=i+p>>>0,o=o+f>>>0,s=s+y>>>0,a=a+g>>>0}return crypt2.endian([i,o,s,a])},md52._ff=function(e,t,r,n,i,o,s){var a=e+(t&r|~t&n)+(i>>>0)+s;return(a<<o|a>>>32-o)+t},md52._gg=function(e,t,r,n,i,o,s){var a=e+(t&n|r&~n)+(i>>>0)+s;return(a<<o|a>>>32-o)+t},md52._hh=function(e,t,r,n,i,o,s){var a=e+(t^r^n)+(i>>>0)+s;return(a<<o|a>>>32-o)+t},md52._ii=function(e,t,r,n,i,o,s){var a=e+(r^(t|~n))+(i>>>0)+s;return(a<<o|a>>>32-o)+t},md52._blocksize=16,md52._digestsize=16,md5$1.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var r=crypt2.wordsToBytes(md52(e,t));return t&&t.asBytes?r:t&&t.asString?bin.bytesToString(r):crypt2.bytesToHex(r)};var md5Exports=md5$1.exports;const md5=getDefaultExportFromCjs(md5Exports);function makeError(e,t,r){const n=t&&(t.message||t.msg);return{code:e,_c:"mst_".concat(e),data:t,message:r||n||"",_s:!0}}function isNoLogin(e){return 2001106===(null==e?void 0:e.code)}function ownKeys$8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$8(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$8(Object(r),!0).forEach((function(t){_defineProperty$1(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$8(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const clogHostArr=["clog","dlog","iplog"],Plugin$d=videojs.getPlugin("plugin");class BizPoint extends Plugin$d{constructor(e,t){super(e),_defineProperty$1(this,"_isDegrade",!1),_defineProperty$1(this,"_options",void 0),_defineProperty$1(this,"_diffTime",void 0),_defineProperty$1(this,"_lastUploadTime",0),_defineProperty$1(this,"_isFirstPlayStatus",FCStatusEnum.START),_defineProperty$1(this,"_timer",void 0),_defineProperty$1(this,"_ignorePauseUpload",!1),_defineProperty$1(this,"_logger",void 0),_defineProperty$1(this,"_uuid",void 0),_defineProperty$1(this,"_upIndex",0),_defineProperty$1(this,"_isPlaying",!1),_defineProperty$1(this,"sendPauseUpload",(()=>{this._isPlaying&&(this._isPlaying=!1,this.stopFrequencyUpload(),this._ignorePauseUpload||(this.upload(this._isFirstPlayStatus,ClogStatusEnum.WATCH,this.getOffsetTime(getMillisecond())),this.upload(FCStatusEnum.PAUSED,ClogStatusEnum.PAUSED,0),this._lastUploadTime=getMillisecond()))})),_defineProperty$1(this,"getPointInfo",(()=>({begin_time:this._options.ts||0}))),_defineProperty$1(this,"checkDiffTime",((e,t)=>{if(e&&+e){const r=+e-getMillisecond();Math.abs(this._diffTime-r)>1e4&&this._logger.info({type:"diff_10",last:this._diffTime,current:r,diff:this._diffTime-r,local:getMillisecond(),ts:e,apiTime:t}),this._diffTime=r}})),_defineProperty$1(this,"startFrequencyUpload",(()=>{this.stopFrequencyUpload();const{intervalTime:e}=this._options,t=1e3*e;this._timer=setTimeout((()=>{this.upload(this._isFirstPlayStatus,ClogStatusEnum.WATCH,this.getOffsetTime(getMillisecond())),this._lastUploadTime=getMillisecond(),this.startFrequencyUpload()}),t)})),_defineProperty$1(this,"stopFrequencyUpload",(()=>{this._timer&&(clearTimeout(this._timer),this._timer=void 0)})),_defineProperty$1(this,"getOffsetTime",(e=>{const t=1e3*this._options.intervalTime;let r=e-this._lastUploadTime;return r>=t+2e3&&(r=t),r})),_defineProperty$1(this,"upload",((e,t,r)=>__async2(this,null,(function*(){const n=getMillisecond(),i=this.createParams(e,t,r);if(this._isDegrade)return this.clogUpload(i,n);return(yield this.fcUpload(i))?this.clogUpload(i,n):void 0})))),_defineProperty$1(this,"createParams",((e,t,r)=>{var n,i;const{userId:o,token:s}=getCookieUser(),{intervalTime:a,clientIp:l,commonPackage:c,eventPackage:u,ts:h,lessonId:d,courseId:p,videoType:f,videoBizCode:y}=this._options,g=this.player.duration(),v=this.player.currentTime(),m=Math.ceil(g/a)||0,_=Math.ceil(v/a),b=this.player.playbackRate(),E=(null===(n=this.player.definition().showClarity())||void 0===n?void 0:n.name)||"",T=++this._upIndex;return{CommonPackage:_objectSpread$8(_objectSpread$8({},Configs.getLogGlobalProps()),{},{userid:o,ip:l||"",os:(null===(i=navigator.userAgentData)||void 0===i?void 0:i.platform)||navigator.platform,resolution:"".concat(screen.width,"*").concat(screen.height),mstid:s,browser:getBrowserType(),browser_ver:navigator.appVersion,playerType:1,sdkVersion:version,videoBizCode:y},c),EventPackage:[_objectSpread$8({lesson_id:d,course_id:p,stay_time:r,status:t,begin_time:h,report_time:getMillisecond()+this._diffTime,point_time_id:_,point_time:1e3*a,point_num:m,video_type:f,speed:b,quality:E,action:e,fallback:0,uuid:"".concat(this._uuid,"_").concat(T)},u)]}})),_defineProperty$1(this,"fcUpload",(e=>__async2(this,null,(function*(){const{secret:t,sessionId:r}=this._options,{CommonPackage:{mstid:n,userid:i},EventPackage:o}=e,{stay_time:s,report_time:a,lesson_id:l,uuid:c,action:u}=o[0],h=makeSecretKey({action:u,duration:s,mstid:n,timestamp:a,version:"2022-08-02",signatureMethod:"HMAC-SHA1",signatureVersion:"1.0"},t),d=_objectSpread$8(_objectSpread$8({},e),{},{signature:h,sn:"ewt_web_video_detail"}),p=getMillisecond();try{const e=yield pointFCUpload(d,{TrVideoBizCode:this._options.videoBizCode,TrFallback:0,TrUserId:i,TrLessonId:l,TrUuId:c},{"x-bfe-session-id":r});this.checkDiffTime(null==e?void 0:e.ts,getMillisecond()-p)}catch(e2){const{code:t,data:r}=e2;var f,y,g;if(699101===t)return this._logger.warn({type:"fc",error:e2,requestData:d}),null===(f=this.player)||void 0===f||f.trigger("error",makeError(ErrorEnum.POINT_FC,e2)),this._isDegrade=!0,!0;if(699001!==t)return 699999===t?(this._isDegrade=!0,this._logger.warn({type:"fc-degrade",error:e2,requestData:d}),!0):(this._logger.warn({type:"fc",error:e2,requestData:d}),null===(y=this.player)||void 0===y||y.trigger("error",makeError(ErrorEnum.POINT_FC,e2)),!0);this._ignorePauseUpload=!0,this.player&&!this.player.paused()&&this.player.pause(),this.checkDiffTime(null==r?void 0:r.ts,getMillisecond()-p),null===(g=this.player)||void 0===g||g.trigger("error",makeError(ErrorEnum.POINT_ILLEGAL,e2))}return!1})))),_defineProperty$1(this,"clogUpload",((e,t)=>__async2(this,null,(function*(){var r;e.EventPackage[0].fallback=1;const n=JSON.stringify(e);if(hostInfo.isTest||hostInfo.isDev)return void console.log("[MSTPLayer-clog]：".concat(n));const i="log=".concat(n,"&key=eo^nye1j#!wt2%v)"),o={sn:"ewt_web_video_detail",log:n,sign:md5(i),ts:t,TrVideoBizCode:this._options.videoBizCode,TrFallback:1,TrUserId:e.CommonPackage.userid,TrLessonId:e.EventPackage[0].lesson_id,TrUuId:e.EventPackage[0].uuid};for(const e of clogHostArr)try{return void(yield pointCLogUpload(o,clogHosts[e]))}catch(e2){this._logger.warn({type:e,error:e2,requestData:o})}null===(r=this.player)||void 0===r||r.trigger("error",makeError(ErrorEnum.POINT_CLOG)),this._logger.error({type:"all",requestData:o})})))),t.ts=t.ts||Date.now(),this._options=t,this._options.intervalTime=t.intervalTime||60,this._diffTime=+t.ts-getMillisecond(),t.sessionId&&t.secret||(this._isDegrade=!0),this._logger=new Logger("BizPointPlugin"),this._uuid=randomString(8),hostInfo.isFront?(t.videoType!==VideoTypeEnum.NORMAL||t.courseId||console.error("[MSTPLayer-看课进度]：录播情况下，请传课程包ID-courseId"),this.player.on("play",(()=>{this._isPlaying=!0,this._ignorePauseUpload=!1,this.upload(this._isFirstPlayStatus,ClogStatusEnum.WATCH,0),this._lastUploadTime=getMillisecond(),this._isFirstPlayStatus=FCStatusEnum.PLAYING,this.startFrequencyUpload()})),this.player.on("pause",this.sendPauseUpload),this.player.on("ended",(()=>{this.stopFrequencyUpload(),this.upload(FCStatusEnum.END,ClogStatusEnum.WATCH,this.getOffsetTime(getMillisecond())),this._lastUploadTime=getMillisecond()}))):console.error("[MSTPLayer-看课进度]：仅前台使用，当前无效")}dispose(){this.stopFrequencyUpload(),super.dispose()}}videojs.registerPlugin("bizPoint",BizPoint);const Plugin$c=videojs.getPlugin("plugin");class Definition extends Plugin$c{constructor(e,t){var r;super(e),r=this,_defineProperty$1(this,"_showClarityId",ClarityIdEnum.UNKNOWN),_defineProperty$1(this,"_definitionList",[]),_defineProperty$1(this,"_definitionUI",void 0),_defineProperty$1(this,"_logger",void 0),_defineProperty$1(this,"_subtitlesUrl",void 0),_defineProperty$1(this,"definitionList",(e=>(void 0!==e&&(this._definitionList=e,this.player.trigger(DefinitionEvent.LIST_CHANGE),!this.showClarity()&&this._definitionList.length&&this.showClarityId(this._definitionList[0].clarityId)),this._definitionList))),_defineProperty$1(this,"showClarityId",(function(e){if(void 0!==e&&(arguments.length>1&&void 0!==arguments[1]&&arguments[1]||e!==r._showClarityId)){const t=r.getClarity(e);if(t){const n=!r.player.paused(),i=r.player.currentTime();n&&r.player.pause(),r.player.controlBar.hide(),r.player.topBar.hide(),r.player.bigPlayButton.hide(),r.player.hotKeys().disableHotKeys(HotKeysLockNameEnum.DEFINITION),r.player.src(t.source),r.player.subtitlesPlugin().updateSubtitlesUrl(r._subtitlesUrl),r.player.one("loadedmetadata",(()=>{var e,t;r.player.playbackRate((null===(e=(t=r.player).getDefaultPlayRate)||void 0===e?void 0:e.call(t))||1),i>0&&i<r.player.duration()&&r.player.currentTime(i),r.player.bigPlayButton.show(),r.player.controlBar.show(),r.player.topBar.show(),r.player.hotKeys().resumeHotKeys(HotKeysLockNameEnum.DEFINITION),n&&r.player.play()})),r._showClarityId=e,r.player.trigger(DefinitionEvent.CHANGE)}r._logger.debug({type:"change-definition",showClarityId:e})}return r._showClarityId})),_defineProperty$1(this,"showClarity",(()=>this.getClarity(this._showClarityId))),_defineProperty$1(this,"getClarity",(e=>this._definitionList.find((t=>t.clarityId===e)))),_defineProperty$1(this,"changeLine",(e=>{this._logger.debug({type:"change-line",options:e}),this._definitionList=e.definitionList,this._showClarityId=e.showClarityId,this._subtitlesUrl=e.subtitlesUrl||"",this.player.trigger(DefinitionEvent.LIST_CHANGE),this.showClarityId(this._showClarityId,!0)})),this._definitionList=t.definitionList,this._showClarityId=t.showClarityId,this._subtitlesUrl=t.subtitlesUrl||"",this._logger=new Logger("DefinitionPlugin");const n=this.showClarity();n?(this.player.src(n.source),this.player.subtitlesPlugin().updateSubtitlesUrl(this._subtitlesUrl),t.disableUI||this.player.ready((()=>{const e=this.player.controlBar;this._definitionUI=e.addChild("definition",{},e.children().length-4)}))):this._logger.info({type:"init",options:t})}dispose(){this._definitionUI&&(this.player.controlBar.removeChild(this._definitionUI),this._definitionUI.dispose(),this._definitionUI=void 0),super.dispose()}}videojs.registerPlugin("definition",Definition);const Plugin$b=videojs.getPlugin("plugin");class LoggingPlugin extends Plugin$b{constructor(e,t){super(e,t);const{logLevel:r,logExtendConfig:n}=t;Logger.setGlobalLogLevel(r||LogLevel.info,n||"");const{userId:i}=getCookieUser();i&&Logger.setUserId(String(i));const o=new Logger("LoggingPlugin"),s=navigator.connection,a={browserType:getBrowserType(),devicePixelRatio:window.devicePixelRatio,screen:{width:window.screen.width,height:window.screen.height},network:s?{type:s.type,effectiveType:s.effectiveType,downlink:s.downlink,downlinkMax:s.downlinkMax}:{},features:{indexedDB:!!window.indexedDB,cookie:navigator.cookieEnabled,webRTC:!!window.RTCPeerConnection}};o.info("userDeviceInfo",a),e.ready((()=>{o.debug("Player ready")}))}}videojs.registerPlugin("logging",LoggingPlugin);const MAX_FAIL_COUNT=2;class Refresh{static getInstance(e){return window.__ewt_player_refresh_token||(window.__ewt_player_refresh_token=new Refresh(e)),window.__ewt_player_refresh_token}static getCurrentInstance(){return window.__ewt_player_refresh_token}static destroyInstance(){window.__ewt_player_refresh_token&&(window.__ewt_player_refresh_token.destroy(),delete window.__ewt_player_refresh_token)}constructor(e){_defineProperty$1(this,"_renewalTime",void 0),_defineProperty$1(this,"_handles",void 0),_defineProperty$1(this,"_failCount",0),_defineProperty$1(this,"_timer",void 0),_defineProperty$1(this,"start",(()=>{this._timer&&clearTimeout(this._timer),this._timer=setTimeout((()=>__async2(this,null,(function*(){try{yield getUserInfo(),this._failCount=0}catch(e2){if(this._failCount++,isNoLogin(e2)||this._failCount>=MAX_FAIL_COUNT)return this.triggerError(e2),void Refresh.destroyInstance()}this.start()}))),1e3*this._renewalTime)})),_defineProperty$1(this,"onError",(e=>{this._handles.push(e)})),_defineProperty$1(this,"offError",(e=>{this._handles=this._handles.filter((t=>t!==e)),this._handles.length||Refresh.destroyInstance()})),_defineProperty$1(this,"triggerError",(e=>{this._handles.forEach((t=>{try{t(e)}catch(r){}}))})),_defineProperty$1(this,"destroy",(()=>{this._handles=[],clearTimeout(this._timer)})),this._renewalTime=e||600,this._handles=[],this.start()}}const Plugin$a=videojs.getPlugin("plugin");class BizLogin extends Plugin$a{constructor(e,t){if(super(e),_defineProperty$1(this,"_options",void 0),_defineProperty$1(this,"_logger",void 0),_defineProperty$1(this,"onError",(e=>{this.player.trigger("error",makeError(ErrorEnum.LOGIN,e)),this._logger.info({type:"login",error:e})})),this._options=t,this._logger=new Logger("BizLoginPlugin"),!hostInfo.isFront)return void console.error("[MSTPLayer-登录态续期]：仅前台使用，当前无效");Refresh.getInstance(t.loginRenewalTime).onError(this.onError)}dispose(){const e=Refresh.getCurrentInstance();e&&e.offError(this.onError),super.dispose()}}function ownKeys$7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$7(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$7(Object(r),!0).forEach((function(t){_defineProperty$1(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$7(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}videojs.registerPlugin("bizLogin",BizLogin);const slsConfig={test:{logProject:"sls-ewt-test-tech-infra-fe",logStore:"ewt-web-log"},production:{logProject:"sls-ewt-tech-infra-fe",logStore:"ewt-web-log"}},SLS_HOST="cn-hangzhou.log.aliyuncs.com";class QualityPoint{constructor(){if(_defineProperty$1(this,"slsTracker",void 0),!QualityPoint._userId){const{userId:e}=getCookieUser();e&&(QualityPoint._userId=String(e));const{isTest:t,isPre:r,isLocal:n,isDev:i}=hostInfo;n?QualityPoint.currentEnv="local":t||i?QualityPoint.currentEnv="test":r&&(QualityPoint.currentEnv="pre"),"local"!==QualityPoint.currentEnv&&(QualityPoint._shouldLogToSls=!0)}const e=["local","test"].includes(QualityPoint.currentEnv)?slsConfig.test.logProject:slsConfig.production.logProject,t=["local","test"].includes(QualityPoint.currentEnv)?slsConfig.test.logStore:slsConfig.production.logStore,r={host:SLS_HOST,project:e,logstore:t,time:10,count:10,topic:"video_playback_quality_log"};this.slsTracker=new WebTrackerBrowser(r)}sendToSLS(e){var t;const r=_objectSpread$7(_objectSpread$7({},e),{},{userId:QualityPoint._userId,platform:"web",network:(null===(t=navigator.connection)||void 0===t?void 0:t.effectiveType)||"unknown",local_time:Date.now(),sdk:version,extra_info:e.extra_info||{},gp:Configs.getLogGlobalProps()});QualityPoint._shouldLogToSls?this.slsTracker.send(r):console.log("视频质量上报",r)}}function ownKeys$6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$6(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$6(Object(r),!0).forEach((function(t){_defineProperty$1(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$6(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}_defineProperty$1(QualityPoint,"_userId",void 0),_defineProperty$1(QualityPoint,"_shouldLogToSls",!1),_defineProperty$1(QualityPoint,"currentEnv","production");const Plugin$9=videojs.getPlugin("plugin");class QualityPointPlugin extends Plugin$9{constructor(e,t){var r;super(e),_defineProperty$1(this,"_options",void 0),_defineProperty$1(this,"_QualityPoint",void 0),_defineProperty$1(this,"_firstPlayTime",0),_defineProperty$1(this,"_bufferingTime",0),_defineProperty$1(this,"_errorEvent",void 0),_defineProperty$1(this,"_isPlayed",!1),_defineProperty$1(this,"_isSeekAfter",!1),_defineProperty$1(this,"_isSeeking",!1),_defineProperty$1(this,"_seekingTimer",void 0),_defineProperty$1(this,"_playedCount",0),_defineProperty$1(this,"seeking",(()=>{this._isSeeking=!0})),_defineProperty$1(this,"seeked",(()=>{this._seekingTimer&&clearTimeout(this._seekingTimer),setTimeout((()=>{this._isSeeking=!1}),100)})),_defineProperty$1(this,"getBandWidth",(()=>{try{var e,t;return((null===(e=this.player)||void 0===e||null===(e=e.tech(!0))||void 0===e||null===(e=e._adapter)||void 0===e||null===(t=e.getHlsInstance)||void 0===t||null===(t=t.call(e))||void 0===t?void 0:t.bandwidthEstimate)||0)/8/1024}catch(e2){}return 0})),this._options=t,this._errorEvent=(null===(r=t.config)||void 0===r?void 0:r.errorEvent)||"error",this._QualityPoint=new QualityPoint,this.play=this.play.bind(this),this.timeupdate=this.timeupdate.bind(this),this.waiting=this.waiting.bind(this),this.canplay=this.canplay.bind(this),this.error=this.error.bind(this),this.initPlayEvent()}initPlayEvent(){this.resetInfo(),this._QualityPoint.sendToSLS(_objectSpread$6(_objectSpread$6({},this._options.info),{},{event:QualityPointEvent.LOAD_START})),this.player.one("play",this.play),this.player.one(this._errorEvent,this.error)}play(){this._isPlayed=!0,this._playedCount++,this._firstPlayTime=performance.now(),this._QualityPoint.sendToSLS(_objectSpread$6(_objectSpread$6({},this._options.info),{},{event:QualityPointEvent.START_PLAY,extra_info:{type:1===this._playedCount?"lesson_first":"normal"}})),this.player.one("timeupdate",this.timeupdate)}timeupdate(){this._QualityPoint.sendToSLS(_objectSpread$6(_objectSpread$6({},this._options.info),{},{event:QualityPointEvent.FIRST_FRAME_PLAYED,extra_info:{loading_duration:performance.now()-this._firstPlayTime,type:1===this._playedCount?"lesson_first":"normal"}})),this.player.on("waiting",this.waiting),this.player.on("canplay",this.canplay),this.player.on("seeking",this.seeking),this.player.on("seeked",this.seeked)}waiting(){this._bufferingTime||this.player.paused()||(this._isSeeking&&(this._isSeekAfter=!0),this._bufferingTime=performance.now(),this._QualityPoint.sendToSLS(_objectSpread$6(_objectSpread$6({},this._options.info),{},{event:QualityPointEvent.BUFFERING,extra_info:{type:this._isSeekAfter?"seek":"nature",bandwidth:this.getBandWidth(),rate:this.player.playbackRate()}})))}canplay(){this._bufferingTime&&(this._QualityPoint.sendToSLS(_objectSpread$6(_objectSpread$6({},this._options.info),{},{event:QualityPointEvent.BUFFERING_END,extra_info:{buffering_duration:performance.now()-this._bufferingTime,type:this._isSeekAfter?"seek":"nature",bandwidth:this.getBandWidth()}})),this._isSeekAfter=!1,this._bufferingTime=0)}error(e,t){var r;const n=_objectSpread$6(_objectSpread$6({},this._options.info),{},{event:this._isPlayed?QualityPointEvent.PLAY_FAILED:QualityPointEvent.LOAD_FAILED,extra_info:{error_code:t.code||0,error_message:t.message||(null===(r=this._options.config)||void 0===r?void 0:r.errorMessage)||""}});this._QualityPoint.sendToSLS(n),this.resetInfo()}resetInfo(){this._firstPlayTime=0,this._bufferingTime=0,this._isPlayed=!1,this._isSeekAfter=!1,this._isSeeking=!1,this._seekingTimer&&(clearTimeout(this._seekingTimer),this._seekingTimer=void 0),this.player.off("play",this.play),this.player.off("timeupdate",this.timeupdate),this.player.off("waiting",this.waiting),this.player.off("canplay",this.canplay),this.player.off("seeking",this.seeking),this.player.off("seeked",this.seeked),this.player.off(this._errorEvent,this.error)}changeInfo(e){this._options.info=_objectSpread$6(_objectSpread$6({},this._options.info),e),this.initPlayEvent()}dispose(){this.resetInfo(),super.dispose()}}videojs.registerPlugin("qualityPoint",QualityPointPlugin);const Plugin$8=videojs.getPlugin("plugin");class ProgressPointPlugin extends Plugin$8{constructor(e,t){super(e),_defineProperty$1(this,"_userId",void 0),_defineProperty$1(this,"_lessonId",void 0),_defineProperty$1(this,"_reportFrequency",void 0),_defineProperty$1(this,"_videoBizCode",void 0),_defineProperty$1(this,"_timer",void 0),_defineProperty$1(this,"toSendProgress",(()=>{this.clearTimer(),this.sendInfo()})),_defineProperty$1(this,"onVisibilityChange",(()=>{document.hidden&&this.player&&!this.player.paused()&&this.sendInfo()}));const{userId:r}=getCookieUser();this._userId=r,this._lessonId=t.lessonId,this._reportFrequency=t.reportFrequency||300,this._videoBizCode=t.videoBizCode,e.on("play",(()=>{this._timer=setInterval((()=>{this.sendInfo()}),1e3*this._reportFrequency)})),e.on(["pause","ended"],this.toSendProgress),window.addEventListener("beforeunload",this.toSendProgress),document.addEventListener("visibilitychange",this.onVisibilityChange)}sendInfo(){var e;const t=null===(e=this.player)||void 0===e?void 0:e.currentTime();t&&playbackProgress({userId:String(this._userId),lessonId:String(this._lessonId),playedProgress:t,videoBizCode:this._videoBizCode})}clearTimer(){this._timer&&clearInterval(this._timer),this._timer=void 0}dispose(){window.removeEventListener("beforeunload",this.toSendProgress),document.removeEventListener("visibilitychange",this.onVisibilityChange),this.clearTimer(),super.dispose()}}function ownKeys$5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$5(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$5(Object(r),!0).forEach((function(t){_defineProperty$1(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$5(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}videojs.registerPlugin("progressPoint",ProgressPointPlugin);const Plugin$7=videojs.getPlugin("plugin");class BizAnalytics extends Plugin$7{constructor(e,t){var r;super(e),r=this,_defineProperty$1(this,"_options",void 0),_defineProperty$1(this,"clickPv",(function(e){var t,n;let i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];a&&(i=r.player.isFullscreen()),null===(t=(n=r._options).record)||void 0===t||t.call(n,_objectSpread$5(_objectSpread$5(_objectSpread$5({},o),{},{eventCode:e,eventType:BizAnalyticsEventType.CLK},s?{videoBizCode:r._options.videoBizCode}:{}),a?{status:i?"全屏":"小屏"}:{}))})),_defineProperty$1(this,"expPv",(function(e){var t,n;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];null===(t=(n=r._options).record)||void 0===t||t.call(n,_objectSpread$5(_objectSpread$5({},i),{},{eventCode:e,eventType:BizAnalyticsEventType.EXP},o?{videoBizCode:r._options.videoBizCode}:{}))})),this._options=t}}videojs.registerPlugin("bizAnalytics",BizAnalytics);const Plugin$6=videojs.getPlugin("plugin");class BizHeaderFooter extends Plugin$6{constructor(e,t){super(e),_defineProperty$1(this,"_options",void 0),_defineProperty$1(this,"_headerFooter",void 0),this._options=t;const{header:r,footer:n,footUrl:i,videoBizCode:o}=t;if(!(null!=r&&r.videoUrl||null!=n&&n.videoUrl||i))return;const s=+o%1e3||0;e.ready((()=>{e.on(HeaderFooterEvent.HEADER_PLAYING,(()=>{null!=r&&r.needCallBack&&videoHeaderPlayCallBack({videoConfigId:null==r?void 0:r.videoConfigId,videoBizCode:o}),e.bizAnalytics().expPv("ewt_pc_public_video_play_expo",{code_type:s,content_id:null==r?void 0:r.videoConfigId})})),e.on(HeaderFooterEvent.HEADER_SKIP,(()=>{e.bizAnalytics().clickPv("ewt_pc_public_video_play_opening_close_click",{code_type:s,content_id:null==r?void 0:r.videoConfigId})})),this._headerFooter=e.addChild("headerFooter",{headUrl:(null==r?void 0:r.videoUrl)||"",footUrl:(null==n?void 0:n.videoUrl)||i||""}),e.on(MSTPlayerEvent.SEEK,(()=>{var e;null===(e=this._headerFooter)||void 0===e||e.forceStop()}))}))}dispose(){this._headerFooter&&(this.player.removeChild(this._headerFooter),this._headerFooter.dispose(),this._headerFooter=void 0),super.dispose()}}function ownKeys$4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$4(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$4(Object(r),!0).forEach((function(t){_defineProperty$1(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$4(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}videojs.registerPlugin("bizHeaderFooter",BizHeaderFooter);const Plugin$5=videojs.getPlugin("plugin");class HotKeysPlugin extends Plugin$5{constructor(e,t){super(e),_defineProperty$1(this,"_options",void 0),_defineProperty$1(this,"_hotKeysLock",{}),_defineProperty$1(this,"_hotKeysUI",void 0),_defineProperty$1(this,"_longPressType",0),_defineProperty$1(this,"_timer",void 0),_defineProperty$1(this,"_isRatePlay",!1),_defineProperty$1(this,"_lastPlayRate",1),_defineProperty$1(this,"handleHotKeys",(e=>{if(!e.repeat&&(this.stopLongPress(),this.isEnable()&&!this.isLocked()&&!this.hasEditableFocus()))return keycode.isEventKey(e,"Space")?(stopAll(e),this.player.paused()?this.player.bigPlay?this.player.bigPlay():this.player.play():this.player.pause(),void this.player.bizAnalytics().clickPv(AnalyticsEventCodeEnum.HOTKEYS_ACTION,{action:"空格"})):void(this.player.hasStarted()&&(keycode.isEventKey(e,"Right")?(stopAll(e),this._longPressType=2,this._timer=setTimeout((()=>{this.runRightLongPress()}),300)):keycode.isEventKey(e,"Left")&&(stopAll(e),this._longPressType=1,this.runLeftLongPress(),this.player.pause(),this.onFakeBack(),this.player.bizAnalytics().clickPv(AnalyticsEventCodeEnum.HOTKEYS_ACTION,{action:"后退"}))))})),_defineProperty$1(this,"handleHotKeysUp",(()=>{this.stopLongPress()})),_defineProperty$1(this,"runLeftLongPress",(()=>{this._timer=setTimeout((()=>{this.onFakeBack(),this.runLeftLongPress()}),500)})),_defineProperty$1(this,"runRightLongPress",(()=>{this._isRatePlay=!0,this._lastPlayRate=this.player.playbackRate()||1,this.player.playbackRate(2),this.player.ratePlaying.show(),this.player.paused()&&this.player.play(),this.player.bizAnalytics().clickPv(AnalyticsEventCodeEnum.HOTKEYS_ACTION,{action:"长按倍速"})})),_defineProperty$1(this,"stopLongPress",(()=>{var e;(this._timer&&(clearTimeout(this._timer),this._timer=void 0),1===this._longPressType)?(null===(e=this.getSeekBar())||void 0===e||e.fakeSeekEnd(),this.player.paused()&&this.player.play()):2===this._longPressType&&(this._isRatePlay?(this.player.ratePlaying.hide(),this.player.playbackRate(this._lastPlayRate)):(this.onForward(),this.player.bizAnalytics().clickPv(AnalyticsEventCodeEnum.HOTKEYS_ACTION,{action:"前进"})));this._isRatePlay=!1,this._longPressType=0})),_defineProperty$1(this,"onFakeBack",(()=>{var e,t;if(this.isLocked())return void this.stopLongPress();const r=(null===(e=this.getSeekBar())||void 0===e?void 0:e.getCurrentTime_())||0;r<.1?this.stopLongPress():(null===(t=this.getSeekBar())||void 0===t||t.fakeSeekStart(Math.max(r-10,0)),r<=10&&this.stopLongPress())})),_defineProperty$1(this,"onBack",(()=>{var e,t,r;if(this.isLocked())return;const n=(null===(e=this.getSeekBar())||void 0===e?void 0:e.getCurrentTime_())||0;n<.1||(null===(t=(r=this.player).seek)||void 0===t||t.call(r,Math.max(n-10,0)),this.player.paused()&&this.player.play())})),_defineProperty$1(this,"onForward",(()=>{var e,t;if(this.isLocked())return;const r=this.player.currentTime(),n=this.player.duration();n-r<.1||(null===(e=(t=this.player).seek)||void 0===e||e.call(t,Math.min(r+10,n-.1)),this.player.paused()&&this.player.play())})),_defineProperty$1(this,"updateUI",(()=>{this._hotKeysUI&&(this.isEnable()?this._hotKeysUI.show():this._hotKeysUI.hide())})),_defineProperty$1(this,"isEnable",(()=>!!this.player&&(this.player.isFullscreen()?this._options.fullscreen:this._options.base))),_defineProperty$1(this,"isLocked",(()=>Object.values(this._hotKeysLock).some((e=>e)))),_defineProperty$1(this,"hasEditableFocus",(()=>{if(document.activeElement){switch(document.activeElement.tagName){case"INPUT":switch(document.activeElement.type){case"button":case"reset":case"submit":case"hidden":case"radio":case"checkbox":case"image":case"file":case"range":return!1;default:return!0}case"TEXTAREA":return!0}if(document.activeElement.isContentEditable)return!0}return!1})),_defineProperty$1(this,"disableHotKeys",(e=>{this._hotKeysLock[e]=!0})),_defineProperty$1(this,"resumeHotKeys",(e=>{delete this._hotKeysLock[e]})),_defineProperty$1(this,"getSeekBar",(()=>{var e;return null===(e=this.player.controlBar.getChild("progressControl"))||void 0===e?void 0:e.getChild("seekBar")})),this._options=_objectSpread$4({base:!0,fullscreen:!0},t),isMobile()||(this._options.base||this._options.fullscreen)&&(e.one("loadedmetadata",(()=>{document.addEventListener("keydown",this.handleHotKeys),document.addEventListener("keyup",this.handleHotKeysUp)})),e.ready((()=>{const e=this.player.controlBar;this._hotKeysUI=e.addChild("hotKeys",{onBack:this.onBack,onForward:this.onForward},4),this.updateUI()})),e.on("hackfullscreenchange",(()=>{this.updateUI(),this.stopLongPress()})),e.on("play",(()=>{1===this._longPressType&&this.stopLongPress()})),e.on("pause",(()=>{2===this._longPressType&&this.stopLongPress()})))}dispose(){document.removeEventListener("keydown",this.handleHotKeys),document.removeEventListener("keyup",this.handleHotKeysUp),this.stopLongPress(),super.dispose()}}function ownKeys$3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$3(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$3(Object(r),!0).forEach((function(t){_defineProperty$1(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$3(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}videojs.registerPlugin("hotKeys",HotKeysPlugin);const Plugin$4=videojs.getPlugin("plugin");class ResizePlugin extends Plugin$4{constructor(e,t){super(e),_defineProperty$1(this,"_isRotate",!1),_defineProperty$1(this,"_options",void 0),_defineProperty$1(this,"resize",(()=>{const e=this.player.el(),t=this.player.currentWidth();this._isRotate=this.player.isFullWindow&&window.innerHeight>window.innerWidth,t>=this._options.baseWidth?e.style.fontSize="10px":e.style.fontSize=t<400?"5px":"7px",this.player.removeClass("vjs-width-too-small"),this.player.removeClass("vjs-no-tip"),t<600&&(this.player.addClass("vjs-width-too-small"),t<400&&this.player.addClass("vjs-no-tip"))})),_defineProperty$1(this,"isRotate",(()=>this._isRotate)),this._options=_objectSpread$3({baseWidth:1280},t||{}),this.resize(),this.player.on("playerresize",this.resize)}}function ownKeys$2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$2(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$2(Object(r),!0).forEach((function(t){_defineProperty$1(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$2(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}videojs.registerPlugin("resize",ResizePlugin);const Plugin$3=videojs.getPlugin("plugin");class MSTMenuPlugin extends Plugin$3{constructor(e,t){super(e),_defineProperty$1(this,"_options",void 0),_defineProperty$1(this,"_menuUI",void 0),_defineProperty$1(this,"_isExpo",!1),_defineProperty$1(this,"updateVisible",(()=>{const e=this.player.controlBar.getChild("controlCenter");if(!e)return;const{lessonId:t,base:r,fullscreen:n,items:i}=this._options,o=this.player.isFullscreen(),s=i&&i.length>1&&(o?n:r);this.player.off("play",this.expoMenu),s?(this._menuUI||(this._menuUI=new MSTMenu(this.player,_objectSpread$2(_objectSpread$2({},this._options),{},{lessonId:t||0,items:i||[],onItemClick:e=>{this.changeVideo(e),this.player.bizAnalytics().clickPv(AnalyticsEventCodeEnum.MENU_ITEM_CLICK,{},!0)}})),e.el().insertBefore(this._menuUI.el(),e.el().firstChild)),this._isExpo||(this.player.hasStarted()?this.expoMenu():this.player.one("play",this.expoMenu))):this._menuUI&&(e.el().removeChild(this._menuUI.el()),this._menuUI.dispose(),this._menuUI=void 0)})),_defineProperty$1(this,"updateMenuItems",(e=>{this._options.items=e||[],this._menuUI&&e&&e.length>1?this._menuUI.updateMenuItems(e):this.updateVisible()})),_defineProperty$1(this,"changeVideo",(e=>__async2(this,null,(function*(){this.player.paused()||this.player.pause(),this.player.hotKeys().disableHotKeys(HotKeysLockNameEnum.MENU),this.player.controlBar.hide(),this.player.topBar.hide(),this.player.loadingLayer.doShow(!1);try{const t=yield this._options.onItemClick(e);t&&this._options.changeVideo(t)}catch(error){var t;null===(t=this.player)||void 0===t||t.trigger("error",makeError(ErrorEnum.MENU_CHANGE_VIDEO_ERROR,error))}})))),_defineProperty$1(this,"expoMenu",(()=>{this._isExpo||(this._isExpo=!0,this.player.bizAnalytics().expPv(AnalyticsEventCodeEnum.MENU_EXPO,{},!0))})),this._options=_objectSpread$2({base:!1,fullscreen:!0},t);const{lessonId:r,base:n,fullscreen:i}=this._options;r&&(n||i)&&(this.player.on("hackfullscreenchange",this.updateVisible),this.player.ready((()=>{this.updateVisible()})))}dispose(){this._menuUI=void 0,super.dispose()}}videojs.registerPlugin("mstMenu",MSTMenuPlugin);const Plugin$2=videojs.getPlugin("plugin");class ScreenShot extends Plugin$2{constructor(e,t){super(e,t),_defineProperty$1(this,"getScreenshot",((e,t)=>{var r;const n=null===(r=this.player)||void 0===r||null===(r=r.tech())||void 0===r?void 0:r.el();return n&&n instanceof HTMLVideoElement?getScreenshot(n,e,t):""}))}getScreenshotWithBlob(e,t){return dataURLtoBlob(this.getScreenshot(e,t))}getScreenshotWithTextTrack(e){return __async2(this,arguments,(function*(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image/jpeg",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0.92";try{var n,i;const o=this.player.tech().el(),s=null==o?void 0:o.parentElement,a=null===(n=this.player.getChild(componentName))||void 0===n?void 0:n.el();if(!o||!s)return"";if(yield loadHtml2canvas(),!window.html2canvas)throw Error("html2canvas 加载失败！");const{width:l,height:c}=this.player.currentDimensions(),u=Math.min(l/16,c/9),h=16*u,d=9*u,p=document.createElement("canvas");p.width=h,p.height=d,null===(i=p.getContext("2d"))||void 0===i||i.drawImage(o,0,0,p.width,p.height);const f=(yield window.html2canvas(s,{logging:!1,ignoreElements:e=>!a||!e.contains(a)&&!a.contains(e),scale:1,backgroundColor:null,canvas:p,width:h,height:d})).toDataURL(t,r);return e?dataURLtoBlob(f):f}catch(error){console.error(error);const r=this.getScreenshot();return r?e?dataURLtoBlob(r):r:""}}))}}videojs.registerPlugin("screenShot",ScreenShot);const Plugin$1=videojs.getPlugin("plugin");class Feedback extends Plugin$1{constructor(e,t){super(e),_defineProperty$1(this,"_config",void 0),this._config=t,this.hiddenOrOpenFeedbackEntry(),this.on(e,"hackfullscreenchange",this.hiddenOrOpenFeedbackEntry),this.on(e,MSTPlayerEvent.SEEK,(()=>{this.disposeFeedbackModal()}))}getGlobalConfig(){return this._config}hiddenOrOpenFeedbackEntry(){var e,t,r;const n=this.player.getChild("topBar");if(!n)return;const i=n.getChild(feedbackButtonCompName);if(null===(e=this._config)||void 0===e||null===(e=e.globalConfig)||void 0===e||!e.enabledFeedbackSwitch)return void(i&&i.dispose());const o=this.player.isFullscreen();null!==(t=this._config.initConfig)&&void 0!==t&&t.base&&!o||null!==(r=this._config.initConfig)&&void 0!==r&&r.fullscreen&&o?(initUploadClient(),i&&!i.isDisposed()||n.addChild(feedbackButtonCompName,{config:this._config})):(i&&i.dispose(),this.disposeFeedbackModal())}disposeFeedbackModal(){const e=this.player.getChild(feedbackModalCompName);e&&!e.isDisposed()&&e.onClose()}}videojs.registerPlugin("feedback",Feedback);const Plugin=videojs.getPlugin("plugin");class SubtitlesPlugin extends Plugin{constructor(e,t){var r;super(e),_defineProperty$1(this,"_options",void 0),_defineProperty$1(this,"_userDisable",!0),_defineProperty$1(this,"_trackElement",void 0),_defineProperty$1(this,"isSubtitlesEnable",(()=>!(this._options.disable||!this._trackElement))),_defineProperty$1(this,"isSubtitlesShow",(()=>this.isSubtitlesEnable()&&!this._userDisable)),_defineProperty$1(this,"userSwitch",(e=>{this._userDisable=!e,localStorageTools.setItem(MST_PLAYER_SUBTITLES_DISABLE,this._userDisable),this._trackElement&&(this._trackElement.track.mode=this._userDisable?"disabled":"showing"),this.player.trigger(SubtitlesEvent.SWITCH_CHANGE)})),_defineProperty$1(this,"updateSubtitlesUrl",(e=>{this._trackElement&&(this.player.removeRemoteTextTrack(this._trackElement),this._trackElement=void 0),!this._options.disable&&e&&this.player.one("loadedmetadata",(()=>{this._trackElement=this.player.addRemoteTextTrack({kind:"subtitles",mode:this._userDisable?"disabled":"showing",srclang:"zh",src:e,default:!0},!1),this.player.trigger(SubtitlesEvent.ENABLE_CHANGE)}))})),this._options=t,this._userDisable=!(null!==(r=localStorageTools.getItem(MST_PLAYER_SUBTITLES_DISABLE))&&void 0!==r&&!r)}}videojs.registerPlugin("subtitlesPlugin",SubtitlesPlugin);const videoJs="",Play="播放",Pause="暂停",Duration="时长",LIVE="直播",Loaded="加载完成",Progress="进度",Fullscreen="全屏",Mute="静音",Unmute="开启音效",Subtitles="字幕",Captions="内嵌字幕",Chapters="节目段落",Descriptions="描述",Close="关闭",Replay="重新播放",Text="文字",White="白",Black="黑",Red="红",Green="绿",Blue="蓝",Yellow="黄",Magenta="紫红",Cyan="青",Background="背景",Window="窗口",Transparent="透明",Opaque="不透明",None="无",Raised="浮雕",Depressed="压低",Uniform="均匀",Dropshadow="下阴影",Casual="舒适",Script="手写体",Reset="重置",Done="完成",lang={Play:Play,Pause:Pause,"Current Time":"当前时间",Duration:Duration,"Remaining Time":"剩余时间","Stream Type":"媒体流类型",LIVE:LIVE,Loaded:Loaded,Progress:Progress,Fullscreen:Fullscreen,"Non-Fullscreen":"退出全屏","Picture-in-Picture":"画中画","Exit Picture-in-Picture":"退出画中画",Mute:Mute,Unmute:Unmute,"Playback Rate":"播放速度",Subtitles:Subtitles,"subtitles off":"关闭字幕",Captions:Captions,"captions off":"关闭内嵌字幕",Chapters:Chapters,"Close Modal Dialog":"关闭弹窗",Descriptions:Descriptions,"descriptions off":"关闭描述","Audio Track":"音轨","You aborted the media playback":"视频播放被终止","A network error caused the media download to fail part-way.":"网络错误导致视频下载中途失败。","The media could not be loaded, either because the server or network failed or because the format is not supported.":"视频因格式不支持或者服务器或网络的问题无法加载。","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"由于视频文件损坏或是该视频使用了你的浏览器不支持的功能，播放终止。","No compatible source was found for this media.":"无法找到此视频兼容的源。","The media is encrypted and we do not have the keys to decrypt it.":"视频已加密，无法解密。","Play Video":"播放视频",Close:Close,"Modal Window":"弹窗","This is a modal window":"这是一个弹窗","This modal can be closed by pressing the Escape key or activating the close button.":"可以按ESC按键或启用关闭按钮来关闭此弹窗。",", opens captions settings dialog":", 开启标题设置弹窗",", opens subtitles settings dialog":", 开启字幕设置弹窗",", opens descriptions settings dialog":", 开启描述设置弹窗",", selected":", 选择","captions settings":"字幕设定","Audio Player":"音频播放器","Video Player":"视频播放器",Replay:Replay,"Progress Bar":"进度条","Volume Level":"音量","subtitles settings":"字幕设定","descriptions settings":"描述设定",Text:Text,White:White,Black:Black,Red:Red,Green:Green,Blue:Blue,Yellow:Yellow,Magenta:Magenta,Cyan:Cyan,Background:Background,Window:Window,Transparent:Transparent,"Semi-Transparent":"半透明",Opaque:Opaque,"Font Size":"字体尺寸","Text Edge Style":"字体边缘样式",None:None,Raised:Raised,Depressed:Depressed,Uniform:Uniform,Dropshadow:Dropshadow,"Font Family":"字体库","Proportional Sans-Serif":"比例无细体","Monospace Sans-Serif":"单间隔无细体","Proportional Serif":"比例细体","Monospace Serif":"单间隔细体",Casual:Casual,Script:Script,"Small Caps":"小型大写字体",Reset:Reset,"restore all settings to the default values":"恢复全部设定至预设值",Done:Done,"Caption Settings Dialog":"字幕设定窗口","Beginning of dialog window. Escape will cancel and close the window.":"打开对话窗口。Escape键将取消并关闭对话窗口","End of dialog window.":"结束对话窗口","Seek to live, currently behind live":"尝试直播，当前为延时播放","Seek to live, currently playing live":"尝试直播，当前为实时播放","progress bar timing: currentTime={1} duration={2}":"{1}/{2}","{1} is loading.":"正在加载 {1}。","No content":"无内容"},index="",exchangeToLine={[LinePlatEnum.TENCENT]:RouteType.TENCENT,[LinePlatEnum.ALI]:RouteType.ALI};RouteType.TENCENT,LinePlatEnum.TENCENT,RouteType.ALI,LinePlatEnum.ALI;const exchangeDefinitionName={[ClarityIdEnum.LD]:"LD",[ClarityIdEnum.SD]:"SD",[ClarityIdEnum.HD]:"HD"};let supportedMap;function getSupportLines(){return supportedMap||(supportedMap={privateLines:AdapterManager.checkPrivateSupport(),standardLines:AdapterManager.checkStandardSupport()}),supportedMap}function exchangePlatToLine(e){return exchangeToLine[e]||""}function isPlatSupport(e,t){const r=exchangePlatToLine(e);return t===EncryptTypeEnum.STANDARD_ENCRYPTION?getSupportLines().standardLines.includes(r):getSupportLines().privateLines.includes(r)}function exchangeDefinition(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0;const n=exchangePlatToLine(e.showPlat),i={};n===RouteType.ALI&&r&&r!==EncryptTypeEnum.UNENCRYPTED&&(r===EncryptTypeEnum.STANDARD_ENCRYPTION?i.playConfig={EncryptType:"HLSEncryption",MtsHlsUriToken:e.token||""}:i.playConfig={EncryptType:"AliyunVoDEncryption"});const o=e.definitionList.map((r=>({clarityId:r.clarityId,name:r.name,source:{src:e.videoId,type:n,detail:{appID:e.platFormUuId,videoId:e.videoId,psign:r.psign,definition:!t&&exchangeDefinitionName[r.clarityId]||"",moreConfig:i}}})));return{showPlat:e.showPlat,showClarityId:e.showClarityId,definitionList:t?[o[0]]:o,subtitlesUrl:e.subtitlesUrl||""}}function makeSupportLines(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0;const n=[];return e.forEach((e=>{var i;null!==(i=e.definitionList)&&void 0!==i&&i.length&&isPlatSupport(e.showPlat,r)&&n.push(exchangeDefinition(e,t,r))})),n}function ownKeys$1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$1(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$1(Object(r),!0).forEach((function(t){_defineProperty$1(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$1(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function printDeprecated(e,t){(hostInfo.isTest||hostInfo.isDev)&&console.error("[MSTPLayer-配置弃用]：请使用 ".concat(t," 来替换 ").concat(e))}function printUnsupported(e,t,r){if(hostInfo.isTest||hostInfo.isDev){const n=t.filter((t=>void 0!==e[t])).join(",");n&&console.error("[MSTPLayer-配置不支持]：".concat(r||"").concat(n))}}function optionError(e){return new Error("[MSTPLayer-配置]：".concat(e))}const NAME_CHANGE=["Ended","Ready","Play","Pause","VolumeChange","Fullscreen","DefinitionChange","RateChange","StartDrag","Seek","Loadedmetadata"],BASE_CALL=["onError","onLineChange","onTimeUpdate","onHeaderStart","onFooterStart","onFooterEnd","onInteractiveInit","onInteractiveStart","onInteractiveEnd","onInteractiveOptionClick","onInteractiveSubmitClick","onInteractiveSkipClick","onInteractiveErrorSkipClick","onInteractiveErrorRetryClick","onErrorRefresh"];function checkCallbacks(e){printUnsupported(e,["onPlayerScreenshot"]);const t={};return NAME_CHANGE.forEach((r=>{const n="onPlayer".concat(r),i="on".concat(r);e[n]&&printDeprecated(n,i),t[i]=e[i]||e[n]})),e.onPlayerAdEnd&&printDeprecated("onPlayerAdEnd","onHeaderEnd"),t.onHeaderEnd=e.onHeaderEnd||e.onPlayerAdEnd,BASE_CALL.forEach((r=>t[r]=e[r])),e.onPlayerPerSecond&&(t.onPlayerPerSecond=e.onPlayerPerSecond,(hostInfo.isTest||hostInfo.isDev)&&console.error("[MSTPLayer-配置弃用]：onPlayerPerSecond 已经弃用，请使用 onTimeUpdate 来实现。不过 onPlayerPerSecond 一秒只执行一次，但是 onTimeUpdate 一秒可能执行多次")),t}function checkOptions(e){const{videoBizCode:t,parentNode:r,videoInfo:n,videoType:i,isPoint:o,expandCommonPackage:s,expandEventPackage:a,pointInfo:l,analyticsRecord:c,mediaType:u}=e;if(printUnsupported(e,["mode","recordLocalLog","businessType","isPoint","volume","isSkipAd"]),t.indexOf("_")>-1)throw optionError("videoBizCode定义已经修改，请重新查阅表格");let h,d;const{lessonId:p,courseId:f,interactiveSceneId:y,interactiveId:g,vid:v,videoCode:m,videoToken:_,internalVideoInfo:b}=n;if(hostInfo.isFront){if(!p||!_)throw optionError("前台模式videoInfo中，lessonId、videoToken必填");c||console.error("前台模式请传递埋点方法：analyticsRecord，否则部分上报数据会丢失"),h={lessonId:p,videoToken:_},printUnsupported(n,["interactiveSceneId","interactiveId","vid","videoCode","courseId"],"在前台模式下videoInfo不支持"),i&&printDeprecated("videoType","pointInfo.videoType"),f&&printDeprecated("videoInfo.courseId","pointInfo.courseId"),s&&printDeprecated("expandCommonPackage","pointInfo.commonPackage"),a&&printDeprecated("expandEventPackage","pointInfo.eventPackage"),(!1!==o&&i||null!=l&&l.videoType)&&(d={videoType:l.videoType||i,courseId:l.courseId||f,commonPackage:l.commonPackage||s,eventPackage:l.eventPackage||a})}else{if(!(p||y||g||v||m||b))throw optionError("管理后台模式videoInfo中，lessonId、interactiveId、videoCode、internalVideoInfo中必填一项");h={lessonId:p,interactiveId:g||y,videoCode:m||v,internalVideoInfo:b},y&&printDeprecated("videoInfo.interactiveSceneId","videoInfo.interactiveId"),v&&printDeprecated("videoInfo.vid","videoInfo.videoCode"),printUnsupported(n,["videoToken","courseId"],"在管理后台模式下videoInfo不支持"),printUnsupported(e,["pointInfo"],"在管理后台模式下不支持看课进度插件")}return _objectSpread$1({videoBizCode:t,mediaType:u,videoInfo:h,parentNode:r,startPos:e.startPos,seekOutOfRangeWord:e.seekOutOfRangeWord||"视频升级，本课从头播放",subtitlesDisable:e.subtitlesDisable||!1,rateChangeDisable:e.rateChangeDisable||!1,dragProgressBarDisable:e.dragProgressBarDisable||!1,definitionChangeDisable:e.definitionChangeDisable||!1,pointInfo:d,interactiveInfo:e.interactiveInfo,analyticsRecord:c,titleInfo:e.titleInfo,menuInfo:e.menuInfo,hotKeysInfo:e.hotKeysInfo,progressInfo:e.progressInfo,feedbackInfo:e.feedbackInfo,videoTagInfo:e.videoTagInfo,resizeInfo:e.resizeInfo},checkCallbacks(e))}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_defineProperty$1(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}videojs.addLanguage("zh-CN",lang);class MSTPlayer{constructor(e){_defineProperty$1(this,"_parentDom",void 0),_defineProperty$1(this,"_player",void 0),_defineProperty$1(this,"_options",void 0),_defineProperty$1(this,"_seekPrePos",0),_defineProperty$1(this,"_supportLines",[]),_defineProperty$1(this,"_currentLine",LinePlatEnum.SELF),_defineProperty$1(this,"_isReady",!1),_defineProperty$1(this,"_isInError",0),_defineProperty$1(this,"_perSecondTimer",void 0),_defineProperty$1(this,"_logger",void 0),_defineProperty$1(this,"_qualityPoint",void 0),_defineProperty$1(this,"_isInitErrorUpload",!1),_defineProperty$1(this,"initServerInfo",(e=>__async2(this,null,(function*(){var t,r;const{interactiveInfo:n={},titleInfo:i={},menuInfo:o={},hotKeysInfo:s={},progressInfo:a={},videoBizCode:l,videoInfo:c,rateChangeDisable:u,dragProgressBarDisable:h,definitionChangeDisable:d,pointInfo:p,analyticsRecord:f,onReady:y,onErrorRefresh:g,subtitlesDisable:v,resizeInfo:m={}}=this._options,_=this._options.mediaType||MediaTypeEnum.VIDEO,b=_===MediaTypeEnum.AUDIO;this._parentDom.innerHTML="";const E=videojs.dom.createEl("video",{className:"video-js vjs-full-video vjs-big-play-centered ".concat(isMobile()?"vjs-mobile":"")});this._parentDom.appendChild(E),this._player=videojs(E,{controls:!0,language:"zh-CN",playbackRates:u?void 0:[.8,1,1.2,1.5,2],playsinline:!0,userActions:{hotkeys:!1},preferFullWindow:!0,fullscreenByParent:!0,defaultFullscreen:!!e,topBar:{title:_objectSpread({},i),children:["title","customControlSpacer"]},controlBar:{pictureInPictureToggle:!1,volumePanel:{inline:!1,mediaType:_},progressControl:_objectSpread({},a),children:["playToggle","currentTimeDisplay","timeDivider","durationDisplay","progressControl","controlSpaceLeft","customControlSpacer","controlSpaceRight","controlCenter","lines","playRate","SubtitlesToggle","volumePanel","fullscreenToggle"]},errorLayer:{onErrorRefresh:g},children:[...b?["audioBg"]:[],"textTrackDisplay","loadingLayer","ratePlaying","bigPlayButton","topBar","controlBar","errorLayer","resizeManager",toastCompName],plugins:{hotKeys:_objectSpread({},s),resize:_objectSpread({},m),mstMenu:_objectSpread(_objectSpread({lessonId:c.lessonId},o),{},{changeVideo:this.changeVideo}),bizAnalytics:{videoBizCode:l,record:f},subtitlesPlugin:{disable:v}}}),this._player.volume(getCacheForVolume(_)),this.addEvent(),this._player.bigPlayButton.hide();const[T,$]=yield Promise.all([getVideoInfo(l,c).catch((e=>{this.triggerError(makeError(ErrorEnum.GET_BASE_INFO,e))})),getPlayerGlobalConf(l).catch((e=>{const t=makeError(ErrorEnum.GET_GLOBAL_CONF,e);return this.triggerError(t),this._logger.warn(_objectSpread(_objectSpread({},t),{},{options:filterSlsOptions(this._options)})),{globalInfo:{intervalTime:60,ts:Date.now(),clientIp:"",sessionId:"",secret:"",logLevel:"info",logExtendConfig:""},loginInfo:{loginRenewalTime:600},videoPlayedProgress:{differenceValue:5,reportFrequency:30},feedbackConfigInfo:{enabledFeedbackSwitch:!1}}}))]);if(!T||!this._player||c!==this._options.videoInfo)return;if(this._supportLines=makeSupportLines(T.videoList,b,T.encryptType),!this._supportLines.length)return void this.triggerError(makeError(ErrorEnum.NO_SUPPORT_LINE,null,"前端检测当前环境无可播放线路"));const S={videoBizCode:l,header:T.videoHeader,footUrl:T.footUrl},w=localStorageTools.getItem(MST_PLAYER_LINE_CHANGE_CACHE);let C;this._supportLines.forEach((e=>{C||e.showPlat!==T.defaultPlat||(C=e),e.showPlat===w&&(C=e)})),C||(C=this._supportLines[0]),this._currentLine=C.showPlat,C.disableUI=!!d;const P=this.disposeCacheDefinition(C);if(this._player.definition(P),T.interactiveInfo){const{checkAnswer:e,answerMore:t,markers:r}=n;this._player.bizInteractive({interactive:T.interactiveInfo,checkAnswer:e,answerMore:_objectSpread({videoBizCode:l,lessonId:c.lessonId},t),skipCountdown:null==n?void 0:n.skipCountdown,markers:r})}const O=null===(t=this._player)||void 0===t?void 0:t.definition().showClarity(),A={info:{lessonId:c.lessonId,videoBizCode:l,platId:this._currentLine,videoId:(null==O||null===(r=O.source)||void 0===r?void 0:r.src)||"",videoType:QualityPointVideoType.MAIN},config:{errorEvent:DisplayErrorEvent.SHOW}};var I;(this._player.qualityPoint(A),this._player.on(DefinitionEvent.CHANGE,(()=>{var e,t;this._isInitErrorUpload=!1;const r=null===(e=this._player)||void 0===e?void 0:e.definition().showClarity();null===(t=this._player)||void 0===t||t.qualityPoint().changeInfo({platId:this._currentLine,videoId:(null==r?void 0:r.source.src)||""})})),this._player.on("play",(()=>{this._isInitErrorUpload=!0})),hostInfo.isFront)&&(null!=p&&p.videoType&&this._player.bizPoint(_objectSpread(_objectSpread({},$.globalInfo),{},{lessonId:c.lessonId,videoBizCode:l},p)),this._player.bizLogin(_objectSpread({},$.loginInfo)),this._player.progressPoint({lessonId:c.lessonId,reportFrequency:null===(I=$.videoPlayedProgress)||void 0===I?void 0:I.reportFrequency,videoBizCode:l}));this._player.feedback({videoBizCode:l,lessonId:c.lessonId,globalConfig:$.feedbackConfigInfo,initConfig:this._options.feedbackInfo}),this._player.videoTag({lessonId:c.lessonId,initConfig:this._options.videoTagInfo,videoBizCode:l});const{logLevel:R,logExtendConfig:k}=$.globalInfo;this._player.logging({logLevel:R,logExtendConfig:k}),this._player.ready((()=>{var e;this._isReady=!0,null==y||y({lines:{current:this.getCurrentLine(),all:this.getSupportLines()}}),null===(e=this._player)||void 0===e||e.trigger(LinesEvent.LIST_CHANGE)})),this._player.one("loadedmetadata",(()=>{if(!this._player)return;var e;h&&(null===(e=this._player.controlBar.getChild("progressControl"))||void 0===e||e.disable());this._player.playbackRate(this.getDefaultPlayRate());const t=this._player.duration()||0,r="number"==typeof this._options.startPos&&this._options.startPos>=0;let n=!1,i=this._options.startPos||0;if(i&&i>t&&(i=0,n=!0),r&&(i&&this._player.currentTime(i),n&&this._player.one("play",(()=>{var e;null===(e=this._player)||void 0===e||e.trigger(EToastEvent.TOAST_SHOW,{type:EToastType.error,content:this._options.seekOutOfRangeWord})}))),hostInfo.isFront&&!r){var o,s;const e=Number(null===(o=T.viewPlayedProgressInfo)||void 0===o?void 0:o.videoPlayedProgress)||0,r=(null===(s=$.videoPlayedProgress)||void 0===s?void 0:s.differenceValue)||5;!isIOS()&&e&&t-e>r&&(this._player.currentTime(e),this._player.one("play",(()=>{var e;null===(e=this._player)||void 0===e||e.addChild("progressModel")})),delete S.header),this._player.bizHeaderFooter(S)}this._player.ready((()=>{var e,t;null===(e=(t=this._options).onLoadedmetadata)||void 0===e||e.call(t)}))}))})))),_defineProperty$1(this,"catchInitServerInfo",(e=>__async2(this,null,(function*(){try{this.initServerInfo(e)}catch(e2){this.triggerError(makeError(ErrorEnum.ERROR_UNKNOWN))}})))),_defineProperty$1(this,"addEvent",(()=>{if(!this._player)return;const e=this._player,{onVolumeChange:t,onFullscreen:r,onDefinitionChange:n,onRateChange:i,onSeek:o,onStartDrag:s,onInteractiveInit:a,onInteractiveStart:l,onInteractiveEnd:c,onInteractiveOptionClick:u,onInteractiveSubmitClick:h,onInteractiveSkipClick:d,onInteractiveErrorSkipClick:p,onInteractiveErrorRetryClick:f}=this._options;["Play","Pause","Ended","TimeUpdate","HeaderStart","HeaderEnd","FooterStart","FooterEnd"].forEach((t=>{const r="on".concat(t),n=t.toLowerCase();if(this._options[r]){const t=this._options[r];e.on(n,(()=>t()))}})),t&&e.on("volumechange",(()=>t(e.volume()))),r&&e.on("hackfullscreenchange",(()=>r(e.isFullscreen()))),n&&e.on(DefinitionEvent.CHANGE,(()=>{var t;return n((null===(t=e.definition().showClarity())||void 0===t?void 0:t.name)||"")})),window.eHook&&e.on("timeupdate",(()=>{this.checkRate()})),e.on("ratechange",(()=>{this.checkRate()||null==i||i(e.playbackRate())})),e.on(ProgressControlEvent.SEEK_START,(()=>{this._seekPrePos=e.currentTime(),s&&s(this._seekPrePos)})),e.on(ProgressControlEvent.SEEK_END,(()=>{o&&o(this._seekPrePos,e.currentTime())})),a&&e.on(InteractiveEvent.INIT,((e,t)=>{let{info:r}=t;a(r)})),l&&e.on(InteractiveEvent.START,((e,t)=>{let{info:r}=t;l(r)})),c&&e.on(InteractiveEvent.END,((e,t)=>{let{type:r,info:n}=t;c(r,n)})),u&&e.on(InteractiveEvent.OPTION,((e,t)=>{let{option:r,info:n}=t;u(r,n)})),h&&e.on(InteractiveEvent.SUBMIT,((e,t)=>{let{info:r}=t;h(r)})),d&&e.on(InteractiveEvent.SKIP,((e,t)=>{let{info:r}=t;d(r)})),p&&e.on(InteractiveEvent.ERROR_SKIP,((e,t)=>{let{info:r,type:n}=t;p(r,n)})),f&&e.on(InteractiveEvent.ERROR_RETRY,((e,t)=>{let{info:r,type:n}=t;f(r,n)})),e.on(PlayRateEvent.CLICK,((t,r)=>{let{rate:n}=r;saveCacheForRate(n),e.bizAnalytics().clickPv(AnalyticsEventCodeEnum.BUTTON_CLICK,{action:"切换倍速"},!0)})),e.on(DefinitionEvent.CLICK,((t,r)=>{let{clarityId:n}=r;saveCacheForDefinition(n),e.bizAnalytics().clickPv(AnalyticsEventCodeEnum.BUTTON_CLICK,{action:"切换清晰度"},!0)})),e.on("error",((t,r)=>{const n=e.error();n?n._isTech?n._isFatal?this.triggerError(makeError(ErrorEnum.VIDEO_SDK,n)):(e.error(null),this.triggerError(makeError(ErrorEnum.VIDEO_SDK_WARN,n))):this.triggerError(makeError(ErrorEnum.MEDIA_UNKNOWN,n)):r&&(r._s?this.triggerError(r):this.triggerError(makeError(ErrorEnum.UNKNOWN,r)))})),e.getSupportLines=()=>this.getSupportLines(),e.getCurrentLine=()=>this.getCurrentLine(),e.changeLine=e=>this.changeLine(e),e.getDefaultPlayRate=()=>this.getDefaultPlayRate(),e.bigPlay=()=>this.play(),e.seek=e=>this.seek(e),this.playerPerSecond()})),_defineProperty$1(this,"playerPerSecond",(()=>{const{onPlayerPerSecond:e}=this._options;if(!e||!this._player)return;const t=this._player;this.clearPerSecondTimer(),t.on("play",(()=>{this.clearPerSecondTimer(),this._perSecondTimer=setInterval((()=>{e(t.currentTime())}),1e3)})),t.on(["pause","ended"],(()=>{this.clearPerSecondTimer()}))})),_defineProperty$1(this,"clearPerSecondTimer",(()=>{this._perSecondTimer&&(clearInterval(this._perSecondTimer),this._perSecondTimer=void 0)})),_defineProperty$1(this,"disposeCacheDefinition",(e=>{const t=localStorageTools.getItem(MST_PLAYER_DEFINITION_CHANGE_CACHE),r=JSON.parse(JSON.stringify(e)),n=r.showClarityId;let i;return r.definitionList.forEach((e=>{i||e.clarityId!==n||(i=e.clarityId),t&&e.clarityId===t&&(i=t)})),i||(i=r.definitionList[0].clarityId),r.showClarityId=i,r})),_defineProperty$1(this,"checkRate",(()=>{return;})),_defineProperty$1(this,"uploadInitError",(e=>{this._isInitErrorUpload||(this._isInitErrorUpload=!0,this._qualityPoint.sendToSLS(_objectSpread(_objectSpread({},e),{},{event:QualityPointEvent.INIT_FAILED})))})),_defineProperty$1(this,"getDefaultPlayRate",(()=>{var e;const t=localStorageTools.getItem(MST_PLAYER_RATE_CHANGE_CACHE)||0,r=-1!==((null===(e=this._player)||void 0===e?void 0:e.playbackRates())||[]).indexOf(t);return t&&r?t:1})),_defineProperty$1(this,"destroy",(()=>{this.clearPerSecondTimer(),this._supportLines=[],this._currentLine=LinePlatEnum.SELF,this._player&&(this._player.usingPlugin("progressPoint")&&this._player.progressPoint().toSendProgress(),this._player.usingPlugin("bizPoint")&&this._player.bizPoint().sendPauseUpload(),this._player.dispose(),this._player=void 0),this._isInError=0,this._isInitErrorUpload=!1,this._isReady=!1})),_defineProperty$1(this,"destory",(()=>{this.destroy()})),_defineProperty$1(this,"play",(()=>{this._player&&(this._player.hasStarted()?this._player.play():this._player.bigPlayButton.handleClick(new CustomEvent("click")))})),_defineProperty$1(this,"pause",(()=>{var e;null===(e=this._player)||void 0===e||e.pause()})),_defineProperty$1(this,"seek",(e=>{if(this._player){var t,r;this._player.trigger(MSTPlayerEvent.SEEK);const n=this._player.currentTime(),i=this._player.duration();let o=Math.max(0,e);o>i&&(o=0,this._player.trigger(EToastEvent.TOAST_SHOW,{type:EToastType.error,content:this._options.seekOutOfRangeWord})),this._player.currentTime(o),null===(t=(r=this._options).onSeek)||void 0===t||t.call(r,n,o)}})),_defineProperty$1(this,"getDuration",(()=>{var e;return(null===(e=this._player)||void 0===e?void 0:e.duration())||0})),_defineProperty$1(this,"replay",(()=>{var e,t;null===(e=this._player)||void 0===e||e.currentTime(0),null===(t=this._player)||void 0===t||t.play()})),_defineProperty$1(this,"setVolume",(e=>{var t;null===(t=this._player)||void 0===t||t.volume(e),saveCacheForVolume(e,this._options.mediaType||MediaTypeEnum.VIDEO)})),_defineProperty$1(this,"intoFullScreen",(()=>{this._player&&!this._player.isFullscreen()&&this._player.requestFullscreen()})),_defineProperty$1(this,"exitFullScreen",(()=>{var e;null!==(e=this._player)&&void 0!==e&&e.isFullscreen()&&this._player.exitFullscreen()})),_defineProperty$1(this,"getPosition",(()=>{var e;return(null===(e=this._player)||void 0===e?void 0:e.currentTime())||0})),_defineProperty$1(this,"getRate",(()=>{var e;return(null===(e=this._player)||void 0===e?void 0:e.playbackRate())||1})),_defineProperty$1(this,"getVideoState",(()=>this._player&&this._isReady?this._player.paused()?MSTPlayerStatusEnum.PAUSE:MSTPlayerStatusEnum.PLAY:MSTPlayerStatusEnum.INIT)),_defineProperty$1(this,"screenshot",((e,t)=>{var r;const n=null===(r=this._player)||void 0===r||null===(r=r.tech())||void 0===r?void 0:r.el();return n&&n instanceof HTMLVideoElement?getScreenshot(n,e,t):""})),_defineProperty$1(this,"getDefinition",(()=>{var e,t;return null!==(e=this._player)&&void 0!==e&&e.usingPlugin("definition")&&(null===(t=this._player.definition())||void 0===t||null===(t=t.showClarity())||void 0===t?void 0:t.name)||""})),_defineProperty$1(this,"isFullScreen",(()=>{var e;return(null===(e=this._player)||void 0===e?void 0:e.isFullscreen())||!1})),_defineProperty$1(this,"changeVideo",(e=>{var t;if(!e)return;this._isInitErrorUpload=!1;const r=_objectSpread(_objectSpread({},this._options),{},{startPos:void 0});e.videoInfo?Object.assign(r,e):r.videoInfo=e;try{this._qualityPoint.sendToSLS({videoBizCode:r.videoBizCode,event:QualityPointEvent.INIT_START}),this._options=checkOptions(r)}catch(error){const n=(null==error?void 0:error.message)||"播放器切换视频配置不合法";throw this._logger.error(makeError(ErrorEnum.CHANGE_CONFIG_INVALID,{options:filterSlsOptions(r),info:e,error:error},n)),this.uploadInitError({videoBizCode:this._options.videoBizCode,extra_info:{error_message:n}}),error}const n=null===(t=this._player)||void 0===t?void 0:t.isFullscreen();this.destroy(),this.catchInitServerInfo(n)})),_defineProperty$1(this,"ChangeVideoCode",(e=>{if(hostInfo.isTest||hostInfo.isDev)throw new Error("请使用 changeVideo 来替换 ChangeVideoCode");this.changeVideo(e)})),_defineProperty$1(this,"changeLine",(e=>{if(this._player&&e!==this._currentLine){const n=this._supportLines.find((t=>t.showPlat===e));if(n){var t,r;this._player.error(null),this._isInError=0,this._currentLine=n.showPlat,saveCacheForLine(this._currentLine);const e=this.disposeCacheDefinition(n);this._player.trigger(DisplayErrorEvent.HIDE),this._player.definition().changeLine(e),null===(t=(r=this._options).onLineChange)||void 0===t||t.call(r,this._currentLine),this._player.trigger(LinesEvent.CHANGE),this._player.bizAnalytics().clickPv(AnalyticsEventCodeEnum.BUTTON_CLICK,{action:"切换线路"},!0)}}})),_defineProperty$1(this,"getSupportLines",(()=>this._supportLines.map((e=>e.showPlat)))),_defineProperty$1(this,"getCurrentLine",(()=>this._currentLine)),_defineProperty$1(this,"getHackDoms",(()=>{var e,t,r;return this._player?{base:this._player.el(),controlBar:this._player.controlBar,controlCenter:null===(e=this._player.controlBar)||void 0===e||null===(e=e.getChild("controlCenter"))||void 0===e?void 0:e.el(),controlSpaceLeft:null===(t=this._player.controlBar)||void 0===t||null===(t=t.getChild("controlSpaceLeft"))||void 0===t?void 0:t.el(),controlSpaceRight:null===(r=this._player.controlBar)||void 0===r||null===(r=r.getChild("controlSpaceRight"))||void 0===r?void 0:r.el()}:{}})),_defineProperty$1(this,"updateMenuItems",(e=>{var t;this._options.menuInfo&&(this._options.menuInfo.items=e||[]),null===(t=this._player)||void 0===t||t.mstMenu().updateMenuItems(e)})),_defineProperty$1(this,"disableHotKeys",(()=>{var e;null===(e=this._player)||void 0===e||e.hotKeys().disableHotKeys(HotKeysLockNameEnum.USER)})),_defineProperty$1(this,"resumeHotKeys",(()=>{var e;null===(e=this._player)||void 0===e||e.hotKeys().resumeHotKeys(HotKeysLockNameEnum.USER)})),_defineProperty$1(this,"getPointInfo",(()=>{var e;return null!==(e=this._player)&&void 0!==e&&e.usingPlugin("bizPoint")?this._player.bizPoint().getPointInfo():{}})),_defineProperty$1(this,"deleteTagById",(e=>{e&&this._player&&this._player.usingPlugin(videoTagPluginName)&&this._player.videoTag().deleteTagByOutside(e)})),this._logger=new Logger("MSTPlayer"),this._qualityPoint=new QualityPoint;try{const{videoBizCode:t,parentNode:r,videoInfo:n}=e;if(this._qualityPoint.sendToSLS({videoBizCode:t,event:QualityPointEvent.INIT_START}),!t||!r||!n)throw optionError("videoBizCode、parentNode、videoInfo必填");if(this._parentDom="string"==typeof e.parentNode?videojs.dom.$("#"+normalizeId(e.parentNode)):e.parentNode,!this._parentDom)throw optionError("未找到parentNode对应的Dom节点");this._options=checkOptions(e)}catch(error){const r=(null==error?void 0:error.message)||"播放器初始化配置不合法";throw this._logger.error(makeError(ErrorEnum.INIT_CONFIG_INVALID,{options:filterSlsOptions(e),error:error},r)),this.uploadInitError({videoBizCode:e.videoBizCode,extra_info:{error_message:r}}),error}this._parentDom.classList.add("mst-player-skin"),this._parentDom.oncontextmenu=e=>{e.preventDefault()},this.catchInitServerInfo()}triggerError(e){var t,r,n,i;if(e.code<2e3)if(this._isInError)this._isInError++,this._isInError<=11?this._logger.warn(_objectSpread(_objectSpread({},e),{},{options:filterSlsOptions(this._options)})):101===this._isInError&&this._logger.error(makeError(ErrorEnum.TOO_MANY_DEMOTE_ERROR,null,"降级错误达到100次"));else{var o,s,a;if(this._isInError=1,null===(o=this._player)||void 0===o||o.trigger(DisplayErrorEvent.SHOW,e),this._logger.error(_objectSpread(_objectSpread({},e),{},{options:filterSlsOptions(this._options)})),null===(s=this._player)||void 0===s||!s.paused())null===(a=this._player)||void 0===a||a.pause();this._player&&!this._player.usingPlugin("qualityPoint")&&this.uploadInitError({videoBizCode:this._options.videoBizCode,extra_info:{error_message:e.message||"非配置错误"}})}(null===(t=(r=this._options).onError)||void 0===t||t.call(r,e),e.code!==ErrorEnum.NOT_LOGIN&&isNoLogin(e.data))&&(null===(n=(i=this._options).onError)||void 0===n||n.call(i,_objectSpread(_objectSpread({},e),{},{code:ErrorEnum.NOT_LOGIN})))}}return _defineProperty$1(MSTPlayer,"VERSION",version),_defineProperty$1(MSTPlayer,"setLogGlobalProps",Configs.setLogGlobalProps),_defineProperty$1(MSTPlayer,"loadLottie",loadLottie),MSTPlayer}));
